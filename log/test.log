  [1m[36m (8.5ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `telephone` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.8ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (32.3ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150318181948')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-03-18 21:02:39', '2015-03-18 21:02:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-03-18 21:02:39', '2015-03-18 21:02:39', 298486374)
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 1293ms (Views: 1292.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (117.1ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `telephone` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (16.6ms)[0m  CREATE TABLE `tshirts` (`id` int(11) auto_increment PRIMARY KEY, `price` float, `size` varchar(255), `country` varchar(255), `club` varchar(255), `manufacturer_id` int(11) NOT NULL) ENGINE=InnoDB
  [1m[36m (51.8ms)[0m  [1mCREATE  INDEX `fk_man_manufacturer` USING btree ON `tshirts` (`manufacturer_id`) [0m
  [1m[35m (9.2ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (58.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (14.6ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (8.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150413174928')[0m
  [1m[35m (10.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150318181948')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (4.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (1.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.4ms)[0m  BEGIN
  [1m[36mFixture Delete (3.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (5.1ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:33:05', '2015-04-25 19:33:05', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:33:05', '2015-04-25 19:33:05', 298486374)[0m
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_create
---------------------------------------------------------
Processing by Admin::ManufacturerController#create as HTML
Completed 400 Bad Request in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_destroy
----------------------------------------------------------
Processing by Admin::ManufacturerController#destroy as HTML
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_edit
-------------------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
Completed 404 Not Found in 0ms
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_index
--------------------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (14.1ms)
Completed 200 OK in 958ms (Views: 956.4ms | ActiveRecord: 0.5ms)
  [1m[35m (17.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_new
------------------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (30.1ms)
Completed 200 OK in 43ms (Views: 41.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_show
-------------------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
Completed 404 Not Found in 2ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_update
---------------------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
Completed 404 Not Found in 0ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_create
---------------------------------------------------
Processing by Admin::TshirtController#create as HTML
Completed 400 Bad Request in 12ms
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::TshirtControllerTest: test_should_get_destroy
----------------------------------------------------
Processing by Admin::TshirtController#destroy as HTML
Completed 404 Not Found in 6ms
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_edit
-------------------------------------------------
Processing by Admin::TshirtController#edit as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::TshirtControllerTest: test_should_get_index
--------------------------------------------------
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (1.2ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  Rendered admin/tshirt/_tshirt.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_should_get_new
------------------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (1.0ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (20.0ms)
Completed 200 OK in 50ms (Views: 28.6ms | ActiveRecord: 19.4ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_show
-------------------------------------------------
Processing by Admin::TshirtController#show as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_update
---------------------------------------------------
Processing by Admin::TshirtController#update as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (4.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (5.4ms)[0m  BEGIN
  [1m[36mFixture Delete (7.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (4.7ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:33:35', '2015-04-25 19:33:35', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:33:35', '2015-04-25 19:33:35', 298486374)[0m
  [1m[35m (26.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_new
------------------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (19.6ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (28.8ms)
Completed 200 OK in 70ms (Views: 68.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_create
---------------------------------------------------
Processing by Admin::TshirtController#create as HTML
Completed 400 Bad Request in 14ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::TshirtControllerTest: test_should_get_destroy
----------------------------------------------------
Processing by Admin::TshirtController#destroy as HTML
Completed 404 Not Found in 2ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_edit
-------------------------------------------------
Processing by Admin::TshirtController#edit as HTML
Completed 404 Not Found in 6ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::TshirtControllerTest: test_should_get_index
--------------------------------------------------
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  Rendered admin/tshirt/_tshirt.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_should_get_new
------------------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (13.5ms)
Completed 200 OK in 27ms (Views: 24.4ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_show
-------------------------------------------------
Processing by Admin::TshirtController#show as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_update
---------------------------------------------------
Processing by Admin::TshirtController#update as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (6.9ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (2.8ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:34:34', '2015-04-25 19:34:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:34:34', '2015-04-25 19:34:34', 298486374)[0m
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 35ms (Views: 34.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_new
------------------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (23.8ms)
Completed 200 OK in 34ms (Views: 33.6ms | ActiveRecord: 0.0ms)
  [1m[36m (12.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Erick", "telephone"=>"6621451741"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-25 19:34:34', 'Erick', '6621451741', '2015-04-25 19:34:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 9ms (Views: 33.6ms | ActiveRecord: 4.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_create
---------------------------------------------------
Processing by Admin::TshirtController#create as HTML
Completed 400 Bad Request in 5ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::TshirtControllerTest: test_should_get_destroy
----------------------------------------------------
Processing by Admin::TshirtController#destroy as HTML
Completed 404 Not Found in 11ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_edit
-------------------------------------------------
Processing by Admin::TshirtController#edit as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::TshirtControllerTest: test_should_get_index
--------------------------------------------------
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (1.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  Rendered admin/tshirt/_tshirt.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_should_get_new
------------------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (19.2ms)
Completed 200 OK in 32ms (Views: 28.8ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_show
-------------------------------------------------
Processing by Admin::TshirtController#show as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_update
---------------------------------------------------
Processing by Admin::TshirtController#update as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (11.0ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:35:05', '2015-04-25 19:35:05', 980190962)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:35:05', '2015-04-25 19:35:05', 298486374)[0m
  [1m[35m (3.8ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 27ms (Views: 26.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_create
---------------------------------------------------
Processing by Admin::TshirtController#create as HTML
Completed 400 Bad Request in 8ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::TshirtControllerTest: test_should_get_destroy
----------------------------------------------------
Processing by Admin::TshirtController#destroy as HTML
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_edit
-------------------------------------------------
Processing by Admin::TshirtController#edit as HTML
Completed 404 Not Found in 5ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.7ms)[0m  BEGIN
--------------------------------------------------
Admin::TshirtControllerTest: test_should_get_index
--------------------------------------------------
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  Rendered admin/tshirt/_tshirt.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_should_get_new
------------------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (39.7ms)
Completed 200 OK in 57ms (Views: 45.5ms | ActiveRecord: 5.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_show
-------------------------------------------------
Processing by Admin::TshirtController#show as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_update
---------------------------------------------------
Processing by Admin::TshirtController#update as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_new
------------------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.4ms)
Completed 200 OK in 15ms (Views: 14.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Erick", "telephone"=>"6621451741"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-25 19:35:05', 'Erick', '6621451741', '2015-04-25 19:35:05')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 19ms (Views: 14.7ms | ActiveRecord: 9.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (40.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (5.0ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:35:32', '2015-04-25 19:35:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:35:32', '2015-04-25 19:35:32', 298486374)[0m
  [1m[35m (3.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_create
---------------------------------------------------
Processing by Admin::TshirtController#create as HTML
Completed 400 Bad Request in 6ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::TshirtControllerTest: test_should_get_destroy
----------------------------------------------------
Processing by Admin::TshirtController#destroy as HTML
Completed 404 Not Found in 2ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_edit
-------------------------------------------------
Processing by Admin::TshirtController#edit as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::TshirtControllerTest: test_should_get_index
--------------------------------------------------
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  Rendered admin/tshirt/_tshirt.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 48.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_should_get_new
------------------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (29.4ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_show
-------------------------------------------------
Processing by Admin::TshirtController#show as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_update
---------------------------------------------------
Processing by Admin::TshirtController#update as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_new
------------------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.3ms)
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Erick", "telephone"=>"6621451741"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-25 19:35:32', 'Erick', '6621451741', '2015-04-25 19:35:32')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 16ms (Views: 18.3ms | ActiveRecord: 9.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (5.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:35:51', '2015-04-25 19:35:51', 980190962)
  [1m[36mFixture Insert (1.8ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:35:51', '2015-04-25 19:35:51', 298486374)[0m
  [1m[35m (3.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 35ms (Views: 34.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_create
---------------------------------------------------
Processing by Admin::TshirtController#create as HTML
Completed 400 Bad Request in 4ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::TshirtControllerTest: test_should_get_destroy
----------------------------------------------------
Processing by Admin::TshirtController#destroy as HTML
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_edit
-------------------------------------------------
Processing by Admin::TshirtController#edit as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::TshirtControllerTest: test_should_get_index
--------------------------------------------------
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  Rendered admin/tshirt/_tshirt.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_should_get_new
------------------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (1.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (26.7ms)
Completed 200 OK in 43ms (Views: 33.1ms | ActiveRecord: 6.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_show
-------------------------------------------------
Processing by Admin::TshirtController#show as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_update
---------------------------------------------------
Processing by Admin::TshirtController#update as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_new
------------------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Erick", "telephone"=>"6621451741"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-25 19:35:51', 'Erick', '6621451741', '2015-04-25 19:35:51')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (Views: 6.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (2.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (5.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:58:24', '2015-04-25 19:58:24', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 19:58:24', '2015-04-25 19:58:24', 298486374)[0m
  [1m[35m (5.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 60ms (Views: 59.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_create
---------------------------------------------------------
Processing by Admin::ManufacturerController#create as HTML
Completed 400 Bad Request in 0ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_destroy
----------------------------------------------------------
Processing by Admin::ManufacturerController#destroy as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_edit
-------------------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_index
--------------------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (1.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (5.3ms)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_new
------------------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (11.9ms)
Completed 200 OK in 17ms (Views: 16.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Erick", "telephone"=>"6621451741"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-25 19:58:24', 'Erick', '6621451741', '2015-04-25 19:58:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 6ms (Views: 16.7ms | ActiveRecord: 2.6ms)
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_show
-------------------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_update
---------------------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_create
---------------------------------------------------
Processing by Admin::TshirtController#create as HTML
Completed 400 Bad Request in 6ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::TshirtControllerTest: test_should_get_destroy
----------------------------------------------------
Processing by Admin::TshirtController#destroy as HTML
Completed 404 Not Found in 2ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_edit
-------------------------------------------------
Processing by Admin::TshirtController#edit as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::TshirtControllerTest: test_should_get_index
--------------------------------------------------
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  Rendered admin/tshirt/_tshirt.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_should_get_new
------------------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (10.0ms)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 1.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_show
-------------------------------------------------
Processing by Admin::TshirtController#show as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_update
---------------------------------------------------
Processing by Admin::TshirtController#update as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (12.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 20:00:43', '2015-04-25 20:00:43', 980190962)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2015-04-25 20:00:43', '2015-04-25 20:00:43', 298486374)[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
---------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_create
---------------------------------------------------------
Processing by Admin::ManufacturerController#create as HTML
Completed 400 Bad Request in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_destroy
----------------------------------------------------------
Processing by Admin::ManufacturerController#destroy as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_edit
-------------------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_index
--------------------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (4.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (11.4ms)
Completed 200 OK in 59ms (Views: 50.1ms | ActiveRecord: 4.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_new
------------------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (11.1ms)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_show
-------------------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
Completed 404 Not Found in 5ms
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
Admin::ManufacturerControllerTest: test_should_get_update
---------------------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_create
---------------------------------------------------
Processing by Admin::TshirtController#create as HTML
Completed 400 Bad Request in 9ms
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::TshirtControllerTest: test_should_get_destroy
----------------------------------------------------
Processing by Admin::TshirtController#destroy as HTML
Completed 404 Not Found in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_edit
-------------------------------------------------
Processing by Admin::TshirtController#edit as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::TshirtControllerTest: test_should_get_index
--------------------------------------------------
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (3.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  Rendered admin/tshirt/_tshirt.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 3.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_should_get_new
------------------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (17.1ms)
Completed 200 OK in 34ms (Views: 31.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::TshirtControllerTest: test_should_get_show
-------------------------------------------------
Processing by Admin::TshirtController#show as HTML
Completed 404 Not Found in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::TshirtControllerTest: test_should_get_update
---------------------------------------------------
Processing by Admin::TshirtController#update as HTML
Completed 404 Not Found in 4ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (81.2ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `telephone` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (9.6ms)[0m  CREATE TABLE `tshirts` (`id` int(11) auto_increment PRIMARY KEY, `price` float, `size` varchar(255), `country` varchar(255), `club` varchar(255), `manufacturer_id` int(11) NOT NULL, `image_file_name` varchar(255), `image_content_type` varchar(255), `image_file_size` int(11), `image_updated_at` datetime) ENGINE=InnoDB
  [1m[36m (32.1ms)[0m  [1mCREATE  INDEX `fk_man_manufacturer` USING btree ON `tshirts` (`manufacturer_id`) [0m
  [1m[35m (55.1ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (62.3ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (0.4ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (3.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150427132136')[0m
  [1m[35m (3.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150318181948')
  [1m[36m (2.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150413174928')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (1.5ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (1.6ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (2.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-04-27 18:17:31', '2015-04-27 18:17:31')[0m
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:17:31', 'Fabricante', '123321123', '2015-04-27 18:17:31')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:17:31', 'Fabricante2', '123321113', '2015-04-27 18:17:31')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:17:31', 'Fabricante3', '1233211123', '2015-04-27 18:17:31')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:17:31', 'Fabricante4', '1233211123', '2015-04-27 18:17:31')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.9ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (32.2ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (43.9ms)
Completed 200 OK in 502ms (Views: 499.1ms | ActiveRecord: 0.4ms)
  [1m[35m (8.8ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (8.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (6.5ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 36ms (Views: 499.1ms | ActiveRecord: 15.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (4.6ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (2.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CatalogControllerTest: test_should_get_index
--------------------------------------------
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CatalogControllerTest: test_should_get_latest
---------------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CatalogControllerTest: test_should_get_search
---------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CatalogControllerTest: test_should_get_show
-------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.2ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:17:32', 'Kevinva', '123456789', '2015-04-27 18:17:32')
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (Views: 9.2ms | ActiveRecord: 2.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (1.6ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (2.8ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (4.4ms)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.6ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (1.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 1.5ms)
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 5ms (ActiveRecord: 2.1ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (4.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (5.1ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-04-27 18:17:32' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 15ms (ActiveRecord: 6.4ms)
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:17:32', 'Prueba', '123456789', '2015-04-27 18:17:32')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.7ms)
Completed 200 OK in 27ms (Views: 5.2ms | ActiveRecord: 0.4ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"7"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 7, 30.5, 'M')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (12.1ms)
Completed 200 OK in 19ms (Views: 16.4ms | ActiveRecord: 1.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (10.4ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 1.4ms)
  [1m[36mTshirt Load (0.7ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (10.5ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/show?id=12" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 12 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/edit?id=12" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 12 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.5ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/update?id=12" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"7"}, "id"=>"12"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 12
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/show?id=12
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
Started GET "/admin/tshirt/show?id=12" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 12 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/destroy?id=12" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"12"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 12 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `tshirts` WHERE `tshirts`.`id` = 12
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:17:32 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (7.8ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 1.0ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (3.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (6.0ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (2.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-04-27 18:21:24', '2015-04-27 18:21:24')
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (13.4ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (22.8ms)
Completed 200 OK in 94ms (Views: 93.5ms | ActiveRecord: 0.0ms)
  [1m[35m (3.9ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (1.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:21:24', 'Kevinva', '123456789', '2015-04-27 18:21:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 8ms (Views: 93.5ms | ActiveRecord: 3.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 7.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.1ms)
Completed 200 OK in 20ms (Views: 3.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.2ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.8ms)
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 6ms (ActiveRecord: 2.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-04-27 18:21:24' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (16.4ms)
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 27ms (Views: 23.0ms | ActiveRecord: 2.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.4ms)
Completed 200 OK in 11ms (Views: 5.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.9ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:21:24', 'Prueba', '123456789', '2015-04-27 18:21:24')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (1.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-04-27 20:21:24 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.5ms)
Completed 200 OK in 27ms (Views: 4.1ms | ActiveRecord: 0.4ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-04-27 20:21:24 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"9"}}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 9 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 9, 30.5, 'M')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:21:24 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (9.9ms)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-04-27 20:21:24 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (9.8ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 1.4ms)
  [1m[35mTshirt Load (1.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:21:25 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (11.1ms)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/show?id=14" for 127.0.0.1 at 2015-04-27 20:21:25 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 14 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.9ms)
Started GET "/admin/tshirt/edit?id=14" for 127.0.0.1 at 2015-04-27 20:21:25 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 14 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.9ms)
Completed 200 OK in 50ms (Views: 47.4ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/update?id=14" for 127.0.0.1 at 2015-04-27 20:21:25 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"9"}, "id"=>"14"}
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 9 LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 14[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/show?id=14
Completed 302 Found in 10ms (ActiveRecord: 2.8ms)
Started GET "/admin/tshirt/show?id=14" for 127.0.0.1 at 2015-04-27 20:21:25 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 14 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 9 LIMIT 1
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/destroy?id=14" for 127.0.0.1 at 2015-04-27 20:21:25 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"14"}
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `tshirts` WHERE `tshirts`.`id` = 14[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:21:25 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (9.0ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.9ms)
  [1m[36m (3.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
CatalogControllerTest: test_should_get_index
--------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CatalogControllerTest: test_should_get_latest
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CatalogControllerTest: test_should_get_search
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CatalogControllerTest: test_should_get_show
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:21:25', 'Fabricante', '123321123', '2015-04-27 18:21:25')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:21:25', 'Fabricante2', '123321113', '2015-04-27 18:21:25')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.8ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:21:25', 'Fabricante3', '1233211123', '2015-04-27 18:21:25')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:21:25', 'Fabricante4', '1233211123', '2015-04-27 18:21:25')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (6.8ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-04-27 18:22:07', '2015-04-27 18:22:07')
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (2.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:07', 'Prueba', '123456789', '2015-04-27 18:22:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-04-27 20:22:07 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (31.3ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (41.4ms)
Completed 200 OK in 139ms (Views: 118.5ms | ActiveRecord: 0.4ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-04-27 20:22:07 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"14"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 14, 30.5, 'M')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 18ms (ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (11.5ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (15.3ms)
Completed 200 OK in 20ms (Views: 16.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `tshirts`
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (12.7ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (14.4ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 1.5ms)
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (9.5ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/show?id=20" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 20 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1[0m
  Rendered admin/tshirt/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/edit?id=20" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"20"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 20 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.8ms)
  Rendered admin/tshirt/edit.html.erb within layouts/application (5.5ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 1.0ms)
Started POST "/admin/tshirt/update?id=20" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"14"}, "id"=>"20"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 20 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 20[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/show?id=20
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
Started GET "/admin/tshirt/show?id=20" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 20 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1
  Rendered admin/tshirt/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/destroy?id=20" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"20"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `tshirts` WHERE `tshirts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:08 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (9.3ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 1.0ms)
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:08', 'Fabricante', '123321123', '2015-04-27 18:22:08')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.7ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:08', 'Fabricante2', '123321113', '2015-04-27 18:22:08')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:08', 'Fabricante3', '1233211123', '2015-04-27 18:22:08')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:08', 'Fabricante4', '1233211123', '2015-04-27 18:22:08')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.6ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 8ms (Views: 6.5ms | ActiveRecord: 3.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (5.3ms)
Completed 200 OK in 12ms (Views: 7.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (4.5ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (1.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (1.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.4ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:08', 'Kevinva', '123456789', '2015-04-27 18:22:08')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 5ms (Views: 9.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (1.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.1ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.4ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.3ms)
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-04-27 18:22:08' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (25.4ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (2.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-04-27 18:22:23', '2015-04-27 18:22:23')
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 49ms (Views: 48.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (27.6ms)
Completed 200 OK in 39ms (Views: 37.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 22ms (Views: 37.8ms | ActiveRecord: 4.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (4.4ms)
Completed 200 OK in 64ms (Views: 5.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:24', 'Prueba', '123456789', '2015-04-27 18:22:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.9ms)
Completed 200 OK in 26ms (Views: 4.5ms | ActiveRecord: 0.4ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"20"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 20 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 20, 30.5, 'M')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 20 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (11.6ms)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 1.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 20 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (9.3ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 1.3ms)
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 20 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (10.7ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/show?id=28" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 28 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 20 LIMIT 1
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 1.1ms)
Started GET "/admin/tshirt/edit?id=28" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"28"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 28 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.4ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.0ms)
Started POST "/admin/tshirt/update?id=28" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"20"}, "id"=>"28"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 20 LIMIT 1[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 28
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/show?id=28
Completed 302 Found in 11ms (ActiveRecord: 3.5ms)
Started GET "/admin/tshirt/show?id=28" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 28 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 20 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 1.0ms)
Started POST "/admin/tshirt/destroy?id=28" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"28"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 28 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `tshirts` WHERE `tshirts`.`id` = 28
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:24 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (7.7ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 1.0ms)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.3ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:24', 'Kevinva', '123456789', '2015-04-27 18:22:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 5ms (Views: 10.3ms | ActiveRecord: 2.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (0.9ms)
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.0ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 8ms (ActiveRecord: 2.8ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-04-27 18:22:24' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[35mManufacturer Load (1.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:24', 'Fabricante', '123321123', '2015-04-27 18:22:24')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:24', 'Fabricante2', '123321113', '2015-04-27 18:22:24')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:24', 'Fabricante3', '1233211123', '2015-04-27 18:22:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:24', 'Fabricante4', '1233211123', '2015-04-27 18:22:24')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-04-27 18:22:46', '2015-04-27 18:22:46')
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:46', 'Fabricante', '123321123', '2015-04-27 18:22:46')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:46', 'Fabricante2', '123321113', '2015-04-27 18:22:46')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:46', 'Fabricante3', '1233211123', '2015-04-27 18:22:46')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:46', 'Fabricante4', '1233211123', '2015-04-27 18:22:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (23.0ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (33.4ms)
Completed 200 OK in 85ms (Views: 83.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 62ms (Views: 83.4ms | ActiveRecord: 3.1ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (6.3ms)
Completed 200 OK in 15ms (Views: 9.0ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (1.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `size`) VALUES ('Madrid', 'Spain', 1, 'L')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:46', 'Prueba', '123456789', '2015-04-27 18:22:46')
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.6ms)
Completed 200 OK in 24ms (Views: 4.1ms | ActiveRecord: 0.5ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"30"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 30 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 30, 30.5, 'M')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 30 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (15.6ms)
Completed 200 OK in 23ms (Views: 19.8ms | ActiveRecord: 1.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 30 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (10.8ms)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 1.4ms)
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 30 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (10.4ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/show?id=40" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 40 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 30 LIMIT 1
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/edit?id=40" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"40"}
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 40 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (4.3ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 1.0ms)
Started POST "/admin/tshirt/update?id=40" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"30"}, "id"=>"40"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 40 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 30 LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 40
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/show?id=40
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
Started GET "/admin/tshirt/show?id=40" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 40 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 30 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/destroy?id=40" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"40"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 40 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `tshirts` WHERE `tshirts`.`id` = 40
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-04-27 20:22:46 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (8.4ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 1.0ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-04-27 18:22:46', 'Kevinva', '123456789', '2015-04-27 18:22:46')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 4ms (Views: 7.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.5ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.8ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 45.0ms | ActiveRecord: 0.4ms)
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-04-27 18:22:47' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (28.4ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `telephone` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (9.7ms)[0m  CREATE TABLE `tshirts` (`id` int(11) auto_increment PRIMARY KEY, `price` float, `size` varchar(255), `country` varchar(255), `club` varchar(255), `manufacturer_id` int(11) NOT NULL, `image_file_name` varchar(255), `image_content_type` varchar(255), `image_file_size` int(11), `image_updated_at` datetime) ENGINE=InnoDB
  [1m[36m (27.9ms)[0m  [1mCREATE  INDEX `fk_man_manufacturer` USING btree ON `tshirts` (`manufacturer_id`) [0m
  [1m[35m (6.3ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (51.5ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (1.6ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (3.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150427132136')[0m
  [1m[35m (19.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150318181948')
  [1m[36m (2.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150413174928')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (2.0ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-04 10:37:07', '2015-05-04 10:37:07')[0m
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 10:37:07', 'Fabricante', '123321123', '2015-05-04 10:37:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 10:37:07', 'Fabricante2', '123321113', '2015-05-04 10:37:07')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 10:37:07', 'Fabricante3', '1233211123', '2015-05-04 10:37:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 10:37:07', 'Fabricante4', '1233211123', '2015-05-04 10:37:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 10:37:07', 'Prueba', '123456789', '2015-05-04 10:37:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-04 12:37:07 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (24.0ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (31.9ms)
Completed 200 OK in 193ms (Views: 161.9ms | ActiveRecord: 0.7ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-05-04 12:37:07 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"6"}}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (3.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (5.9ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 44ms (Views: 7.7ms | ActiveRecord: 4.8ms)
  [1m[35m (11.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (2.8ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (6.9ms)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 2.8ms)
  [1m[36m (2.7ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[35m (1.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (1.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (5.2ms)
Completed 200 OK in 22ms (Views: 8.4ms | ActiveRecord: 6.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (8.0ms)
Completed 200 OK in 22ms (Views: 10.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.9ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.7ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
CatalogControllerTest: test_should_get_index
--------------------------------------------
Processing by CatalogController#index as HTML
  [1m[35mTshirt Load (2.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (1.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (25.8ms)
Completed 200 OK in 37ms (Views: 32.8ms | ActiveRecord: 3.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CatalogControllerTest: test_should_get_latest
---------------------------------------------
Processing by CatalogController#latest as HTML
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (8.5ms)
Completed 200 OK in 18ms (Views: 15.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CatalogControllerTest: test_should_get_show
-------------------------------------------
Processing by CatalogController#show as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (2.3ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 10:37:07', 'Kevinva', '123456789', '2015-05-04 10:37:07')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 9ms (Views: 15.6ms | ActiveRecord: 2.5ms)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (16.2ms)
Completed 200 OK in 27ms (Views: 22.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (2.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/manufacturer/_form.html.erb (1.7ms)
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (2.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.8ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.7ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.2ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 8ms (ActiveRecord: 3.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (1.1ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-05-04 10:37:08' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (1.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (6.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-04 17:31:36', '2015-05-04 17:31:36')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (2.0ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36m (10.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (1.3ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 148ms (Views: 147.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:31:37', 'Fabricante', '123321123', '2015-05-04 17:31:37')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:31:37', 'Fabricante2', '123321113', '2015-05-04 17:31:37')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:31:37', 'Fabricante3', '1233211123', '2015-05-04 17:31:37')
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:31:37', 'Fabricante4', '1233211123', '2015-05-04 17:31:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (1.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:31:37', 'Prueba', '123456789', '2015-05-04 17:31:37')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-04 19:31:37 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (26.8ms)
Completed 200 OK in 85ms (Views: 55.6ms | ActiveRecord: 0.5ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-05-04 19:31:37 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"48"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 48 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.6ms)
Completed 200 OK in 14ms (Views: 5.8ms | ActiveRecord: 1.5ms)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CatalogControllerTest: test_should_get_index
--------------------------------------------
Processing by CatalogController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (2.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (30.0ms)
Completed 200 OK in 62ms (Views: 57.4ms | ActiveRecord: 3.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CatalogControllerTest: test_should_get_latest
---------------------------------------------
Processing by CatalogController#latest as HTML
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (5.7ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CatalogControllerTest: test_should_get_show
-------------------------------------------
Processing by CatalogController#show as HTML
Completed 404 Not Found in 1ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.9ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (7.1ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (5.4ms)
Completed 200 OK in 14ms (Views: 7.4ms | ActiveRecord: 2.4ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (6.9ms)
Completed 200 OK in 16ms (Views: 9.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.3ms)
Completed 200 OK in 36ms (Views: 35.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:31:37', 'Kevinva', '123456789', '2015-05-04 17:31:37')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 6ms (Views: 35.1ms | ActiveRecord: 2.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/manufacturer/_form.html.erb (1.0ms)
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (2.7ms)
Completed 200 OK in 35ms (Views: 33.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.3ms)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.3ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 8ms (ActiveRecord: 4.9ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (4.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.0ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-05-04 17:31:38' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 14ms (ActiveRecord: 6.5ms)
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (10.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-04 17:48:05', '2015-05-04 17:48:05')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (2.0ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 121ms (Views: 121.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:48:05', 'Fabricante', '123321123', '2015-05-04 17:48:05')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:48:05', 'Fabricante2', '123321113', '2015-05-04 17:48:05')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:48:05', 'Fabricante3', '1233211123', '2015-05-04 17:48:05')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:48:05', 'Fabricante4', '1233211123', '2015-05-04 17:48:05')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (21.2ms)
Completed 200 OK in 65ms (Views: 63.7ms | ActiveRecord: 0.5ms)
  [1m[35m (2.7ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 7ms (Views: 63.7ms | ActiveRecord: 1.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (5.1ms)
Completed 200 OK in 12ms (Views: 7.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.6ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:48:06', 'Kevinva', '123456789', '2015-05-04 17:48:06')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 6ms (Views: 42.4ms | ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (0.9ms)
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.5ms)
Completed 200 OK in 34ms (Views: 32.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.3ms)
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.8ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 8ms (ActiveRecord: 3.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-05-04 17:48:06' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 3.3ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:48:06', 'Prueba', '123456789', '2015-05-04 17:48:06')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.5ms)
Completed 200 OK in 29ms (Views: 5.3ms | ActiveRecord: 0.6ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"55"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 55 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 55, 30.5, 'M')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 55 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (13.4ms)
Completed 200 OK in 43ms (Views: 41.1ms | ActiveRecord: 1.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 55 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (10.6ms)
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 1.3ms)
  [1m[36mTshirt Load (3.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 55 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (11.1ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/show?id=7" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 55 LIMIT 1
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/edit?id=7" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.6ms)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/update?id=7" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"55"}, "id"=>"7"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 55 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 7
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/show?id=7
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
Started GET "/admin/tshirt/show?id=7" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 55 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/destroy?id=7" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"7"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `tshirts` WHERE `tshirts`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-04 19:48:06 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (9.1ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.9ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
CatalogControllerTest: test_should_get_index
--------------------------------------------
Processing by CatalogController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (21.3ms)
Completed 200 OK in 55ms (Views: 52.9ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CatalogControllerTest: test_should_get_latest
---------------------------------------------
Processing by CatalogController#latest as HTML
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (4.8ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CatalogControllerTest: test_should_get_show
-------------------------------------------
Processing by CatalogController#show as HTML
Completed 404 Not Found in 0ms
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-04 17:49:30', '2015-05-04 17:49:30')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36m (50.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (18.9ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (34.7ms)
Completed 200 OK in 153ms (Views: 152.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:49:30', 'Kevinva', '123456789', '2015-05-04 17:49:30')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (Views: 152.3ms | ActiveRecord: 2.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
Completed 200 OK in 19ms (Views: 16.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.1ms)
Completed 200 OK in 15ms (Views: 3.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.1ms)
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.3ms)
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (ActiveRecord: 2.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-05-04 17:49:31' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:49:31', 'Fabricante', '123321123', '2015-05-04 17:49:31')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:49:31', 'Fabricante2', '123321113', '2015-05-04 17:49:31')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:49:31', 'Fabricante3', '1233211123', '2015-05-04 17:49:31')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:49:31', 'Fabricante4', '1233211123', '2015-05-04 17:49:31')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (6.6ms)
Completed 200 OK in 49ms (Views: 47.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 9ms (Views: 47.5ms | ActiveRecord: 4.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (4.9ms)
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-04 17:49:31', 'Prueba', '123456789', '2015-05-04 17:49:31')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.3ms)
Completed 200 OK in 29ms (Views: 7.2ms | ActiveRecord: 0.5ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"61"}}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 61 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 61, 30.5, 'M')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 61 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (12.4ms)
Completed 200 OK in 57ms (Views: 55.1ms | ActiveRecord: 1.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mTshirt Load (0.6ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 61 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (15.9ms)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 1.6ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 61 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (11.8ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/show?id=9" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 61 LIMIT 1
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.8ms)
Started GET "/admin/tshirt/edit?id=9" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.4ms)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 1.0ms)
Started POST "/admin/tshirt/update?id=9" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"61"}, "id"=>"9"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 61 LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 9
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/show?id=9
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
Started GET "/admin/tshirt/show?id=9" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 61 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.8ms)
Started POST "/admin/tshirt/destroy?id=9" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"9"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `tshirts` WHERE `tshirts`.`id` = 9
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-04 19:49:31 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (8.8ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.9ms)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (47.9ms)[0m  CREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `tshirt_id` int(11), `cart_id` int(11), `price` float, `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.4ms)[0m  DROP TABLE `manufacturers`
  [1m[36m (39.5ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `telephone` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.8ms)[0m  DROP TABLE `tshirts`
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE `tshirts` (`id` int(11) auto_increment PRIMARY KEY, `price` float, `size` varchar(255), `country` varchar(255), `club` varchar(255), `manufacturer_id` int(11) NOT NULL, `image_file_name` varchar(255), `image_content_type` varchar(255), `image_file_size` int(11), `image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (67.8ms)[0m  CREATE  INDEX `fk_man_manufacturer` USING btree ON `tshirts` (`manufacturer_id`) 
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (1.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150509152041')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150509152000')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 16:29:14', '2015-05-11 16:29:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 16:29:14', '2015-05-11 16:29:14', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 16:29:14', '2015-05-11 16:29:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 16:29:14', '2015-05-11 16:29:14', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-11 16:29:14', '2015-05-11 16:29:14')
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 647ms (Views: 646.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 16:29:14', 'Fabricante', '123321123', '2015-05-11 16:29:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 16:29:14', 'Fabricante2', '123321113', '2015-05-11 16:29:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 16:29:14', 'Fabricante3', '1233211123', '2015-05-11 16:29:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 16:29:14', 'Fabricante4', '1233211123', '2015-05-11 16:29:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (14.5ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 11ms (Views: 22.6ms | ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (5.8ms)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 16:29:15', 'Kevinva', '123456789', '2015-05-11 16:29:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 5ms (Views: 6.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/manufacturer/_form.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-05-11 16:29:15' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 16:29:15', '2015-05-11 16:29:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (8.0ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (5.5ms)
Completed 200 OK in 37ms (Views: 20.6ms | ActiveRecord: 2.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190963 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.1ms)
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.9ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.9ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 1.6ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 16:29:15', 'Prueba', '123456789', '2015-05-11 16:29:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.4ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"7"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 7, 30.5, 'M')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (9.0ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (13.9ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 1.1ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (8.5ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/show?id=8" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 8 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.8ms)
Started GET "/admin/tshirt/edit?id=8" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 8 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.3ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.6ms)
Started POST "/admin/tshirt/update?id=8" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"7"}, "id"=>"8"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 8[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/show?id=8
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/show?id=8" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 8 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 7 LIMIT 1
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)
Started POST "/admin/tshirt/destroy?id=8" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"8"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `tshirts` WHERE `tshirts`.`id` = 8[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 18:29:15 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (6.9ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CartControllerTest: test_should_get_add
---------------------------------------
Processing by CartController#add as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 16:29:15', '2015-05-11 16:29:15')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 404 Not Found in 2ms
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartControllerTest: test_should_get_clear
-----------------------------------------
Processing by CartController#clear as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 16:29:15', '2015-05-11 16:29:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.9ms)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartControllerTest: test_should_get_remove
------------------------------------------
Processing by CartController#remove as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 16:29:15', '2015-05-11 16:29:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 17:34:47', '2015-05-11 17:34:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 17:34:47', '2015-05-11 17:34:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 17:34:47', '2015-05-11 17:34:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 17:34:47', '2015-05-11 17:34:47', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-11 17:34:47', '2015-05-11 17:34:47')[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (2.3ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (19.0ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (22.7ms)
Completed 200 OK in 53ms (Views: 51.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 10ms (Views: 51.6ms | ActiveRecord: 1.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (6.7ms)
Completed 200 OK in 18ms (Views: 10.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:34:47', 'Kevinva', '123456789', '2015-05-11 17:34:47')
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (Views: 6.1ms | ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (1.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (0.9ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.3ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.2ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (9.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-05-11 17:34:47' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:34:47', 'Fabricante', '123321123', '2015-05-11 17:34:47')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:34:47', 'Fabricante2', '123321113', '2015-05-11 17:34:47')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:34:47', 'Fabricante3', '1233211123', '2015-05-11 17:34:47')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:34:47', 'Fabricante4', '1233211123', '2015-05-11 17:34:47')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 17:34:47', '2015-05-11 17:34:47')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (13.2ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190967[0m
  Rendered cart/_cart.html.erb (9.8ms)
Completed 200 OK in 45ms (Views: 27.5ms | ActiveRecord: 2.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.6ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190967[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.5ms)
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mTshirt Load (0.8ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (5.6ms)
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190967
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 1.5ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.9ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:34:47', 'Prueba', '123456789', '2015-05-11 17:34:47')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.5ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"13"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 13, 30.5, 'M')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.9ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (10.5ms)
Completed 200 OK in 22ms (Views: 19.5ms | ActiveRecord: 1.6ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `tshirts`
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 13 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (14.4ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 1.2ms)
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (13.9ms)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 1.1ms)
Started GET "/admin/tshirt/show?id=10" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[35mTshirt Load (0.8ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 1.2ms)
Started GET "/admin/tshirt/edit?id=10" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[35mTshirt Load (1.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.5ms)
Completed 200 OK in 11ms (Views: 5.6ms | ActiveRecord: 2.0ms)
Started POST "/admin/tshirt/update?id=10" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"13"}, "id"=>"10"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 13 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 10[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/show?id=10
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/show?id=10" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 13 LIMIT 1
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.6ms)
Started POST "/admin/tshirt/destroy?id=10" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"10"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `tshirts` WHERE `tshirts`.`id` = 10[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 19:34:47 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (7.1ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.8ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 17:34:47', '2015-05-11 17:34:47')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (1.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190968, '2015-05-11 17:34:47', 4, '2015-05-11 17:34:47')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 3.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968
  [1m[36m (3.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 17:34:47', '2015-05-11 17:34:47')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190969 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190969, '2015-05-11 17:34:47', 4, '2015-05-11 17:34:47')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190969 LIMIT 1
  [1m[36mTshirt Load (1.2ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190969[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190969 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190969[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190969
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 17:34:47', '2015-05-11 17:34:47')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190970 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190970, '2015-05-11 17:34:47', 4, '2015-05-11 17:34:47')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.0ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190970 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190970[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190970 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190970 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190965 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 2.3ms)
  [1m[35m (22.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 17:35:55', '2015-05-11 17:35:55', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 17:35:55', '2015-05-11 17:35:55', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 17:35:55', '2015-05-11 17:35:55', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-11 17:35:55', '2015-05-11 17:35:55', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-11 17:35:55', '2015-05-11 17:35:55')[0m
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:35:56', 'Prueba', '123456789', '2015-05-11 17:35:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (11.8ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (15.9ms)
Completed 200 OK in 54ms (Views: 44.4ms | ActiveRecord: 0.3ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"14"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 14, 30.5, 'M')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 14ms (ActiveRecord: 0.9ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (9.3ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (8.0ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.9ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.9ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (10.4ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 1.6ms)
Started GET "/admin/tshirt/show?id=11" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 11 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1[0m
  Rendered admin/tshirt/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.6ms)
Started GET "/admin/tshirt/edit?id=11" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 11 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.8ms)
  Rendered admin/tshirt/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 35ms (Views: 32.8ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/update?id=11" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"14"}, "id"=>"11"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 11[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/show?id=11
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/show?id=11" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 11 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 14 LIMIT 1
  Rendered admin/tshirt/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.8ms)
Started POST "/admin/tshirt/destroy?id=11" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"11"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `tshirts` WHERE `tshirts`.`id` = 11[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (8.7ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.7ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 17:35:56', '2015-05-11 17:35:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (8.2ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190971
  Rendered cart/_cart.html.erb (7.4ms)
Completed 200 OK in 29ms (Views: 19.9ms | ActiveRecord: 2.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190971 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.2ms)
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190971
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 1.1ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-11 19:35:56 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190971 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.4ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190971[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 1.1ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:35:56', 'Fabricante', '123321123', '2015-05-11 17:35:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (10.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:35:56', 'Fabricante2', '123321113', '2015-05-11 17:35:56')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:35:56', 'Fabricante3', '1233211123', '2015-05-11 17:35:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:35:56', 'Fabricante4', '1233211123', '2015-05-11 17:35:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.5ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 6ms (Views: 5.3ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.9ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (9.7ms)
Completed 200 OK in 19ms (Views: 13.9ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 17:35:56', '2015-05-11 17:35:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190972 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190972, '2015-05-11 17:35:56', 4, '2015-05-11 17:35:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 2.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190972 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190972
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 17:35:56', '2015-05-11 17:35:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190973, '2015-05-11 17:35:56', 4, '2015-05-11 17:35:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 3.4ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190973[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190973[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190967[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190973 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190973
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-11 17:35:56', '2015-05-11 17:35:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190974, '2015-05-11 17:35:56', 4, '2015-05-11 17:35:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mTshirt Load (1.1ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190974[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (1.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190968 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190968[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.6ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190974[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-11 17:35:56', 'Kevinva', '123456789', '2015-05-11 17:35:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 3ms (Views: 6.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (11.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/manufacturer/_form.html.erb (0.9ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-05-11 17:35:56' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (8.9ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-15 07:22:15', '2015-05-15 07:22:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-15 07:22:15', '2015-05-15 07:22:15', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-15 07:22:15', '2015-05-15 07:22:15', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-15 07:22:15', '2015-05-15 07:22:15', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-15 07:22:15', '2015-05-15 07:22:15')[0m
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-15 09:22:15 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-15 07:22:16', '2015-05-15 07:22:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (156.9ms)
  Rendered catalog/index.html.erb within layouts/application (207.4ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (58.6ms)
Completed 200 OK in 851ms (Views: 810.3ms | ActiveRecord: 2.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-15 09:22:16 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.1ms)
  Rendered catalog/index.html.erb within layouts/application (2.7ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 1.1ms)
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-15 09:22:17 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190963 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (3.6ms)
  Rendered catalog/latest.html.erb within layouts/application (4.1ms)
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (0.8ms)
Completed 200 OK in 53ms (Views: 51.2ms | ActiveRecord: 1.1ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (18.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (5.2ms)[0m  DROP TABLE `cart_items`
  [1m[36m (38.2ms)[0m  [1mCREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `tshirt_id` int(11), `cart_id` int(11), `price` float, `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.8ms)[0m  DROP TABLE `carts`
  [1m[36m (3.0ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  DROP TABLE `manufacturers`
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `telephone` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.2ms)[0m  DROP TABLE `tshirts`
  [1m[36m (9.6ms)[0m  [1mCREATE TABLE `tshirts` (`id` int(11) auto_increment PRIMARY KEY, `price` float, `size` varchar(255), `country` varchar(255), `club` varchar(255), `manufacturer_id` int(11) NOT NULL, `image_file_name` varchar(255), `image_content_type` varchar(255), `image_file_size` int(11), `image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (96.4ms)[0m  CREATE  INDEX `fk_man_manufacturer` USING btree ON `tshirts` (`manufacturer_id`) 
  [1m[36m (15.7ms)[0m  [1mCREATE TABLE `user_sessions` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (3.8ms)[0m  CREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `login` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `crypted_password` varchar(255) NOT NULL, `password_salt` varchar(255) NOT NULL, `persistence_token` varchar(255) NOT NULL, `perishable_token` varchar(255) NOT NULL, `login_count` int(11) DEFAULT 0 NOT NULL, `failed_login_count` int(11) DEFAULT 0 NOT NULL, `last_request_at` datetime, `current_login_at` datetime, `last_login_at` datetime, `current_login_ip` varchar(255), `last_login_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (1.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150517151734')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150517151722')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.5ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (11.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (2.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (22.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (12.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (12.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (30.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (11.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (15.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:23', '2015-05-18 16:43:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (10.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (22.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (3.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (11.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:43:24', '2015-05-18 16:43:24', 980190962)
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:44:09', '2015-05-18 16:44:09', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:45:19', '2015-05-18 16:45:19', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)
  [1m[35m (12.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:47:10', '2015-05-18 16:47:10', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (10.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (12.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (14.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (16.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:29', '2015-05-18 16:49:29', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (4.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (4.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:49:30', '2015-05-18 16:49:30', 980190962)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:47', '2015-05-18 16:50:47', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (10.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (14.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:50:48', '2015-05-18 16:50:48', 980190962)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (3.7ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (15.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (10.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (14.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (11.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (9.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:54:56', '2015-05-18 16:54:56', 980190962)
  [1m[35m (8.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (4.3ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (18.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (10.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.8ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (21.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:55:28', '2015-05-18 16:55:28', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 16:58:44', '2015-05-18 16:58:44', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
<<<<<<< Updated upstream
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (10.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (24.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (8.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (12.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (12.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (11.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (12.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (9.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:27:28', '2015-05-18 17:27:28', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (4.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (11.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (12.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:41', '2015-05-18 17:31:41', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (2.9ms)[0m  ROLLBACK
=======
  [1m[36m (42.4ms)[0m  [1mCREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `tshirt_id` int(11), `cart_id` int(11), `price` float, `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.6ms)[0m  CREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `telephone` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.7ms)[0m  CREATE TABLE `tshirts` (`id` int(11) auto_increment PRIMARY KEY, `price` float, `size` varchar(255), `country` varchar(255), `club` varchar(255), `manufacturer_id` int(11) NOT NULL, `image_file_name` varchar(255), `image_content_type` varchar(255), `image_file_size` int(11), `image_updated_at` datetime) ENGINE=InnoDB
  [1m[36m (23.3ms)[0m  [1mCREATE  INDEX `fk_man_manufacturer` USING btree ON `tshirts` (`manufacturer_id`) [0m
  [1m[35m (7.1ms)[0m  CREATE TABLE `user_sessions` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (9.0ms)[0m  [1mCREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `login` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `crypted_password` varchar(255) NOT NULL, `password_salt` varchar(255) NOT NULL, `persistence_token` varchar(255) NOT NULL, `perishable_token` varchar(255) NOT NULL, `login_count` int(11) DEFAULT 0 NOT NULL, `failed_login_count` int(11) DEFAULT 0 NOT NULL, `last_request_at` datetime, `current_login_at` datetime, `last_login_at` datetime, `current_login_ip` varchar(255), `last_login_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (5.3ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (29.3ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (0.5ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (7.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150517151734')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150318181948')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150413174928')[0m
  [1m[35m (5.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150427132136')
  [1m[36m (5.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150509152000')[0m
  [1m[35m (2.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150509152041')
  [1m[36m (2.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150517151722')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (2.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (2.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (4.7ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.6ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[35m (3.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (1.9ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:44', '2015-05-18 15:24:44')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:44', '2015-05-18 15:24:44', 980190962)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (3.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[35m (5.9ms)[0m  ROLLBACK
>>>>>>> Stashed changes
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
<<<<<<< Updated upstream
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (10.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (10.1ms)[0m  ROLLBACK
  [1m[36m (1.8ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (9.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:31:48', '2015-05-18 17:31:48', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
<<<<<<< HEAD
=======
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (2.7ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')[0m
  [1m[35mFixture Delete (2.5ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (2.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (2.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (3.7ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (3.8ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[35m (4.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.6ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (1.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36m (3.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (1.7ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
=======
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 18:02:47', '2015-05-18 18:02:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 18:02:47', '2015-05-18 18:02:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 18:02:47', '2015-05-18 18:02:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 18:02:47', '2015-05-18 18:02:47', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
>>>>>>> bc8bfa624a0eeef528a3dbd27bcbb33267f4c08d
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
<<<<<<< HEAD
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 15:24:45', '2015-05-18 15:24:45')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 15:24:45', '2015-05-18 15:24:45', 980190962)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
>>>>>>> Stashed changes
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (6.0ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mFixture Delete (8.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (3.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (1.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36m (110.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (1.6ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[35m (8.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (3.7ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:39', '2015-05-18 17:55:39')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:39', '2015-05-18 17:55:39', 980190962)
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (5.9ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (6.8ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36m (2.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[35m (29.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:55:40', '2015-05-18 17:55:40')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:55:40', '2015-05-18 17:55:40', 980190962)
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (2.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (8.8ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:03', '2015-05-18 17:59:03')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)
  [1m[36m (82.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:03', '2015-05-18 17:59:03')[0m
  [1m[35mFixture Delete (1.6ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:03', '2015-05-18 17:59:03', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (3.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (3.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (1.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
=======
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 18:02:47', '2015-05-18 18:02:47')[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 1275ms (Views: 1274.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-18 20:02:48 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (18.1ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 37ms (Views: 27.1ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-18 20:02:48 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '70ed056cb1695ebade115d66515747f278954123d5c0689aaab711bd95ccf76693a511b111c8488245e82f587e513f5c2d091407942296236abb11fec7dbfa44' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-18 18:02:48', '0925368cde319c9196ec774d21cdccd00b6f22c2df9124801edb4b080061894a2d04a199c56301cfc364ba3397d04a3e6abb1ec9629743b24fe2374cb86b5f8a', '2015-05-18 18:02:48', '127.0.0.1', 'kevin@emporium.com', '2015-05-18 18:02:48', 'kevin', 1, 'Kevin Valle', 'UNl1D9phKWwXtPZhqCB', 'dfhqghTTbzblsoywX4Jq', '70ed056cb1695ebade115d66515747f278954123d5c0689aaab711bd95ccf76693a511b111c8488245e82f587e513f5c2d091407942296236abb11fec7dbfa44', '2015-05-18 18:02:48')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 19ms (ActiveRecord: 2.1ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-18 20:02:48 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '70ed056cb1695ebade115d66515747f278954123d5c0689aaab711bd95ccf76693a511b111c8488245e82f587e513f5c2d091407942296236abb11fec7dbfa44' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-18 18:02:48', `perishable_token` = '68davboJPd2omkk1i75', `updated_at` = '2015-05-18 18:02:48' WHERE `users`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 19ms (Views: 11.4ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=1" for 127.0.0.1 at 2015-05-18 20:02:48 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '70ed056cb1695ebade115d66515747f278954123d5c0689aaab711bd95ccf76693a511b111c8488245e82f587e513f5c2d091407942296236abb11fec7dbfa44' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-18 18:02:48', `perishable_token` = 'Z28U9QgOxSnWrMKPEfh', `updated_at` = '2015-05-18 18:02:48' WHERE `users`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1[0m
Started GET "/user/edit?id=1" for 127.0.0.1 at 2015-05-18 20:02:48 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '70ed056cb1695ebade115d66515747f278954123d5c0689aaab711bd95ccf76693a511b111c8488245e82f587e513f5c2d091407942296236abb11fec7dbfa44' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-18 18:02:48', `perishable_token` = 'LsgQS27p7PuCJ4k6dpiv', `updated_at` = '2015-05-18 18:02:48' WHERE `users`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 5.9ms | ActiveRecord: 1.5ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-18 20:02:48 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '70ed056cb1695ebade115d66515747f278954123d5c0689aaab711bd95ccf76693a511b111c8488245e82f587e513f5c2d091407942296236abb11fec7dbfa44' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-18 18:02:49', `perishable_token` = 'sLxdQp4fCyEP9eoJtRH', `updated_at` = '2015-05-18 18:02:49' WHERE `users`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (15.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'aff99c82858cffc37d5c8b08ebf2e4e29fd92223cfa160165f6074e60b97e424958589491546a05b732c537f6cfa655498a9a5e62ac4b4a706b248faf4e1a005' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '70ed056cb1695ebade115d66515747f278954123d5c0689aaab711bd95ccf76693a511b111c8488245e82f587e513f5c2d091407942296236abb11fec7dbfa44' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = '0caa4cc3131662d5aab5cc3f9b6bfa59f3e0f8c5bca073016090cbaa843eebed18b871acfb186a7e480ceddbe6b321984b1649ae0ccfb955242f58c2b4897691', `current_login_at` = '2015-05-18 18:02:49', `last_login_at` = '2015-05-18 18:02:48', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-18 18:02:49', `login_count` = 2, `password_salt` = 'kYvzyQ4biAhVlvNHdjJ', `perishable_token` = 'bzSZg284GN8SXLSsorO', `persistence_token` = 'aff99c82858cffc37d5c8b08ebf2e4e29fd92223cfa160165f6074e60b97e424958589491546a05b732c537f6cfa655498a9a5e62ac4b4a706b248faf4e1a005', `updated_at` = '2015-05-18 18:02:49' WHERE `users`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 28ms (ActiveRecord: 17.6ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-18 18:02:49', `perishable_token` = 'O24XPD3ZlM5DGfBKzTfo', `updated_at` = '2015-05-18 18:02:49' WHERE `users`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 0.9ms)
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '514094a727dd22ed2849471f0d332b33662956365dcd4dec0279b03d97f5f3470796ef6e89a805d0673c1f0f10112dc22bdcf419f212e56a37c724096c9c11fb' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-18 18:02:49', '70ff83a7ca5c7ad48cea80d8a437401801ba36c16f410931c7f7bc786067fed6c5c434fb894e7786abd7c0043cf0c6f19b8d4e77a1245c1a869125a04d06b848', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'q3dCdflWg1bJHShG9fx', '3KwgTajuB3MnqIc0KEBm', '514094a727dd22ed2849471f0d332b33662956365dcd4dec0279b03d97f5f3470796ef6e89a805d0673c1f0f10112dc22bdcf419f212e56a37c724096c9c11fb', '2015-05-18 18:02:49')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (2.4ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.6ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '7f7b9415ec3b4eadc72eea97ca1128a8ce38cc07e6da2246455f210c1679103e6621d9408d9ba9dc662c5bf5f83073bb52a1192247a525ee24d7438ccb4c9a1a' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-18 18:02:49', '6603c632ddfd453608c7ad6ffcd13c182a83c5ae23229d3ebffa8bbb48e2f2e8239ee14740bda09e0ca0dc15418e7f3790401ce3b56f36645453e25df03ecd4e', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'Bx6BMY9LdcEBBNV7hhLF', '5Wd72jJ6J4udstZgTDmS', '7f7b9415ec3b4eadc72eea97ca1128a8ce38cc07e6da2246455f210c1679103e6621d9408d9ba9dc662c5bf5f83073bb52a1192247a525ee24d7438ccb4c9a1a', '2015-05-18 18:02:49')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `current_login_at` = '2015-05-18 18:02:49', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-18 18:02:49', `login_count` = 1, `perishable_token` = 'CU00uFJDA1Qg4GkIn2', `updated_at` = '2015-05-18 18:02:49' WHERE `users`.`id` = 3
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-18 18:02:49', 'Fabricante', '123321123', '2015-05-18 18:02:49')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-18 18:02:49', 'Fabricante2', '123321113', '2015-05-18 18:02:49')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-18 18:02:49', 'Fabricante3', '1233211123', '2015-05-18 18:02:49')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-18 18:02:49', 'Fabricante4', '1233211123', '2015-05-18 18:02:49')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by CatalogController#index as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (49.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 56ms (Views: 54.2ms | ActiveRecord: 1.1ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.1ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.7ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by CatalogController#latest as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (3.3ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.6ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-18 18:02:49', '2015-05-18 18:02:49')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190963 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190963, '2015-05-18 18:02:49', 4, '2015-05-18 18:02:49')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 36ms (ActiveRecord: 2.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190963[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-18 18:02:49', '2015-05-18 18:02:49')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190964, '2015-05-18 18:02:49', 4, '2015-05-18 18:02:49')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.4ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190964
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (11.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-18 18:02:49', '2015-05-18 18:02:49')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190965, '2015-05-18 18:02:49', 4, '2015-05-18 18:02:49')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190965
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190965 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-18 18:02:49', 'Prueba', '123456789', '2015-05-18 18:02:49')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-18 20:02:49 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 18:03:02', '2015-05-18 18:03:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 18:03:02', '2015-05-18 18:03:02', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 18:03:02', '2015-05-18 18:03:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 18:03:02', '2015-05-18 18:03:02', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `tshirts`[0m
>>>>>>> bc8bfa624a0eeef528a3dbd27bcbb33267f4c08d
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
<<<<<<< HEAD
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (2.8ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (1.7ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (3.9ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:04', '2015-05-18 17:59:04', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:04', '2015-05-18 17:59:04')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (2.6ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:05', '2015-05-18 17:59:05')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (1.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.7ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:05', '2015-05-18 17:59:05')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:05', '2015-05-18 17:59:05')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:05', '2015-05-18 17:59:05')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36m (9.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:05', '2015-05-18 17:59:05')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[35m (3.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 17:59:05', '2015-05-18 17:59:05')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
Mysql2::Error: Field 'name' doesn't have a default value: INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-18 17:59:05', '2015-05-18 17:59:05', 980190962)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
=======
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-18 18:03:02', '2015-05-18 18:03:02')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by CatalogController#index as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (40.1ms)
  Rendered catalog/index.html.erb within layouts/application (43.4ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 88ms (Views: 66.8ms | ActiveRecord: 2.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.3ms)
  Rendered catalog/index.html.erb within layouts/application (2.7ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.8ms)
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by CatalogController#latest as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.3ms)
  Rendered catalog/latest.html.erb within layouts/application (3.8ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.7ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '80d290ca35574bf1f31b8b8cdf869ec8c04d7c65fd43177e334e2e0762dd22bfbf134fd32e20cafc706117feb2977e9305f0d9542da13b247346ab3634ad64b2' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-18 18:03:02', '472b7072ed42e9cbdab1bc842d0cb2db61953b6d724449007b70e36bf916f6d551cca234e86351a8c8be9bd447f90de97ee3c9a3f7d80a5982dacd87296d0fe3', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'yBBU5mRru25zKE1HdAFU', 'kx59lnAPBcXK08eUNq9', '80d290ca35574bf1f31b8b8cdf869ec8c04d7c65fd43177e334e2e0762dd22bfbf134fd32e20cafc706117feb2977e9305f0d9542da13b247346ab3634ad64b2', '2015-05-18 18:03:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (5.8ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.8ms)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'faa2307263e9aa1d479133b2e28567824bd867a2ae0d1761665d4485f55626861baf6a65ac3a71e0832008aee626e938300eb0811f154cce519ee045b807495a' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-18 18:03:02', '919d12060f59cf1dd86a2b4d65e3fb7b5c6537dcec4bcc5dba9da795c081d9294437ccf8606812b7590952b18711a8bbfddd8e7b35c1516726d454609807bbf6', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'WRHgRlUK5psKZzj707qm', '0HhnCU9B31YbBce8yqV', 'faa2307263e9aa1d479133b2e28567824bd867a2ae0d1761665d4485f55626861baf6a65ac3a71e0832008aee626e938300eb0811f154cce519ee045b807495a', '2015-05-18 18:03:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `current_login_at` = '2015-05-18 18:03:02', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-18 18:03:02', `login_count` = 1, `perishable_token` = 'Etalc1ozwOrwJdzqYMo', `updated_at` = '2015-05-18 18:03:02' WHERE `users`.`id` = 5
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (4.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-18 18:03:02', 'Prueba', '123456789', '2015-05-18 18:03:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (1.1ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '518197386ac524c2d07f46eb30f8e867264d42f5a5b2835c26b498a7d6fb6fc0ce4a6469cad1452c084f95baba7161abcbe6cbebb696353bdb8ac1d8017195bb' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-18 18:03:02', '6120797bcc2d1047a2d7d6c4e4c902718c9fec54e13e9959137771d8d48b6845469a9016e61b9779273f100b7ff6ceb496e3c1ba692cd1920e44ccb5c6d9d81a', '2015-05-18 18:03:02', '127.0.0.1', 'kevin@emporium.com', '2015-05-18 18:03:02', 'kevin', 1, 'Kevin Valle', '29qTOdx00OwjvU5KjrS9', 'RA239HZGpoa2oCY7bRK', '518197386ac524c2d07f46eb30f8e867264d42f5a5b2835c26b498a7d6fb6fc0ce4a6469cad1452c084f95baba7161abcbe6cbebb696353bdb8ac1d8017195bb', '2015-05-18 18:03:02')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '518197386ac524c2d07f46eb30f8e867264d42f5a5b2835c26b498a7d6fb6fc0ce4a6469cad1452c084f95baba7161abcbe6cbebb696353bdb8ac1d8017195bb' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-18 18:03:02', `perishable_token` = 'AcghAwANolMXo623UzUc', `updated_at` = '2015-05-18 18:03:02' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 15ms (Views: 4.5ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=6" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"6"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '518197386ac524c2d07f46eb30f8e867264d42f5a5b2835c26b498a7d6fb6fc0ce4a6469cad1452c084f95baba7161abcbe6cbebb696353bdb8ac1d8017195bb' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-18 18:03:02', `perishable_token` = 'ZOM0XywyOo4b88xDm0Gn', `updated_at` = '2015-05-18 18:03:02' WHERE `users`.`id` = 6
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 6 LIMIT 1
Started GET "/user/edit?id=6" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"6"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '518197386ac524c2d07f46eb30f8e867264d42f5a5b2835c26b498a7d6fb6fc0ce4a6469cad1452c084f95baba7161abcbe6cbebb696353bdb8ac1d8017195bb' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-18 18:03:02', `perishable_token` = 'r1YoEzuQmFznYuAj6OI', `updated_at` = '2015-05-18 18:03:02' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '518197386ac524c2d07f46eb30f8e867264d42f5a5b2835c26b498a7d6fb6fc0ce4a6469cad1452c084f95baba7161abcbe6cbebb696353bdb8ac1d8017195bb' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-18 18:03:02', `perishable_token` = 'Rq8z8eOxBlDSBOoRvulE', `updated_at` = '2015-05-18 18:03:02' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '53c43e77284519f8c665514324eaa280caccfde26c00b1a94eeb309cc5e1208375da98b522b5ad4d1ff385d2251d4709b18d1c106b20c8bf74b90a3aa5c73e5e' AND `users`.`id` != 6) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 6) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 6) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 6) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '518197386ac524c2d07f46eb30f8e867264d42f5a5b2835c26b498a7d6fb6fc0ce4a6469cad1452c084f95baba7161abcbe6cbebb696353bdb8ac1d8017195bb' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = '95808224b45606c80d2b1fdfefc28b6fd5c3f63c1c6679dd023369f5c5f3ae0f995c0b7d91df7c65f79f3ca57f528d83f5def494baf09e826b84978f73c7e062', `current_login_at` = '2015-05-18 18:03:02', `last_login_at` = '2015-05-18 18:03:02', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-18 18:03:02', `login_count` = 2, `password_salt` = 'suYsNJJYnbsUlApnDaf', `perishable_token` = 'u6oo08bFPsQL7SDYtuT', `persistence_token` = '53c43e77284519f8c665514324eaa280caccfde26c00b1a94eeb309cc5e1208375da98b522b5ad4d1ff385d2251d4709b18d1c106b20c8bf74b90a3aa5c73e5e', `updated_at` = '2015-05-18 18:03:02' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 3.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-18 20:03:02 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-18 18:03:02', `perishable_token` = 'zMtxChYf4MTvfU3a1RH', `updated_at` = '2015-05-18 18:03:02' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 1.0ms)
  [1m[36m (17.3ms)[0m  [1mROLLBACK[0m
>>>>>>> bc8bfa624a0eeef528a3dbd27bcbb33267f4c08d
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  DROP TABLE `cart_items`
  [1m[36m (3.8ms)[0m  [1mCREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `tshirt_id` int(11), `cart_id` int(11), `price` float, `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.7ms)[0m  DROP TABLE `carts`
  [1m[36m (9.5ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.5ms)[0m  DROP TABLE `manufacturers`
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `telephone` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE `order_items` (`id` int(11) auto_increment PRIMARY KEY, `tshirt_id` int(11), `order_id` int(11), `price` float, `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (10.2ms)[0m  [1mCREATE  INDEX `fk_order_items_orders` USING btree ON `order_items` (`order_id`) [0m
  [1m[35m (3.1ms)[0m  CREATE TABLE `orders` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255), `phone_number` varchar(255), `ship_to_first_name` varchar(255), `ship_to_last_name` varchar(255), `ship_to_address` varchar(255), `ship_to_city` varchar(255), `ship_to_postal_code` varchar(255), `ship_to_country_code` varchar(255), `customer_ip` varchar(255), `status` varchar(255), `error_message` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (1.5ms)[0m  [1mDROP TABLE `tshirts`[0m
  [1m[35m (2.1ms)[0m  CREATE TABLE `tshirts` (`id` int(11) auto_increment PRIMARY KEY, `price` float, `size` varchar(255), `country` varchar(255), `club` varchar(255), `manufacturer_id` int(11) NOT NULL, `image_file_name` varchar(255), `image_content_type` varchar(255), `image_file_size` int(11), `image_updated_at` datetime) ENGINE=InnoDB
  [1m[36m (10.7ms)[0m  [1mCREATE  INDEX `fk_man_manufacturer` USING btree ON `tshirts` (`manufacturer_id`) [0m
  [1m[35m (1.6ms)[0m  DROP TABLE `user_sessions`
  [1m[36m (4.1ms)[0m  [1mCREATE TABLE `user_sessions` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (1.1ms)[0m  DROP TABLE `users`
  [1m[36m (3.4ms)[0m  [1mCREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `login` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `crypted_password` varchar(255) NOT NULL, `password_salt` varchar(255) NOT NULL, `persistence_token` varchar(255) NOT NULL, `perishable_token` varchar(255) NOT NULL, `login_count` int(11) DEFAULT 0 NOT NULL, `failed_login_count` int(11) DEFAULT 0 NOT NULL, `last_request_at` datetime, `current_login_at` datetime, `last_login_at` datetime, `current_login_ip` varchar(255), `last_login_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150525091702')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20150509152042')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20150525091433')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:29:54', '2015-05-27 15:29:54', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:29:54', '2015-05-27 15:29:54', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:29:54', '2015-05-27 15:29:54', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:29:54', '2015-05-27 15:29:54', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:29:54', '2015-05-27 15:29:54', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:29:54', '2015-05-27 15:29:54', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:29:54', '2015-05-27 15:29:54', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:29:54', '2015-05-27 15:29:54', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-27 15:29:54', '2015-05-27 15:29:54')
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-27 17:29:54 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (10.9ms)
  Rendered user/new.html.erb within layouts/application (15.7ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 665ms (Views: 641.5ms | ActiveRecord: 1.9ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '5d78a9084425e01334f22bbf8cc3f60eba2a0ddf27ff3a124abeebeab4d6c10487a587b7133db6bc14dfc451c1fe769a48a566ea91a7f4d56295949ff4083781' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:29:55', 'e57119863f53d2bd672f5fb1c8129554641482ce32ad95d2efe026518bfd692ce81ab8e332f196f62854a91b1f8659dfeaf865248397b4fc10a2f36f2f3d51d7', '2015-05-27 15:29:55', '127.0.0.1', 'kevin@emporium.com', '2015-05-27 15:29:55', 'kevin', 1, 'Kevin Valle', 'IrCKkTtL1jeSIWJB395m', 'Kl8rHJ3uZtB5wzHC7APk', '5d78a9084425e01334f22bbf8cc3f60eba2a0ddf27ff3a124abeebeab4d6c10487a587b7133db6bc14dfc451c1fe769a48a566ea91a7f4d56295949ff4083781', '2015-05-27 15:29:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 24ms (ActiveRecord: 2.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5d78a9084425e01334f22bbf8cc3f60eba2a0ddf27ff3a124abeebeab4d6c10487a587b7133db6bc14dfc451c1fe769a48a566ea91a7f4d56295949ff4083781' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:29:55', `perishable_token` = 'GSeBOjH811PvkodMB0', `updated_at` = '2015-05-27 15:29:55' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.2ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 6.0ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=1" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5d78a9084425e01334f22bbf8cc3f60eba2a0ddf27ff3a124abeebeab4d6c10487a587b7133db6bc14dfc451c1fe769a48a566ea91a7f4d56295949ff4083781' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:29:55', `perishable_token` = '6KraMoopXwFQvypR8xM', `updated_at` = '2015-05-27 15:29:55' WHERE `users`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 4.7ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1
Started GET "/user/edit?id=1" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5d78a9084425e01334f22bbf8cc3f60eba2a0ddf27ff3a124abeebeab4d6c10487a587b7133db6bc14dfc451c1fe769a48a566ea91a7f4d56295949ff4083781' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:29:55', `perishable_token` = 'gOkOSRzNcPtRrgedjQq', `updated_at` = '2015-05-27 15:29:55' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
  Rendered user/edit.html.erb within layouts/application (2.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 19ms (Views: 14.1ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5d78a9084425e01334f22bbf8cc3f60eba2a0ddf27ff3a124abeebeab4d6c10487a587b7133db6bc14dfc451c1fe769a48a566ea91a7f4d56295949ff4083781' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:29:55', `perishable_token` = 'hWtnntWBt9FWAAZUOEaf', `updated_at` = '2015-05-27 15:29:55' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (19.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '20eb15b70292163a965103a3d9e1e6586bf1864ba254077812950c9e92f03987851d1634314c43813fc5b0c1fd3bf5d0d7e4ca824901b6b85c2c9ea0ed094b60' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5d78a9084425e01334f22bbf8cc3f60eba2a0ddf27ff3a124abeebeab4d6c10487a587b7133db6bc14dfc451c1fe769a48a566ea91a7f4d56295949ff4083781' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `crypted_password` = '7d27a71779de9281085b81946d83efa495049fb8adcf725c346ed9f0cfb4c2bd8281d084fdbadf787074da773b58036608a1ed3a663294047023098659cd756d', `current_login_at` = '2015-05-27 15:29:55', `last_login_at` = '2015-05-27 15:29:55', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:29:55', `login_count` = 2, `password_salt` = 'KgSItKAuLQ1eXJz7RpAs', `perishable_token` = 'v7DV7lO1RVxAT88wbQ9', `persistence_token` = '20eb15b70292163a965103a3d9e1e6586bf1864ba254077812950c9e92f03987851d1634314c43813fc5b0c1fd3bf5d0d7e4ca824901b6b85c2c9ea0ed094b60', `updated_at` = '2015-05-27 15:29:55' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 33ms (ActiveRecord: 22.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:29:55', `perishable_token` = 'h17IXGHiBaPRoYTAMM6', `updated_at` = '2015-05-27 15:29:55' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.7ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 1.1ms)
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '209cafe1103f7dcc369d012838998c756b3e5ff0cad6b0519f0d7d3eaefc2fa452c3485ff902dca403ec0f2a80b1cc0e28dd74e0d3bad8352153794a91695fc3' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:29:55', '1087ec1480f1dc74ecb55e984471df5b4a9054040533657aec07766b41ca76093e73a6df306d5f6ac1920284882b42f0068d1ec8e67a201a806ff25c98f5c4a9', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'yBnktjNTDH4e6T4LuTd4', 'cX6mMQz5FhtAzZh2rQuM', '209cafe1103f7dcc369d012838998c756b3e5ff0cad6b0519f0d7d3eaefc2fa452c3485ff902dca403ec0f2a80b1cc0e28dd74e0d3bad8352153794a91695fc3', '2015-05-27 15:29:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (2.6ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.7ms)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '5c0f8b7bb27378c0faddc5608c735a3b1ac57f3e4a70757db7d7857ef09f91ae716b8409675db2b7d9911770a92e9bcaa201df45cb6c6a2166586f18b0c33a1d' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:29:55', 'e8dc9a52eb5450a23e2f5ab5e4bd48b1df4243ca0b2bdd6d238d971998fa23d084903a3b291685c8c03bfc505d1e9a38f5ad7754edc6033176866e738ae371c2', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'qsyAg3tLyB6rebbgc2Cg', 'TcMgKMQmQGBWpl15tKop', '5c0f8b7bb27378c0faddc5608c735a3b1ac57f3e4a70757db7d7857ef09f91ae716b8409675db2b7d9911770a92e9bcaa201df45cb6c6a2166586f18b0c33a1d', '2015-05-27 15:29:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-05-27 15:29:55', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:29:55', `login_count` = 1, `perishable_token` = 'NKAhvAjQ7esh7siQ8Mnl', `updated_at` = '2015-05-27 15:29:55' WHERE `users`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:29:55', '2015-05-27 15:29:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190963 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 1.1ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:29:55', '2015-05-27 15:29:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190964, '2015-05-27 15:29:55', 1, '2015-05-27 15:29:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 2.4ms)
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (3.0ms)
  Rendered cart/_cart.html.erb (7.2ms)
Completed 500 Internal Server Error in 41ms
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-27 15:29:55', 'Prueba', '123456789', '2015-05-27 15:29:55')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:29:55', '2015-05-27 15:29:55')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.9ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (10.6ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965[0m
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 22ms (Views: 16.4ms | ActiveRecord: 2.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.3ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 1.3ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-27 17:29:55 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.6ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 1.4ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-27 15:30:30', '2015-05-27 15:30:30')[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.5ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190966 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 1.2ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190967 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190967, '2015-05-27 15:30:30', 1, '2015-05-27 15:30:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 2.4ms)
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mTshirt Exists (0.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190967 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190967
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.7ms)
  Rendered cart/_cart.html.erb (6.9ms)
Completed 500 Internal Server Error in 92ms
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:30:30', '2015-05-27 15:30:30')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (11.6ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968[0m
  Rendered cart/_cart.html.erb (1.5ms)
Completed 200 OK in 23ms (Views: 17.8ms | ActiveRecord: 2.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190968 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 1.5ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190968 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.9ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 1.4ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '98024d73bf2cd1ca0d431631a15f9414e5ca3151d7705dbb3e9c26cb4d7fb938550c0d584fb8688c87244fa5f9bfe3ea3530c647b26c69da55230d117d568538' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:30:30', 'f624a69e0be188664e8d2dbc766b1587606804af0e18b1a5355da013a0e9d0230ef77c9f6db14e981b36e1330bef729cc96debe01735605eef249ed1f2268383', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'k0KzXJ2qiwuSEfmIkL', 'lNQYgFLxKBhZoA9CfD11', '98024d73bf2cd1ca0d431631a15f9414e5ca3151d7705dbb3e9c26cb4d7fb938550c0d584fb8688c87244fa5f9bfe3ea3530c647b26c69da55230d117d568538', '2015-05-27 15:30:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (5.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 0.8ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'b98b1e3def391c9bcdaa7bff88028efd06d754d95115ffc4cfa07ea73e7a163d58905e4f8504a82e0a0a43d9c098f689ad703dd7d3e5ab531474caa40f72bb12' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:30:30', '1b40b034b3319c0afb9936915c49689acffd093c3a2d0483fe7fffad2a6c40f259d3ff0a25cbabf1cf22eec6ce067015ff336075a78bde365ecdab63d4096f5f', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'PgNjrzS9nOmyo9jGvzH', 'eBvc5duFewCPmUOY6e6', 'b98b1e3def391c9bcdaa7bff88028efd06d754d95115ffc4cfa07ea73e7a163d58905e4f8504a82e0a0a43d9c098f689ad703dd7d3e5ab531474caa40f72bb12', '2015-05-27 15:30:30')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-05-27 15:30:30', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:30:30', `login_count` = 1, `perishable_token` = 'Qu5NIcdVgiZx2OMTkqU', `updated_at` = '2015-05-27 15:30:30' WHERE `users`.`id` = 5[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-27 15:30:30', 'Prueba', '123456789', '2015-05-27 15:30:30')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (11.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (1.1ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.3ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'cef3eea2c92a2a64370e71e93d232fbe1a869fffc916dd5971f483abed811652ab15034c07f3bbf222a5b081312c6d83d4848cb3c70565b2a9fd773219024f07' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:30:30', '349dedc0355d931874155d7d6fcc0215f945e842fcae4cde25acdb2f6434de205592ae63dfcf5801d3ea805fed1624e81dc171fe4045a00c82e860596a2ff623', '2015-05-27 15:30:30', '127.0.0.1', 'kevin@emporium.com', '2015-05-27 15:30:30', 'kevin', 1, 'Kevin Valle', 'Qobkto8chgTBTGQvWmfG', 'a8zpEIWtOm3aigOKnpRq', 'cef3eea2c92a2a64370e71e93d232fbe1a869fffc916dd5971f483abed811652ab15034c07f3bbf222a5b081312c6d83d4848cb3c70565b2a9fd773219024f07', '2015-05-27 15:30:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 15ms (ActiveRecord: 3.0ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cef3eea2c92a2a64370e71e93d232fbe1a869fffc916dd5971f483abed811652ab15034c07f3bbf222a5b081312c6d83d4848cb3c70565b2a9fd773219024f07' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:30:30', `perishable_token` = 'VtdKtf9J0aviKYTZYS2', `updated_at` = '2015-05-27 15:30:30' WHERE `users`.`id` = 6
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 6.6ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=6" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"6"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cef3eea2c92a2a64370e71e93d232fbe1a869fffc916dd5971f483abed811652ab15034c07f3bbf222a5b081312c6d83d4848cb3c70565b2a9fd773219024f07' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:30:30', `perishable_token` = 'AE65CdFTtuZSHHq6RO2P', `updated_at` = '2015-05-27 15:30:30' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 6 LIMIT 1[0m
Started GET "/user/edit?id=6" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"6"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cef3eea2c92a2a64370e71e93d232fbe1a869fffc916dd5971f483abed811652ab15034c07f3bbf222a5b081312c6d83d4848cb3c70565b2a9fd773219024f07' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:30:30', `perishable_token` = '7Cltp2ybhFujI1UIo1F', `updated_at` = '2015-05-27 15:30:30' WHERE `users`.`id` = 6
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 7.1ms | ActiveRecord: 1.2ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cef3eea2c92a2a64370e71e93d232fbe1a869fffc916dd5971f483abed811652ab15034c07f3bbf222a5b081312c6d83d4848cb3c70565b2a9fd773219024f07' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:30:30', `perishable_token` = 'eVHAksUoM5ryZ3XNeg', `updated_at` = '2015-05-27 15:30:30' WHERE `users`.`id` = 6
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '8e09011d6c7040eec759bf1e7fd187e1e6283184cd1bb61b67f99911ee100263289e33dd9725a4f777309e11aabf2b8586ac5ae59a628f2d2bc32d6d95534878' AND `users`.`id` != 6) LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 6) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 6) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 6) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cef3eea2c92a2a64370e71e93d232fbe1a869fffc916dd5971f483abed811652ab15034c07f3bbf222a5b081312c6d83d4848cb3c70565b2a9fd773219024f07' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `crypted_password` = 'a92aff31b1c683c664b75ea4c944cbfca0f56b8388293581e5d9c5e8360140eac4b49421782b3ddf676d7f9124c84f40d2917ffc360a35b5884536eb23a63a59', `current_login_at` = '2015-05-27 15:30:30', `last_login_at` = '2015-05-27 15:30:30', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:30:30', `login_count` = 2, `password_salt` = '6Bfp7xkSqgFEeikhS7xz', `perishable_token` = 'TETlUXTNBkCWtZoDODG', `persistence_token` = '8e09011d6c7040eec759bf1e7fd187e1e6283184cd1bb61b67f99911ee100263289e33dd9725a4f777309e11aabf2b8586ac5ae59a628f2d2bc32d6d95534878', `updated_at` = '2015-05-27 15:30:30' WHERE `users`.`id` = 6
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 27ms (ActiveRecord: 4.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:30:30 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:30:30', `perishable_token` = 'Iu5sNMvS6Y0W3qOAFiDV', `updated_at` = '2015-05-27 15:30:30' WHERE `users`.`id` = 6
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 4.4ms | ActiveRecord: 1.2ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.9ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.7ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:57', '2015-05-27 15:30:57', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:57', '2015-05-27 15:30:57', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:57', '2015-05-27 15:30:57', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:57', '2015-05-27 15:30:57', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:57', '2015-05-27 15:30:57', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:57', '2015-05-27 15:30:57', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:57', '2015-05-27 15:30:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:30:57', '2015-05-27 15:30:57', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-27 15:30:57', '2015-05-27 15:30:57')[0m
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-27 15:30:57', 'Prueba', '123456789', '2015-05-27 15:30:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (1.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:30:57 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 28ms (ActiveRecord: 1.8ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-27 17:30:57 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (25.4ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 64ms (Views: 61.4ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '4df702e7dd0466698f2c52e5c56eef572baa41ab524f320e18f0aa02b471666c51500b5cd3a551c1c8613bd98d1f2c4f5ae5125aa40b6f200c4b6715099413b7' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:30:58', '3affe080581938f4a74b952f084133d7876f6e94d14e898bdcd918f2aeeb1b7728d8a800b450f74e746b5b127fd3428df37266cecb996d2d89dc33dc9defb5cd', '2015-05-27 15:30:58', '127.0.0.1', 'kevin@emporium.com', '2015-05-27 15:30:58', 'kevin', 1, 'Kevin Valle', 't0mrV55D9CTvNaRUdPO', 'FaaJ1h0uawMl6mP5ppd', '4df702e7dd0466698f2c52e5c56eef572baa41ab524f320e18f0aa02b471666c51500b5cd3a551c1c8613bd98d1f2c4f5ae5125aa40b6f200c4b6715099413b7', '2015-05-27 15:30:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 19ms (ActiveRecord: 2.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4df702e7dd0466698f2c52e5c56eef572baa41ab524f320e18f0aa02b471666c51500b5cd3a551c1c8613bd98d1f2c4f5ae5125aa40b6f200c4b6715099413b7' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:30:58', `perishable_token` = 'B8DUs0jTb0IURYSF2GEw', `updated_at` = '2015-05-27 15:30:58' WHERE `users`.`id` = 7
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=7" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"7"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4df702e7dd0466698f2c52e5c56eef572baa41ab524f320e18f0aa02b471666c51500b5cd3a551c1c8613bd98d1f2c4f5ae5125aa40b6f200c4b6715099413b7' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:30:58', `perishable_token` = 'XhvHn2SSaYrqhniYVfQ4', `updated_at` = '2015-05-27 15:30:58' WHERE `users`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 7 LIMIT 1[0m
Started GET "/user/edit?id=7" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"7"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4df702e7dd0466698f2c52e5c56eef572baa41ab524f320e18f0aa02b471666c51500b5cd3a551c1c8613bd98d1f2c4f5ae5125aa40b6f200c4b6715099413b7' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:30:58', `perishable_token` = 'Ima03NuGzgL6yol57s', `updated_at` = '2015-05-27 15:30:58' WHERE `users`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4df702e7dd0466698f2c52e5c56eef572baa41ab524f320e18f0aa02b471666c51500b5cd3a551c1c8613bd98d1f2c4f5ae5125aa40b6f200c4b6715099413b7' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:30:58', `perishable_token` = 'yrvoQWgnyGuzW6BCIwh', `updated_at` = '2015-05-27 15:30:58' WHERE `users`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '42ab0e830f0f2aef84c38bb5c2664450e78c7985d50f1d5347fbe8a477f161516d03bb2f51a9d08644b26eca30e243ad8d2fbf93bff1c46771b0d5f4808f321d' AND `users`.`id` != 7) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 7) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 7) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 7) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4df702e7dd0466698f2c52e5c56eef572baa41ab524f320e18f0aa02b471666c51500b5cd3a551c1c8613bd98d1f2c4f5ae5125aa40b6f200c4b6715099413b7' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = 'e26de06f6dd73690b5f7cc021f34a93ae316be96348a9632ec7ffaff95bac1796a09f777e9351d53e0167a98fef98fca447cb7909e96622cfd8306450855b642', `current_login_at` = '2015-05-27 15:30:58', `last_login_at` = '2015-05-27 15:30:58', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:30:58', `login_count` = 2, `password_salt` = '8sSugx9pT28p8ngmFX2L', `perishable_token` = '1oB2zXnYmxIBKvojsOD', `persistence_token` = '42ab0e830f0f2aef84c38bb5c2664450e78c7985d50f1d5347fbe8a477f161516d03bb2f51a9d08644b26eca30e243ad8d2fbf93bff1c46771b0d5f4808f321d', `updated_at` = '2015-05-27 15:30:58' WHERE `users`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 14ms (ActiveRecord: 3.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:30:58', `perishable_token` = 'T4gxMx0zg1H97TBhWLx', `updated_at` = '2015-05-27 15:30:58' WHERE `users`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 1.1ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:30:58', '2015-05-27 15:30:58')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (15.9ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190969[0m
  Rendered cart/_cart.html.erb (8.6ms)
Completed 200 OK in 37ms (Views: 30.9ms | ActiveRecord: 2.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190969 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.6ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190969
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 12ms (Views: 7.2ms | ActiveRecord: 1.5ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190969 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.9ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190969
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 1.2ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'c5898ff3facd9e070a1cb9a212281943150a96688bc3a8e8e5825198b30d50b3a3f5a643c5cdd9306b2056c2a03568fb4bb33a4fa84f582274c445bea67ec69c' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:30:58', '0177cb6bc1955a9fd3c388d083ca5057754d28dae529c680415fd08d87e692852161f0783845d19a1f3a3816d3188558d0fe34f82da3506e33c5cec124a68a16', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'nYU47yO1SSaLwBivotM7', '3qnxLIaqj1mB6lydc4xY', 'c5898ff3facd9e070a1cb9a212281943150a96688bc3a8e8e5825198b30d50b3a3f5a643c5cdd9306b2056c2a03568fb4bb33a4fa84f582274c445bea67ec69c', '2015-05-27 15:30:58')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (2.9ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'ccdb3db48190a2b836c3514a03239734bcc691c3c750ff5e1c3bdeab9a46c2a8a445a2fb29f4d4de09c2b83502c2273114713813a5edbb9cebb8ddbdd76943c7' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:30:58', '3c45c3f8a056d8a0adb8bf34bd0f2778c584700861acdb52a0ad699a630b641bcabbbe2d4b72264430a8f499e2bbcf7090e4f85343a1a358c9ce460239f48567', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'W7nLUycbFiyZ2fmRUXe', 'WEyzybClIjzWgisdSVah', 'ccdb3db48190a2b836c3514a03239734bcc691c3c750ff5e1c3bdeab9a46c2a8a445a2fb29f4d4de09c2b83502c2273114713813a5edbb9cebb8ddbdd76943c7', '2015-05-27 15:30:58')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-05-27 15:30:58', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:30:58', `login_count` = 1, `perishable_token` = 'N3vcGvACLDs6qoWlwek', `updated_at` = '2015-05-27 15:30:58' WHERE `users`.`id` = 9[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:30:58', '2015-05-27 15:30:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190970 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:30:58', '2015-05-27 15:30:58')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190971 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190971, '2015-05-27 15:30:58', 1, '2015-05-27 15:30:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 2.2ms)
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:30:58 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190971 LIMIT 1[0m
  [1m[35mTshirt Exists (0.2ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190971 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190971
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (3.0ms)
  Rendered cart/_cart.html.erb (6.9ms)
Completed 500 Internal Server Error in 40ms
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50', 298486374)
  [1m[36mFixture Delete (2.6ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-27 15:31:50', '2015-05-27 15:31:50')[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-27 15:31:50', 'Prueba', '123456789', '2015-05-27 15:31:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (9.2ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (14.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 87ms (Views: 74.3ms | ActiveRecord: 4.0ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"5"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 5, 30.5, 'M')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 14ms (ActiveRecord: 1.3ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (13.6ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (16.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (10.8ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (12.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 1.5ms)
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (10.8ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (12.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 1.3ms)
Started GET "/admin/tshirt/show?id=7" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  Rendered admin/tshirt/show.html.erb within layouts/application (2.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/edit?id=7" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.8ms)
  Rendered admin/tshirt/edit.html.erb within layouts/application (3.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 1.2ms)
Started POST "/admin/tshirt/update?id=7" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"5"}, "id"=>"7"}
  [1m[35mTshirt Load (1.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 7[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/show?id=7
Completed 302 Found in 7ms (ActiveRecord: 2.4ms)
Started GET "/admin/tshirt/show?id=7" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  Rendered admin/tshirt/show.html.erb within layouts/application (1.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/destroy?id=7" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"7"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `tshirts` WHERE `tshirts`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (7.0ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (8.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 19ms (Views: 11.9ms | ActiveRecord: 1.0ms)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (10.7ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190972[0m
  Rendered cart/_cart.html.erb (10.2ms)
Completed 200 OK in 35ms (Views: 27.7ms | ActiveRecord: 2.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190972 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190972
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 7.2ms | ActiveRecord: 1.3ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190972 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (4.4ms)
ApplicationController::current_user
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190972
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 16ms (Views: 12.1ms | ActiveRecord: 2.1ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (13.4ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.3ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '2149d623d1a876e4d7b57d7636d5961c736353e3afa52d6f4c4561839121f96d08a8308efd195f1172d279de70c62d84a42efa2ee35acd670eb9be96c03d9d19' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:31:50', '8d6ff2041a4c9afe81331b60e9317cc0d717fc7ec462259aae7054756ef2bc4d9667dd2c0b0f85e76dbfe8f310120d9713e8e700c520e1e0ba054407482220bb', '2015-05-27 15:31:50', '127.0.0.1', 'kevin@emporium.com', '2015-05-27 15:31:50', 'kevin', 1, 'Kevin Valle', 'HPGzHcdhj9woUHWctlY', 'qzlP33XB26V9lSzgDkC', '2149d623d1a876e4d7b57d7636d5961c736353e3afa52d6f4c4561839121f96d08a8308efd195f1172d279de70c62d84a42efa2ee35acd670eb9be96c03d9d19', '2015-05-27 15:31:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 24ms (ActiveRecord: 2.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '2149d623d1a876e4d7b57d7636d5961c736353e3afa52d6f4c4561839121f96d08a8308efd195f1172d279de70c62d84a42efa2ee35acd670eb9be96c03d9d19' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:31:50', `perishable_token` = 'LQNVyckS0kYYpiuaXnXR', `updated_at` = '2015-05-27 15:31:50' WHERE `users`.`id` = 10
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=10" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"10"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '2149d623d1a876e4d7b57d7636d5961c736353e3afa52d6f4c4561839121f96d08a8308efd195f1172d279de70c62d84a42efa2ee35acd670eb9be96c03d9d19' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:31:50', `perishable_token` = 'OYBPIIdqZkaEpKgYn9', `updated_at` = '2015-05-27 15:31:50' WHERE `users`.`id` = 10[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 10 LIMIT 1[0m
Started GET "/user/edit?id=10" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"10"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '2149d623d1a876e4d7b57d7636d5961c736353e3afa52d6f4c4561839121f96d08a8308efd195f1172d279de70c62d84a42efa2ee35acd670eb9be96c03d9d19' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:31:50', `perishable_token` = '9oDWqHSFDPnPznEqpn1T', `updated_at` = '2015-05-27 15:31:50' WHERE `users`.`id` = 10
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '2149d623d1a876e4d7b57d7636d5961c736353e3afa52d6f4c4561839121f96d08a8308efd195f1172d279de70c62d84a42efa2ee35acd670eb9be96c03d9d19' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:31:50', `perishable_token` = 'fy3whHK3OYM3o4nyfONC', `updated_at` = '2015-05-27 15:31:50' WHERE `users`.`id` = 10
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '902e708b1ec647409f54e287a65fdc0e108ce9eaac7401f838a91643d851868f0d111ab52b81331d84396ca985119acaeabb7a0ca4111ceaf6de6b176247c857' AND `users`.`id` != 10) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 10) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 10) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 10) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '2149d623d1a876e4d7b57d7636d5961c736353e3afa52d6f4c4561839121f96d08a8308efd195f1172d279de70c62d84a42efa2ee35acd670eb9be96c03d9d19' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = '1c092cbb643c5e05dc4654f00beeb82f69fa744d310c0baddbe2ca7d5ebbc2614a7257922e4919a4a0bdc57ce73f67e1efab360b77594b82a2d3e7339a5a2cda', `current_login_at` = '2015-05-27 15:31:50', `last_login_at` = '2015-05-27 15:31:50', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:31:50', `login_count` = 2, `password_salt` = 'VRfxZiIDjwYEEHJGZlgN', `perishable_token` = 'DNneZpKuyRe9wu3FC945', `persistence_token` = '902e708b1ec647409f54e287a65fdc0e108ce9eaac7401f838a91643d851868f0d111ab52b81331d84396ca985119acaeabb7a0ca4111ceaf6de6b176247c857', `updated_at` = '2015-05-27 15:31:50' WHERE `users`.`id` = 10
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 17ms (ActiveRecord: 3.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:31:50', `perishable_token` = '7zTbie43ktYCkIvtehH', `updated_at` = '2015-05-27 15:31:50' WHERE `users`.`id` = 10
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 4.1ms | ActiveRecord: 1.1ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '01914f0afda92f57ef6de390c0c0657767c401366b470973d7f7ef1eb056b7970e17060af166495bc875a3677638d111981f6fcb297c1c262ab4090855c7b780' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:31:50', '2ac74c1bd3c906804a55ec09ef0afd80419f903a7c55aac6b17a9d71d43f983a8705dd92a57dbd9bc716cdf6b595174e7c246442e769c2565f9068a9473d903b', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'VgevtyZT4vq4gJpH0zc', 'CXA6ucHrMwg8OcMhc9mq', '01914f0afda92f57ef6de390c0c0657767c401366b470973d7f7ef1eb056b7970e17060af166495bc875a3677638d111981f6fcb297c1c262ab4090855c7b780', '2015-05-27 15:31:50')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.7ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '446fe93563aa5a69e2e1fbbb0a98ddcab7da10d8e4fcf8f64ef4c4139f22539c683487a0999d25694ae97773a8384b15da0c3e4c1236258c98e9b645541cbd80' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:31:50', '6127dbd55564415dac1698f3aa7023cba95f8601570a1d59ba1588101f9bb3e5749de3815dca3fc7aa8399d504fc766736f615bd433467f222306ebf9fde6ee6', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'xyfN9lqdI0hbhO4QBFBW', 'CQQXfBEU0snCTm49Epv', '446fe93563aa5a69e2e1fbbb0a98ddcab7da10d8e4fcf8f64ef4c4139f22539c683487a0999d25694ae97773a8384b15da0c3e4c1236258c98e9b645541cbd80', '2015-05-27 15:31:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190973 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:31:50', '2015-05-27 15:31:50')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190974, '2015-05-27 15:31:50', 1, '2015-05-27 15:31:50')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 2.4ms)
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:31:50 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190974 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190974[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.8ms)
  Rendered cart/_cart.html.erb (6.9ms)
Completed 500 Internal Server Error in 54ms
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-27 15:32:02', '2015-05-27 15:32:02')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (11.6ms)
  Rendered user/new.html.erb within layouts/application (16.2ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 89ms (Views: 64.0ms | ActiveRecord: 1.6ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '6d8f962e4214a37dab2ec4563e937fc01d3243f0dad5527754b475380d3290faf8315d8a15011ada8da866b64cdbdd14d85ffcffa71899b611a92558d28bc827' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:32:02', '7315dc7bbe82add8546cb3febf07a2890d20266f4d849719b2405e04d7a96070a59ce6f7b8d20b55e4e7a61887f307b912ad2d0e4cf5989aa698f05a422a21ea', '2015-05-27 15:32:02', '127.0.0.1', 'kevin@emporium.com', '2015-05-27 15:32:02', 'kevin', 1, 'Kevin Valle', 'lhZHg5T3pSY764aXpp', 'a4ez2eHAxwBQsSSqzY5n', '6d8f962e4214a37dab2ec4563e937fc01d3243f0dad5527754b475380d3290faf8315d8a15011ada8da866b64cdbdd14d85ffcffa71899b611a92558d28bc827', '2015-05-27 15:32:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 25ms (ActiveRecord: 2.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6d8f962e4214a37dab2ec4563e937fc01d3243f0dad5527754b475380d3290faf8315d8a15011ada8da866b64cdbdd14d85ffcffa71899b611a92558d28bc827' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:32:02', `perishable_token` = '2A5uKVjKDaWrWPAzQHM', `updated_at` = '2015-05-27 15:32:02' WHERE `users`.`id` = 13
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.2ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=13" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"13"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6d8f962e4214a37dab2ec4563e937fc01d3243f0dad5527754b475380d3290faf8315d8a15011ada8da866b64cdbdd14d85ffcffa71899b611a92558d28bc827' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:32:02', `perishable_token` = 'ynyQA0ZykDJBx8JHvhI', `updated_at` = '2015-05-27 15:32:02' WHERE `users`.`id` = 13[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 13 LIMIT 1[0m
Started GET "/user/edit?id=13" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"13"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6d8f962e4214a37dab2ec4563e937fc01d3243f0dad5527754b475380d3290faf8315d8a15011ada8da866b64cdbdd14d85ffcffa71899b611a92558d28bc827' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:32:02', `perishable_token` = 'F6gS9TB8RY6m8U6YSS', `updated_at` = '2015-05-27 15:32:02' WHERE `users`.`id` = 13
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (1.2ms)
  Rendered user/edit.html.erb within layouts/application (4.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 17ms (Views: 8.9ms | ActiveRecord: 1.7ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6d8f962e4214a37dab2ec4563e937fc01d3243f0dad5527754b475380d3290faf8315d8a15011ada8da866b64cdbdd14d85ffcffa71899b611a92558d28bc827' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:32:02', `perishable_token` = 'LuSuJqwJKw2MOXeeTwgD', `updated_at` = '2015-05-27 15:32:02' WHERE `users`.`id` = 13
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '973721ef7c95e02d6d3d4fecdfb1b402cc9f99c5f777d194597c6aa6e1dbb23c4378337f7a981d3f5b13a5c997997b5ccdf9e27fa3f1f33f10ab562f3ce121e9' AND `users`.`id` != 13) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 13) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 13) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 13) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6d8f962e4214a37dab2ec4563e937fc01d3243f0dad5527754b475380d3290faf8315d8a15011ada8da866b64cdbdd14d85ffcffa71899b611a92558d28bc827' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = '320fcbe6fb6e01ea4ae36b11a4300199f0cb9645a7f0332d3cebf951311cc3ab3447f11c9c076dd2047653c03da39467f76ee127a02f616c0aea9b26d6f0f2f2', `current_login_at` = '2015-05-27 15:32:02', `last_login_at` = '2015-05-27 15:32:02', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:32:02', `login_count` = 2, `password_salt` = 'AbL8jgxr0w5Q4FqLre7', `perishable_token` = '8TdiOA3bo0PgQvCULMV', `persistence_token` = '973721ef7c95e02d6d3d4fecdfb1b402cc9f99c5f777d194597c6aa6e1dbb23c4378337f7a981d3f5b13a5c997997b5ccdf9e27fa3f1f33f10ab562f3ce121e9', `updated_at` = '2015-05-27 15:32:02' WHERE `users`.`id` = 13
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 18ms (ActiveRecord: 3.1ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:32:02', `perishable_token` = 'JQlPXWqyvGU5SMI3XOP', `updated_at` = '2015-05-27 15:32:02' WHERE `users`.`id` = 13
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 1.0ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '33b9275bd0e00c51657006a796356c8ac81f0c4eb31b95388dd8d77fc880fbf8e40afc058b7e58b913b0973cfe5879692ab7833745187265db02884ef56192e3' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:32:02', 'd75228dc105232f1849a4c9c02a57e74b8f6ec814fe87e796f82fe351d8c82d8f7d927532e5081fdc6e981dd0f3678c6a2bbf47bcdd0e78e0b530e828490d855', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'ZAxiTqWiQUpbb4fNcGr', 'z2fa0zyPzOENIFNjZuTr', '33b9275bd0e00c51657006a796356c8ac81f0c4eb31b95388dd8d77fc880fbf8e40afc058b7e58b913b0973cfe5879692ab7833745187265db02884ef56192e3', '2015-05-27 15:32:02')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (3.5ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 25ms (Views: 22.0ms | ActiveRecord: 0.7ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '02f70a8b8495b5c523ce0e391bc0f87c113cb80eb9cb465b226718d0723ec1f13346f2d90b040385c8b2ce9ba837f814ca4c74bbe7a154c016a525888982f60a' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:32:02', '210117042e5bd2a6a4235f9acf6f142da0f5c6f3a930e36f59cfc96e5e35a4711a4722f8944c122d67d95e4c65218b8bb34a72d09241553b6318dfbf63fa1079', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'Z2HfR4NMVLLdi2jhMqs', 'BXkSEERE3uiiGzPR9G9Q', '02f70a8b8495b5c523ce0e391bc0f87c113cb80eb9cb465b226718d0723ec1f13346f2d90b040385c8b2ce9ba837f814ca4c74bbe7a154c016a525888982f60a', '2015-05-27 15:32:02')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `current_login_at` = '2015-05-27 15:32:02', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:32:02', `login_count` = 1, `perishable_token` = 'wlvYXYQr3j2wOAgc2C', `updated_at` = '2015-05-27 15:32:02' WHERE `users`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (21.2ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190975[0m
  Rendered cart/_cart.html.erb (7.4ms)
Completed 200 OK in 42ms (Views: 34.8ms | ActiveRecord: 2.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190975 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.5ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190975
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 1.1ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190975 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.7ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190975
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 1.2ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190976 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:32:02', '2015-05-27 15:32:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190977 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190977, '2015-05-27 15:32:02', 1, '2015-05-27 15:32:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 4.2ms)
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190977 LIMIT 1[0m
  [1m[35mTshirt Exists (0.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190977 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190977
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.8ms)
  Rendered cart/_cart.html.erb (7.9ms)
Completed 500 Internal Server Error in 57ms
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-27 15:32:02', 'Prueba', '123456789', '2015-05-27 15:32:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:32:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `tshirts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-27 15:33:37', '2015-05-27 15:33:37')[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (29.2ms)
  Rendered catalog/index.html.erb within layouts/application (32.8ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190978
  Rendered cart/_cart.html.erb (8.8ms)
Completed 200 OK in 107ms (Views: 77.6ms | ActiveRecord: 3.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190978 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.5ms)
  Rendered catalog/index.html.erb within layouts/application (3.0ms)
ApplicationController::current_user
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190978[0m
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 2.0ms)
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190978 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (4.0ms)
  Rendered catalog/latest.html.erb within layouts/application (4.5ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190978[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 1.4ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-27 15:33:37', 'Prueba', '123456789', '2015-05-27 15:33:37')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (11.8ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.3ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'cff8529b00d2ce56a9faf46d1264db07f823f2ce7644ab8f8163aeef394d2a480353b7cdf95d5c3f89f5e6a8724b93af6dc7cd70d191de57c382c3c5c73217f0' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:33:37', '2dcd49e1901a75d53d28896801fe02dd9e567e490d0bae2bbb5d49c2b6cf156f89d87846147e85c9560f481b11e3f3e9206b1f5d4bb604472df9144bfffc4de6', '2015-05-27 15:33:37', '127.0.0.1', 'kevin@emporium.com', '2015-05-27 15:33:37', 'kevin', 1, 'Kevin Valle', 'ofMIKc0HB5drNR9liLIF', 'lnHzhHcXhCs3wndsfCQg', 'cff8529b00d2ce56a9faf46d1264db07f823f2ce7644ab8f8163aeef394d2a480353b7cdf95d5c3f89f5e6a8724b93af6dc7cd70d191de57c382c3c5c73217f0', '2015-05-27 15:33:37')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 17ms (ActiveRecord: 2.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cff8529b00d2ce56a9faf46d1264db07f823f2ce7644ab8f8163aeef394d2a480353b7cdf95d5c3f89f5e6a8724b93af6dc7cd70d191de57c382c3c5c73217f0' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:33:37', `perishable_token` = 'pW7NYs787q6njl9IhomZ', `updated_at` = '2015-05-27 15:33:37' WHERE `users`.`id` = 16[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=16" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"16"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cff8529b00d2ce56a9faf46d1264db07f823f2ce7644ab8f8163aeef394d2a480353b7cdf95d5c3f89f5e6a8724b93af6dc7cd70d191de57c382c3c5c73217f0' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:33:37', `perishable_token` = '1YkSyZIds6myUcyHF9x', `updated_at` = '2015-05-27 15:33:37' WHERE `users`.`id` = 16
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 16 LIMIT 1
Started GET "/user/edit?id=16" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"16"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cff8529b00d2ce56a9faf46d1264db07f823f2ce7644ab8f8163aeef394d2a480353b7cdf95d5c3f89f5e6a8724b93af6dc7cd70d191de57c382c3c5c73217f0' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:33:37', `perishable_token` = 'R9Rdxe8AZuw0H2Rpj7W8', `updated_at` = '2015-05-27 15:33:37' WHERE `users`.`id` = 16[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.8ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cff8529b00d2ce56a9faf46d1264db07f823f2ce7644ab8f8163aeef394d2a480353b7cdf95d5c3f89f5e6a8724b93af6dc7cd70d191de57c382c3c5c73217f0' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:33:37', `perishable_token` = 'qqFOO2ftRq6rQ1P3sZ', `updated_at` = '2015-05-27 15:33:37' WHERE `users`.`id` = 16[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '9f3866a56e1042d3a0c783d29dadf3d494e0fa535db82f83d9eea122ae55479efe310f8279f417f4e36727201208e3879d9365e2c20606e39b1c80ba87c757e5' AND `users`.`id` != 16) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 16) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 16) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 16) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cff8529b00d2ce56a9faf46d1264db07f823f2ce7644ab8f8163aeef394d2a480353b7cdf95d5c3f89f5e6a8724b93af6dc7cd70d191de57c382c3c5c73217f0' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'cab8163a17e7be2e23afd41aa7b02bfa0423d7667c658cccfa76dbee2d601dee033c928c25fc16cc7de8359e0e65684b27a84471028f918288da7a14de8f0c24', `current_login_at` = '2015-05-27 15:33:37', `last_login_at` = '2015-05-27 15:33:37', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:33:37', `login_count` = 2, `password_salt` = 'p6zIeVPMfdyRK8jSJ8X', `perishable_token` = 'KIl80zsFBC3wxgVZKSv', `persistence_token` = '9f3866a56e1042d3a0c783d29dadf3d494e0fa535db82f83d9eea122ae55479efe310f8279f417f4e36727201208e3879d9365e2c20606e39b1c80ba87c757e5', `updated_at` = '2015-05-27 15:33:37' WHERE `users`.`id` = 16[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 2.8ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:33:37', `perishable_token` = '0kxFBMUDL3l6PEh7EPs', `updated_at` = '2015-05-27 15:33:37' WHERE `users`.`id` = 16[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 1.0ms)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '5a0da4354aca2d8f9a388f3dc58ebeff32a8d9d0cdafe869c059e964580cdc5336e2b7a7f99e826fcfb0d67c2a2baf19f0a604a37e10d078896f3d320b0659b4' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:33:37', 'c8a5a5dd6109b44ece1fd46d1dc67aee162b87a8998d52ff308123b5893a4d142df3ad39e0d2520dc32f627c8ee96920badff787aad5ab04fc66c368e1180753', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'lWRUiTgB7Sp7VufPYpDX', 'AKIslDgfcBvlmIpgLrD', '5a0da4354aca2d8f9a388f3dc58ebeff32a8d9d0cdafe869c059e964580cdc5336e2b7a7f99e826fcfb0d67c2a2baf19f0a604a37e10d078896f3d320b0659b4', '2015-05-27 15:33:37')
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (4.6ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.7ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'e6dbbf54fa4e3728a3cb0ab155eb1de49394ee614f66cf5dee44b6264179039e20148f3c591ccd18072275b52e210207d41be801024c58d2a4d519f96225f689' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:33:37', '87bd76fabc9610b51504fbbb9dfa1532e38354cf1d2e04613a255b8c7654d57d3d27e79160221f095f37bd8e961a9a11fe5745fbae5ca910e34e3cfe318d1577', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'JPbSCQGcECBEmRMwBwH', 'sCloReDIEVqYXObXFWcU', 'e6dbbf54fa4e3728a3cb0ab155eb1de49394ee614f66cf5dee44b6264179039e20148f3c591ccd18072275b52e210207d41be801024c58d2a4d519f96225f689', '2015-05-27 15:33:37')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-05-27 15:33:37', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:33:37', `login_count` = 1, `perishable_token` = 'q0EoDYjbvfiVIQLcDh9', `updated_at` = '2015-05-27 15:33:37' WHERE `users`.`id` = 18[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.8ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190979 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.6ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:33:37', '2015-05-27 15:33:37')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.9ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190980 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190980, '2015-05-27 15:33:37', 1, '2015-05-27 15:33:37')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 3.2ms)
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:33:37 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190980 LIMIT 1[0m
  [1m[35mTshirt Exists (1.2ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190980 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.7ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190980
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (3.1ms)
  Rendered cart/_cart.html.erb (8.8ms)
Completed 500 Internal Server Error in 51ms
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:34:55', '2015-05-27 15:34:55', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:34:55', '2015-05-27 15:34:55', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-27 15:34:55', '2015-05-27 15:34:55')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (13.3ms)
  Rendered user/new.html.erb within layouts/application (22.1ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 88ms (Views: 63.9ms | ActiveRecord: 1.8ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '7f7ccafa8a26375d4479c57ae82c460195ad29fda0a3feedb8ffd292420373f539234a3e824a79fbdc92a0f76a9d8cec110db04612862aad9ea99d35fa2676a8' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:34:55', 'd844c167f0b9853e232de67d4fadf5b497970a3b3a089c314eb4ed649f23f57b4071590c0897a72599ad53de6c86c816d9812a511ce4680838e9cf8d640ec46f', '2015-05-27 15:34:55', '127.0.0.1', 'kevin@emporium.com', '2015-05-27 15:34:55', 'kevin', 1, 'Kevin Valle', 'IcSNBFZjsTlWoisisHEt', 'iwc2iFKkJbtpTajBI1QM', '7f7ccafa8a26375d4479c57ae82c460195ad29fda0a3feedb8ffd292420373f539234a3e824a79fbdc92a0f76a9d8cec110db04612862aad9ea99d35fa2676a8', '2015-05-27 15:34:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 22ms (ActiveRecord: 2.6ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7f7ccafa8a26375d4479c57ae82c460195ad29fda0a3feedb8ffd292420373f539234a3e824a79fbdc92a0f76a9d8cec110db04612862aad9ea99d35fa2676a8' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:34:55', `perishable_token` = 'ML1okapXjh5o6ffmheV4', `updated_at` = '2015-05-27 15:34:55' WHERE `users`.`id` = 19[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 5.2ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=19" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"19"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7f7ccafa8a26375d4479c57ae82c460195ad29fda0a3feedb8ffd292420373f539234a3e824a79fbdc92a0f76a9d8cec110db04612862aad9ea99d35fa2676a8' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:34:55', `perishable_token` = '63EPJNZw74PqGfvABsBg', `updated_at` = '2015-05-27 15:34:55' WHERE `users`.`id` = 19
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 19 LIMIT 1
Started GET "/user/edit?id=19" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"19"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7f7ccafa8a26375d4479c57ae82c460195ad29fda0a3feedb8ffd292420373f539234a3e824a79fbdc92a0f76a9d8cec110db04612862aad9ea99d35fa2676a8' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:34:55', `perishable_token` = 'nNIHL4IEdjwJq7OiaQz', `updated_at` = '2015-05-27 15:34:55' WHERE `users`.`id` = 19[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (1.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7f7ccafa8a26375d4479c57ae82c460195ad29fda0a3feedb8ffd292420373f539234a3e824a79fbdc92a0f76a9d8cec110db04612862aad9ea99d35fa2676a8' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:34:55', `perishable_token` = '2DD6YlVRtiIl0Rvt5', `updated_at` = '2015-05-27 15:34:55' WHERE `users`.`id` = 19[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '1dff6613bb4e8c23bee07d050d611a8cb62aeffd9663718fa6f0c3526adb58032f8468e7c672d3322f8cfcd2df031dd922c2ca83d981d4cfafafe4b92d537f2d' AND `users`.`id` != 19) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 19) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 19) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 19) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7f7ccafa8a26375d4479c57ae82c460195ad29fda0a3feedb8ffd292420373f539234a3e824a79fbdc92a0f76a9d8cec110db04612862aad9ea99d35fa2676a8' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = '2fa580ce8ad45681e4567fe3224e49b63ee906363021713bc5a0debe69e67834e1c273a3c4ebe3b7c6b56c02498a014001819c6c196a4fb893d761613fcc9d67', `current_login_at` = '2015-05-27 15:34:55', `last_login_at` = '2015-05-27 15:34:55', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:34:55', `login_count` = 2, `password_salt` = 'wN6U3XtEweffNfGt3sXB', `perishable_token` = 'gdaj7pelQ89zPwv9DRzi', `persistence_token` = '1dff6613bb4e8c23bee07d050d611a8cb62aeffd9663718fa6f0c3526adb58032f8468e7c672d3322f8cfcd2df031dd922c2ca83d981d4cfafafe4b92d537f2d', `updated_at` = '2015-05-27 15:34:55' WHERE `users`.`id` = 19[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 14ms (ActiveRecord: 3.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:34:55', `perishable_token` = 'zKuGBIT2wKT9VCdWQey', `updated_at` = '2015-05-27 15:34:55' WHERE `users`.`id` = 19[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 1.1ms)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'bd4514427da7600772e2e5ff90dd597e8913272efb6397aa86d2da6aadbce3be8ed87b4cc75bdd8f1e4399eca27116d6e3de4af767120bc5574cc4366cf07383' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:34:55', 'cc0e1285523545c879b728876d090a1c02e54f79d5fa5f19e6232d0ec0eaa4c95738fd49d6429adc3051175a1a9b1c2512a980517cd929d4adc69db792579346', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '207pT09hrY9ByjQTFOt', 'ajLHGBejjJoPerb0T9w', 'bd4514427da7600772e2e5ff90dd597e8913272efb6397aa86d2da6aadbce3be8ed87b4cc75bdd8f1e4399eca27116d6e3de4af767120bc5574cc4366cf07383', '2015-05-27 15:34:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (3.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.7ms)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '4da640d1d129789054b83ac7b5d6860b209738e73be284be802e16a2e0a115c463e63d661060203a545de97d8609fc781c940d8e4af44ff8b9e9be3e2f671940' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:34:55', 'c13a12e7f1e0212db734e0842e51a6edc0e11e314b8fead8e03cacae011ac984e33945da3b6f0f6ae3f6eb77bee0de820ba5a34e70709af374893c1e95179ff2', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'AQMmiBoIwwEpmm5V5c8', 'lKVL7DDUfEV0mFkrifW', '4da640d1d129789054b83ac7b5d6860b209738e73be284be802e16a2e0a115c463e63d661060203a545de97d8609fc781c940d8e4af44ff8b9e9be3e2f671940', '2015-05-27 15:34:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-05-27 15:34:55', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:34:55', `login_count` = 1, `perishable_token` = 'GGMEhQhTjKM0K2RLhJ1', `updated_at` = '2015-05-27 15:34:55' WHERE `users`.`id` = 21[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[36m (4.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-27 15:34:55', 'Prueba', '123456789', '2015-05-27 15:34:55')
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:34:55', '2015-05-27 15:34:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (20.3ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190981
  Rendered cart/_cart.html.erb (8.0ms)
Completed 200 OK in 43ms (Views: 35.0ms | ActiveRecord: 3.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190981 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.5ms)
ApplicationController::current_user
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190981[0m
  Rendered cart/_cart.html.erb (1.7ms)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 2.2ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-27 17:34:55 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190981 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (6.0ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190981[0m
  Rendered cart/_cart.html.erb (1.7ms)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 1.5ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:35:09', '2015-05-27 15:35:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-05-27 15:35:09', '2015-05-27 15:35:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-05-27 15:35:09', '2015-05-27 15:35:09')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:35:09', '2015-05-27 15:35:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190982 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 46ms (ActiveRecord: 3.3ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:35:09', '2015-05-27 15:35:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190983 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190983, '2015-05-27 15:35:09', 1, '2015-05-27 15:35:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 31ms (ActiveRecord: 1.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190983 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190983 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190983[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.8ms)
  Rendered cart/_cart.html.erb (7.2ms)
Completed 500 Internal Server Error in 84ms
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '0d6952b7fb44daafb6367d5a8ede4c1d3f328fa9ab5a6a41aced30a6cd98909fc1d509507a0e5163baf916741816b2f1540729436edc6c95bd0f6f0a6b2ea05e' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:35:09', 'ed860fc3ef3d1559072c5495d3c75a24810bbcbf102264fb893d5f4a9768d463c39d799262872c217dc1abacbf69d52c711d572d855e731a34e5f63667238d9b', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '8nXHLZ0LTTcr9vLzB4ut', '5UqcafR7JolILtRJer0H', '0d6952b7fb44daafb6367d5a8ede4c1d3f328fa9ab5a6a41aced30a6cd98909fc1d509507a0e5163baf916741816b2f1540729436edc6c95bd0f6f0a6b2ea05e', '2015-05-27 15:35:09')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (4.3ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 0.7ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '53fa0b1957d447fd5e2b94fc6594229b3317e1dc47cef1a6a42d8d09163b3f309bc894f02b75edaf1684dbcd79c8a7ff3e3039ed28c7da9baff3aa1f72bf0b07' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:35:09', 'f4b1158b104a63533be1b39bc6283b303e71001b3ce0082be7e8efe6de665fc43100feb4f775db802714a71978e066d32e5aa2891daf866b872ffc927463aaec', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'jpplcbdVrr50XyIvcYVb', '9v6cxPYIHTawwbMyC3', '53fa0b1957d447fd5e2b94fc6594229b3317e1dc47cef1a6a42d8d09163b3f309bc894f02b75edaf1684dbcd79c8a7ff3e3039ed28c7da9baff3aa1f72bf0b07', '2015-05-27 15:35:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-05-27 15:35:09', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:35:09', `login_count` = 1, `perishable_token` = 'wkqKNx5SSXjnkmoxzqr', `updated_at` = '2015-05-27 15:35:09' WHERE `users`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-05-27 15:35:09', '2015-05-27 15:35:09')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (11.5ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190984
  Rendered cart/_cart.html.erb (1.6ms)
Completed 200 OK in 32ms (Views: 18.2ms | ActiveRecord: 2.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190984 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.5ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190984[0m
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 1.4ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190984 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (4.0ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190984[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.3ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-05-27 15:35:09', 'Prueba', '123456789', '2015-05-27 15:35:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (14.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (1.3ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.3ms)
Started POST "/user/create" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '3ee013b3543ec346b68728a96d37d6da2724ded6072d0d5a949a38abe0c354199c8c7017cf1829f67391d5b4d349253bfb11fcfd6af54a10e4ba9ed4ad99e480' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-05-27 15:35:09', 'ca0c3e3ebe00d55d60f01e9ac0260f00dd814b2873d6a21ba5111c6b442fbaa8d093587ce6c6fa606db75ad5e2ff3eeaaa04031cafe482a089da118b4a469f70', '2015-05-27 15:35:09', '127.0.0.1', 'kevin@emporium.com', '2015-05-27 15:35:09', 'kevin', 1, 'Kevin Valle', 'QvKoFUct89G0DIj9l9C', 'TCMpxWoHVOqEX6daKj5', '3ee013b3543ec346b68728a96d37d6da2724ded6072d0d5a949a38abe0c354199c8c7017cf1829f67391d5b4d349253bfb11fcfd6af54a10e4ba9ed4ad99e480', '2015-05-27 15:35:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '3ee013b3543ec346b68728a96d37d6da2724ded6072d0d5a949a38abe0c354199c8c7017cf1829f67391d5b4d349253bfb11fcfd6af54a10e4ba9ed4ad99e480' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:35:09', `perishable_token` = 'ObV0L9wkkgqQ93IgPxb', `updated_at` = '2015-05-27 15:35:09' WHERE `users`.`id` = 24[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 4.9ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=24" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"24"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '3ee013b3543ec346b68728a96d37d6da2724ded6072d0d5a949a38abe0c354199c8c7017cf1829f67391d5b4d349253bfb11fcfd6af54a10e4ba9ed4ad99e480' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-05-27 15:35:09', `perishable_token` = 'upHy8KUdp77cxj3PDfZB', `updated_at` = '2015-05-27 15:35:09' WHERE `users`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 24 LIMIT 1
Started GET "/user/edit?id=24" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"24"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '3ee013b3543ec346b68728a96d37d6da2724ded6072d0d5a949a38abe0c354199c8c7017cf1829f67391d5b4d349253bfb11fcfd6af54a10e4ba9ed4ad99e480' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:35:09', `perishable_token` = 'oRCaDn0nlciEVp78aq7q', `updated_at` = '2015-05-27 15:35:09' WHERE `users`.`id` = 24[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '3ee013b3543ec346b68728a96d37d6da2724ded6072d0d5a949a38abe0c354199c8c7017cf1829f67391d5b4d349253bfb11fcfd6af54a10e4ba9ed4ad99e480' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:35:09', `perishable_token` = '9ZyHwoIobkgqvitQgH', `updated_at` = '2015-05-27 15:35:09' WHERE `users`.`id` = 24[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'e45df8a45e6e6b43014ec549e3a60077f4d304e391efb792b9ef53828237e2d91b0e64bd57c851116f7d5c0fa6f3dbaf6b5e0b40d1ef8adbe68b8f774c4fd807' AND `users`.`id` != 24) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 24) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 24) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 24) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '3ee013b3543ec346b68728a96d37d6da2724ded6072d0d5a949a38abe0c354199c8c7017cf1829f67391d5b4d349253bfb11fcfd6af54a10e4ba9ed4ad99e480' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = '742f0eee6d015e2edd662c2366792324040b4772a2dec4b5e99345c15c4b8b2fd1fc0497250085b1247551e375903b05943a375ed4ad680723d7f0d77b0a535e', `current_login_at` = '2015-05-27 15:35:09', `last_login_at` = '2015-05-27 15:35:09', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-05-27 15:35:09', `login_count` = 2, `password_salt` = 'fbfUMS65yHFaBmvMGVJ', `perishable_token` = 'OqgKDili9ZqKLQsYBo4', `persistence_token` = 'e45df8a45e6e6b43014ec549e3a60077f4d304e391efb792b9ef53828237e2d91b0e64bd57c851116f7d5c0fa6f3dbaf6b5e0b40d1ef8adbe68b8f774c4fd807', `updated_at` = '2015-05-27 15:35:09' WHERE `users`.`id` = 24[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 14ms (ActiveRecord: 3.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-05-27 17:35:09 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-05-27 15:35:09', `perishable_token` = 'M6QZ6KFqVyDVPPZh9ops', `updated_at` = '2015-05-27 15:35:09' WHERE `users`.`id` = 24[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 1.2ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (21.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:19:10', '2015-06-01 16:19:10', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:19:10', '2015-06-01 16:19:10', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 16:19:10', '2015-06-01 16:19:10')
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:19:10 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:10', '2015-06-01 16:19:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190963 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 200ms (ActiveRecord: 3.7ms)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 18:19:10 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:10', '2015-06-01 16:19:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190964, '2015-06-01 16:19:10', 1, '2015-06-01 16:19:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 66ms (ActiveRecord: 2.6ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:19:10 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (21.3ms)
  Rendered cart/_cart.html.erb (28.2ms)
Completed 500 Internal Server Error in 1225ms
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 16:19:12', 'Prueba', '123456789', '2015-06-01 16:19:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '29ae12f13be5a43ab5ab2833ef0e3cfa7f7bdd44f3606d69f8b0840fd4864b2cf72aa14b6e06f63ab2ad0bca9f62e7b7413e89a54decb3505c645e5aa3783516' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:12', 'ba456ab69eeb2c4d3594f6afeaa2fc96b511b80cc4df2396cef7c537942a1ca124df864a70c37b557700c6ee04ff4b6b975a48f5d8c951c8dcb94894ff803fdb', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '0wSoKf2JvYYOPZ1qreDz', 'zyJoaKLhQQOUvrpGoD1', '29ae12f13be5a43ab5ab2833ef0e3cfa7f7bdd44f3606d69f8b0840fd4864b2cf72aa14b6e06f63ab2ad0bca9f62e7b7413e89a54decb3505c645e5aa3783516', '2015-06-01 16:19:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (28.2ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 116ms (Views: 113.1ms | ActiveRecord: 0.7ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '12cf2f0c08078550bdd53b2498dd769530460064f4617f5928eefcae38767ec636b6308e1bf87e493262ea48457aaa9a6c205c7581e85e307f725d875adec959' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:12', '9c8ebe19781ff7720555f2462dbbeea04958ad114932e3751936c505ded582ba43ed68837db2acbf0445dea60d271a701668b78ff8f9a6f6719144245ed063cb', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '487SDqkq0HmeVz8okymD', 'pX044NlALPKJ8AwzGA2i', '12cf2f0c08078550bdd53b2498dd769530460064f4617f5928eefcae38767ec636b6308e1bf87e493262ea48457aaa9a6c205c7581e85e307f725d875adec959', '2015-06-01 16:19:12')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-01 16:19:12', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:19:12', `login_count` = 1, `perishable_token` = 'XiuTBh3JVE9mGbubugk', `updated_at` = '2015-06-01 16:19:12' WHERE `users`.`id` = 2[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 16ms (ActiveRecord: 1.6ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:12', '2015-06-01 16:19:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (32.0ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 73ms (Views: 67.9ms | ActiveRecord: 2.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (3.1ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 1.5ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (4.9ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965[0m
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 1.3ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (1.6ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 79ms (Views: 75.2ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'eeef650b95595a84eabc3edf68089df9c013db764520ef021fb1dc72c04b33411f058fe5b012291741f5b678b6158dad8972b17c30bfc3a54c7cf6faebef8a41' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:12', 'c3846be80267df4b6f5d768af185b62f163ab6bbc6a18d879c0f5b024f1cc5d02df8569f078b1620abdd68ede0de647eb7305df3024bb18c825cb900015d5203', '2015-06-01 16:19:12', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 16:19:12', 'kevin', 1, 'Kevin Valle', 'z1er9D7SPF128O47vQdp', 'ZWKcK6t1XEOuSOnjLY4e', 'eeef650b95595a84eabc3edf68089df9c013db764520ef021fb1dc72c04b33411f058fe5b012291741f5b678b6158dad8972b17c30bfc3a54c7cf6faebef8a41', '2015-06-01 16:19:12')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 16ms (ActiveRecord: 2.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'eeef650b95595a84eabc3edf68089df9c013db764520ef021fb1dc72c04b33411f058fe5b012291741f5b678b6158dad8972b17c30bfc3a54c7cf6faebef8a41' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:12', `perishable_token` = 'aOhoJtECXpKM7WMAPrYy', `updated_at` = '2015-06-01 16:19:12' WHERE `users`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=3" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"3"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'eeef650b95595a84eabc3edf68089df9c013db764520ef021fb1dc72c04b33411f058fe5b012291741f5b678b6158dad8972b17c30bfc3a54c7cf6faebef8a41' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:19:12', `perishable_token` = 'bR7hIsCaQLyvMa8ePs37', `updated_at` = '2015-06-01 16:19:12' WHERE `users`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 3 LIMIT 1
Started GET "/user/edit?id=3" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"3"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'eeef650b95595a84eabc3edf68089df9c013db764520ef021fb1dc72c04b33411f058fe5b012291741f5b678b6158dad8972b17c30bfc3a54c7cf6faebef8a41' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:12', `perishable_token` = '1xybtUMQYvDWUk58Fc8k', `updated_at` = '2015-06-01 16:19:12' WHERE `users`.`id` = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.8ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'eeef650b95595a84eabc3edf68089df9c013db764520ef021fb1dc72c04b33411f058fe5b012291741f5b678b6158dad8972b17c30bfc3a54c7cf6faebef8a41' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:12', `perishable_token` = 'jpzwczABSMBsADCNIH', `updated_at` = '2015-06-01 16:19:12' WHERE `users`.`id` = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (15.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '61d45fb71f58e3586e610fe33d328aa88556668b1aa0f0ee1f1e14964bf35c37bfae3be81da7829fbf79cc39a9d26bfcacd2218ba2ce72c4511ee3f1b1032f99' AND `users`.`id` != 3) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 3) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 3) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 3) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'eeef650b95595a84eabc3edf68089df9c013db764520ef021fb1dc72c04b33411f058fe5b012291741f5b678b6158dad8972b17c30bfc3a54c7cf6faebef8a41' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'cfec4ed6b07f6fb713c8fe20af257e452c2b08cbfa8bdd05ae524e8750ab5a0931d6d4c9f2a14ea3339acaf027269af2acd79098fa2ce584670b435b39c626b3', `current_login_at` = '2015-06-01 16:19:12', `last_login_at` = '2015-06-01 16:19:12', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:19:12', `login_count` = 2, `password_salt` = 'TrRtbwcwkEkl54mHeMr', `perishable_token` = 'VasaJ5bkcB8uoaNMxxCS', `persistence_token` = '61d45fb71f58e3586e610fe33d328aa88556668b1aa0f0ee1f1e14964bf35c37bfae3be81da7829fbf79cc39a9d26bfcacd2218ba2ce72c4511ee3f1b1032f99', `updated_at` = '2015-06-01 16:19:12' WHERE `users`.`id` = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 28ms (ActiveRecord: 17.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:19:12 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:12', `perishable_token` = 'A5SdbTjTwFVDxKojgyJW', `updated_at` = '2015-06-01 16:19:12' WHERE `users`.`id` = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 1.0ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:19:41', '2015-06-01 16:19:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:19:41', '2015-06-01 16:19:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 16:19:41', '2015-06-01 16:19:41')
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '89913c48e029d1de935b2505ede545355d810c12f5613fea940f1ac0fa6818861c627b862f38a08125e35090e665607e7d7c1c17114b841ecaaf6ea1a736d1c7' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:41', 'e2f1f2056bc8010149834e99ee516e4847fafbdc8d258798728ecc6faf2d018766a505b8eb02572bb85aab62849c6f037d94c7925d721d5fffeb3bfa6cc82451', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'HttNgON4cchGZMGJpFn', 'QBIaMYRX77HFXf35OlX', '89913c48e029d1de935b2505ede545355d810c12f5613fea940f1ac0fa6818861c627b862f38a08125e35090e665607e7d7c1c17114b841ecaaf6ea1a736d1c7', '2015-06-01 16:19:41')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (3.8ms)
  Rendered user_sessions/new.html.erb within layouts/application (9.0ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 50ms (Views: 47.5ms | ActiveRecord: 0.7ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '9f97f4026f1056d32a8329052ca3f14c1cfeb2d11aa0e8a1200f9e118a9a1e71cd101d9a195b97acc8d3f5bef8c4b24608ee672ed4e6e7104f5687e00cd66263' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:41', '60c2cb85b203114cb3f9029f4c31d71f397fc70110300014b569af8119b2093de7dae9c6d1d7ef8b9a6924f877d6ad39ab9173aa95f13ebbd2aab36b4cfb345b', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'zn9e1V0VTQlwMPGEr7', 'oRSbsoyuqgDPddnTS7S1', '9f97f4026f1056d32a8329052ca3f14c1cfeb2d11aa0e8a1200f9e118a9a1e71cd101d9a195b97acc8d3f5bef8c4b24608ee672ed4e6e7104f5687e00cd66263', '2015-06-01 16:19:41')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `current_login_at` = '2015-06-01 16:19:41', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:19:41', `login_count` = 1, `perishable_token` = '2Cjp1Q8dbId75PH6ijZ', `updated_at` = '2015-06-01 16:19:41' WHERE `users`.`id` = 5
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:41', '2015-06-01 16:19:41')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190966 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 3.2ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:41', '2015-06-01 16:19:41')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190967 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190967, '2015-06-01 16:19:41', 1, '2015-06-01 16:19:41')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 2.2ms)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 16:19:41', 'Prueba', '123456789', '2015-06-01 16:19:41')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (1.0ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 1.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '4833a40a6107d275595c1b6d60e1e7d5d82add4af8145840319fc16bc7c413c60f4b2264a6a0f69848a3e89041f654f1f4dc69b7bf14f6b1e7b0e482b760b007' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:41', 'f269864f2a2d1d7303ff8466a737e8c0fe7065876bbaf3cb76ca2b0ca1818a79b8467abc4ad1ddfe858235246fd1df6457d0d6d1d10b68fbfc58ab7baa2250cd', '2015-06-01 16:19:41', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 16:19:41', 'kevin', 1, 'Kevin Valle', 'Eq2HmOBT00RQKNdVUj', 'Kh7aKXvR0SmwnQ17Vz0', '4833a40a6107d275595c1b6d60e1e7d5d82add4af8145840319fc16bc7c413c60f4b2264a6a0f69848a3e89041f654f1f4dc69b7bf14f6b1e7b0e482b760b007', '2015-06-01 16:19:41')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4833a40a6107d275595c1b6d60e1e7d5d82add4af8145840319fc16bc7c413c60f4b2264a6a0f69848a3e89041f654f1f4dc69b7bf14f6b1e7b0e482b760b007' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:41', `perishable_token` = 'pJ01KiENtWMZQIDrD7mh', `updated_at` = '2015-06-01 16:19:41' WHERE `users`.`id` = 6[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 5.1ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=6" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"6"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4833a40a6107d275595c1b6d60e1e7d5d82add4af8145840319fc16bc7c413c60f4b2264a6a0f69848a3e89041f654f1f4dc69b7bf14f6b1e7b0e482b760b007' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:19:41', `perishable_token` = '9lMTDlNJkPogGrA0KQX2', `updated_at` = '2015-06-01 16:19:41' WHERE `users`.`id` = 6
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 6 LIMIT 1
Started GET "/user/edit?id=6" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"6"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4833a40a6107d275595c1b6d60e1e7d5d82add4af8145840319fc16bc7c413c60f4b2264a6a0f69848a3e89041f654f1f4dc69b7bf14f6b1e7b0e482b760b007' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:41', `perishable_token` = 'woC1P0wOYGol89PmxRS', `updated_at` = '2015-06-01 16:19:41' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4833a40a6107d275595c1b6d60e1e7d5d82add4af8145840319fc16bc7c413c60f4b2264a6a0f69848a3e89041f654f1f4dc69b7bf14f6b1e7b0e482b760b007' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:41', `perishable_token` = '4OiD4j7qF93WLoPRD4TA', `updated_at` = '2015-06-01 16:19:41' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '9243890dbca5a31123d9f78705fec2a8ed52043f3457237bfa2258479ff70bdb0c53798de928568514179383e1c4b08df96fce1409452b74d16c4dd31aac132a' AND `users`.`id` != 6) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 6) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 6) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 6) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4833a40a6107d275595c1b6d60e1e7d5d82add4af8145840319fc16bc7c413c60f4b2264a6a0f69848a3e89041f654f1f4dc69b7bf14f6b1e7b0e482b760b007' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = '8efa6f0937e11c4d4fd76dc3e2dd5981bec142fd8c26c9232fb0a375ba8555e98c8e5e1497477aaa6b50a49d3c12751787af7d0446cab32d5b9b34d4d712a323', `current_login_at` = '2015-06-01 16:19:41', `last_login_at` = '2015-06-01 16:19:41', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:19:41', `login_count` = 2, `password_salt` = 's7O4Hml6I4W4YYcaTc', `perishable_token` = 'M0SoGxUhwhbT4OirptMz', `persistence_token` = '9243890dbca5a31123d9f78705fec2a8ed52043f3457237bfa2258479ff70bdb0c53798de928568514179383e1c4b08df96fce1409452b74d16c4dd31aac132a', `updated_at` = '2015-06-01 16:19:41' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 3.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:19:41 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:41', `perishable_token` = 'oZ5crooB7AFGPQOfkPJU', `updated_at` = '2015-06-01 16:19:41' WHERE `users`.`id` = 6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 1.0ms)
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 18:19:42 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:42', '2015-06-01 16:19:42')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (8.1ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 2.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 18:19:42 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190968 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.5ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 1.4ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 18:19:42 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190968 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (4.4ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 1.5ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:19:56', '2015-06-01 16:19:56', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:19:56', '2015-06-01 16:19:56', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 16:19:56', '2015-06-01 16:19:56')
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (1.6ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 18:19:56 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (15.3ms)
  Rendered user/new.html.erb within layouts/application (20.9ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 94ms (Views: 66.1ms | ActiveRecord: 1.7ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 18:19:56 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '35bb76e54bdf9443d1fd8775c65445e4120d5a495f80cd3b982031c76c85a00e51422f359c82bfb97ef5da8543e5adeb7eec8716b2968bcbc4953f867f9111ee' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:56', 'a9367bf29ac5b560e100d1741ca5031f54fcd43e4d1513826c0fe66680ef3c2a92c64c0da7936af91ad4fe175260bef6724dade340b29afabcf72bec234e1167', '2015-06-01 16:19:56', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 16:19:56', 'kevin', 1, 'Kevin Valle', 'LstGicqZHSQTzDSENMSp', 'TEh4GC3WdLxxq84UP', '35bb76e54bdf9443d1fd8775c65445e4120d5a495f80cd3b982031c76c85a00e51422f359c82bfb97ef5da8543e5adeb7eec8716b2968bcbc4953f867f9111ee', '2015-06-01 16:19:56')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 21ms (ActiveRecord: 2.1ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:19:56 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '35bb76e54bdf9443d1fd8775c65445e4120d5a495f80cd3b982031c76c85a00e51422f359c82bfb97ef5da8543e5adeb7eec8716b2968bcbc4953f867f9111ee' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:56', `perishable_token` = 'm84JityjHcdZt2mtX2c', `updated_at` = '2015-06-01 16:19:56' WHERE `users`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.1ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 4.7ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=7" for 127.0.0.1 at 2015-06-01 18:19:56 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"7"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '35bb76e54bdf9443d1fd8775c65445e4120d5a495f80cd3b982031c76c85a00e51422f359c82bfb97ef5da8543e5adeb7eec8716b2968bcbc4953f867f9111ee' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:19:56', `perishable_token` = '4bFzTFu2nIbTewAKHyv', `updated_at` = '2015-06-01 16:19:56' WHERE `users`.`id` = 7
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 7 LIMIT 1
Started GET "/user/edit?id=7" for 127.0.0.1 at 2015-06-01 18:19:56 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"7"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '35bb76e54bdf9443d1fd8775c65445e4120d5a495f80cd3b982031c76c85a00e51422f359c82bfb97ef5da8543e5adeb7eec8716b2968bcbc4953f867f9111ee' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:56', `perishable_token` = 'VTsvYxwJKNGpKwQbhw9X', `updated_at` = '2015-06-01 16:19:56' WHERE `users`.`id` = 7[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (1.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 18:19:56 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '35bb76e54bdf9443d1fd8775c65445e4120d5a495f80cd3b982031c76c85a00e51422f359c82bfb97ef5da8543e5adeb7eec8716b2968bcbc4953f867f9111ee' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:56', `perishable_token` = 'xpcJnx0oNRQ6ewbn4vx', `updated_at` = '2015-06-01 16:19:56' WHERE `users`.`id` = 7[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '92bb979126ee6b41c9bffae8ea037c4f533264a43db543bca57cc61834de273130c7f30ac1d1b91f3c33965fa5172996e93dc74e793727115695991d835ac694' AND `users`.`id` != 7) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 7) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 7) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 7) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '35bb76e54bdf9443d1fd8775c65445e4120d5a495f80cd3b982031c76c85a00e51422f359c82bfb97ef5da8543e5adeb7eec8716b2968bcbc4953f867f9111ee' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = '4f37a1e71f340e350b63788f8c3c31bc056a319d7dd7165583b5537bfce6bd8036d19610f45dd303c83b88486a75aff0df14755f3e9be2fc5890dd8001b351d8', `current_login_at` = '2015-06-01 16:19:56', `last_login_at` = '2015-06-01 16:19:56', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:19:56', `login_count` = 2, `password_salt` = 'tDcWiCJmdPXrtMq0hU0S', `perishable_token` = '9yS7Pw52P54c6r9bQfxf', `persistence_token` = '92bb979126ee6b41c9bffae8ea037c4f533264a43db543bca57cc61834de273130c7f30ac1d1b91f3c33965fa5172996e93dc74e793727115695991d835ac694', `updated_at` = '2015-06-01 16:19:56' WHERE `users`.`id` = 7[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 3.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:19:56 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:19:56', `perishable_token` = 'aw0BgpuGRgm6Q9qvAzFp', `updated_at` = '2015-06-01 16:19:56' WHERE `users`.`id` = 7[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 1.1ms)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:19:56 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:56', '2015-06-01 16:19:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190969 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 3.5ms)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:57', '2015-06-01 16:19:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190970 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190970, '2015-06-01 16:19:57', 1, '2015-06-01 16:19:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 3.0ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190970 LIMIT 1[0m
  [1m[35mTshirt Exists (0.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190970 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190970
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.5ms)
  Rendered cart/_cart.html.erb (6.5ms)
Completed 500 Internal Server Error in 38ms
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 16:19:57', 'Prueba', '123456789', '2015-06-01 16:19:57')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '67a4bf4d3a9d11b5eea7196bc1bb4d35b6589b6a82346c8cd4c604f4e42cd619cc617db9b23b875140a2f4285ae6f47869a4af899651225ba28107cfcd702c0a' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:57', 'f92500f4edddd2fa47bdc3c82c1f324a349715475195a62584ea175ce0647ac980d4505338e5b297eaab700377d072525149c7429394546ee22848e0679ba514', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'FZr2CcNbWZ7ysfyvL9Kw', '1g7CXoCvai6Kt7qs6j8a', '67a4bf4d3a9d11b5eea7196bc1bb4d35b6589b6a82346c8cd4c604f4e42cd619cc617db9b23b875140a2f4285ae6f47869a4af899651225ba28107cfcd702c0a', '2015-06-01 16:19:57')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (3.3ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 15ms (Views: 9.6ms | ActiveRecord: 0.9ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'cfada7732ef158376fa32e94e0953aefe1259263a0dfc9761289a9e903c9bacafd1ac04f1c04f51220e624e12f3e1c7528320a0e3a03499d0f7b32c392bd8834' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:19:57', '27dac97a0394fb05180df736954badcb1e40b3f6bd70d22362e88a656d9c5622f085759a64c8624903776c50a04bea10c401b3fe5e40f78eaf7cab119fd32af6', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'uEcaaicDB2vqo8RQbWa6', 'X5pL5NiGq22pv1M9tv0n', 'cfada7732ef158376fa32e94e0953aefe1259263a0dfc9761289a9e903c9bacafd1ac04f1c04f51220e624e12f3e1c7528320a0e3a03499d0f7b32c392bd8834', '2015-06-01 16:19:57')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `current_login_at` = '2015-06-01 16:19:57', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:19:57', `login_count` = 1, `perishable_token` = 'bgu2tunDLYbaWXuH2gVU', `updated_at` = '2015-06-01 16:19:57' WHERE `users`.`id` = 9
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:19:57', '2015-06-01 16:19:57')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (1.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (11.3ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190971[0m
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 23ms (Views: 16.9ms | ActiveRecord: 2.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190971 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.4ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190971
  Rendered cart/_cart.html.erb (4.0ms)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 1.5ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 18:19:57 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190971 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (5.4ms)
ApplicationController::current_user
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190971
  Rendered cart/_cart.html.erb (10.3ms)
Completed 200 OK in 27ms (Views: 22.5ms | ActiveRecord: 2.2ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:20:28', '2015-06-01 16:20:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:20:28', '2015-06-01 16:20:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 16:20:28', '2015-06-01 16:20:28')
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:20:28', '2015-06-01 16:20:28')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (25.8ms)
  Rendered catalog/index.html.erb within layouts/application (29.5ms)
ApplicationController::current_user
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190972[0m
  Rendered cart/_cart.html.erb (8.3ms)
Completed 200 OK in 125ms (Views: 85.5ms | ActiveRecord: 5.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (1.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190972 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.6ms)
  Rendered catalog/index.html.erb within layouts/application (3.6ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190972
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 14ms (Views: 8.2ms | ActiveRecord: 2.2ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190972 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.4ms)
  Rendered catalog/latest.html.erb within layouts/application (3.9ms)
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.1ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190972
  Rendered cart/_cart.html.erb (2.8ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 1.0ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '5267e42b8d33facae6be977ac034702be1bc91beee2762ac2e5b87d11ed8432bbddf66879236634b20fde633db4d5aceb78845ebffd9aa3ade19985d369ba147' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:20:28', '069b372636b141f9b713b0ab0e81d4b80e4e9453157202e45e599d25c02e5c70b4baed60204cea049e0fef8df84ee2f6efcf66c01b8b91b62c624175159e042c', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'zCrXMgz9DDlgy3KbJLq', 'QmK1asqypfGM6l957k4R', '5267e42b8d33facae6be977ac034702be1bc91beee2762ac2e5b87d11ed8432bbddf66879236634b20fde633db4d5aceb78845ebffd9aa3ade19985d369ba147', '2015-06-01 16:20:28')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (18.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 66ms (Views: 64.2ms | ActiveRecord: 0.6ms)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '4055f06d17ff6c786c6516fff18c815b6c6739ba18acd9b041ebdd77971d2bde68633f23fc367de44712e6f0a34914282521ba1aac82520da7c4cfb972e0d98c' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:20:28', '5d94294a61e5d4aeb642a9a16e6cce69229bcb58298794c38f8ad7995a471672507fc9202527020d1e4117e0d4f3791b7f284da0ad617079bd04952ed40b212a', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '6IfUPh16tyujDv9yYkJG', '4lRYitMFbBFwetMUw0S', '4055f06d17ff6c786c6516fff18c815b6c6739ba18acd9b041ebdd77971d2bde68633f23fc367de44712e6f0a34914282521ba1aac82520da7c4cfb972e0d98c', '2015-06-01 16:20:28')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.6ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 16:20:28', 'Prueba', '123456789', '2015-06-01 16:20:28')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.6ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"5"}}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 5, 30.5, 'M')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (9.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 39ms (Views: 37.3ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-06-01 18:20:28 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (8.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (2.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 3.0ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (8.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/show?id=7" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.7ms)
Started GET "/admin/tshirt/edit?id=7" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 68ms (Views: 66.2ms | ActiveRecord: 0.8ms)
Started POST "/admin/tshirt/update?id=7" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"5"}, "id"=>"7"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 7[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/show?id=7
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
Started GET "/admin/tshirt/show?id=7" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 5 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.9ms)
Started POST "/admin/tshirt/destroy?id=7" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"7"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `tshirts` WHERE `tshirts`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (6.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.9ms)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:20:29', '2015-06-01 16:20:29')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190973 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 2.7ms)
  [1m[35m (17.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:20:29', '2015-06-01 16:20:29')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (1.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190974, '2015-06-01 16:20:29', 1, '2015-06-01 16:20:29')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 5.2ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190974 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190974[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.5ms)
  Rendered cart/_cart.html.erb (5.7ms)
Completed 500 Internal Server Error in 40ms
  [1m[36m (24.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (1.7ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (16.0ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '8d445ded7a1f625dbfeccd641aeda7b371ed781fe02eee371a2e9f31582412f79554671b42d010939b8dea68a76de1b18deefe82f9560cdd4cfe7cc324df625d' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:20:29', '443181e7e968cc0386a079bb5b6963411c21693ab4019b703953e84c37c37861d4eb95dc70eabb0aa472f481fedf3b2432969fd5d24784573f2d1de59eb31e55', '2015-06-01 16:20:29', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 16:20:29', 'kevin', 1, 'Kevin Valle', 'ILT2in9KK1E0tdnfqybR', 'uUx638vjUSsW3k7Wr2N0', '8d445ded7a1f625dbfeccd641aeda7b371ed781fe02eee371a2e9f31582412f79554671b42d010939b8dea68a76de1b18deefe82f9560cdd4cfe7cc324df625d', '2015-06-01 16:20:29')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 116ms (ActiveRecord: 17.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '8d445ded7a1f625dbfeccd641aeda7b371ed781fe02eee371a2e9f31582412f79554671b42d010939b8dea68a76de1b18deefe82f9560cdd4cfe7cc324df625d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:20:29', `perishable_token` = 'Hw6z5keGscoleb2M1Lpa', `updated_at` = '2015-06-01 16:20:29' WHERE `users`.`id` = 12
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=12" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"12"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '8d445ded7a1f625dbfeccd641aeda7b371ed781fe02eee371a2e9f31582412f79554671b42d010939b8dea68a76de1b18deefe82f9560cdd4cfe7cc324df625d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:20:29', `perishable_token` = 'T01Dxp2x8Y34ZMo0CAH', `updated_at` = '2015-06-01 16:20:29' WHERE `users`.`id` = 12[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 12 LIMIT 1[0m
Started GET "/user/edit?id=12" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"12"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '8d445ded7a1f625dbfeccd641aeda7b371ed781fe02eee371a2e9f31582412f79554671b42d010939b8dea68a76de1b18deefe82f9560cdd4cfe7cc324df625d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:20:29', `perishable_token` = 'RxlEIRQ7snfbG2ss6fW', `updated_at` = '2015-06-01 16:20:29' WHERE `users`.`id` = 12
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.5ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '8d445ded7a1f625dbfeccd641aeda7b371ed781fe02eee371a2e9f31582412f79554671b42d010939b8dea68a76de1b18deefe82f9560cdd4cfe7cc324df625d' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:20:29', `perishable_token` = 'dFOPufa0mSvGg1TqBsvC', `updated_at` = '2015-06-01 16:20:29' WHERE `users`.`id` = 12
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '7c2ee78719c4a10a84a5acd4c0d79c3d948e2427a83a70fe720314effb0954cfca13150c5237d68f3ca359bc94c7d087e5f03cc00ce17b5eaf4dbde8965b1b05' AND `users`.`id` != 12) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 12) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 12) LIMIT 1[0m
  [1m[35mUser Exists (5.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 12) LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '8d445ded7a1f625dbfeccd641aeda7b371ed781fe02eee371a2e9f31582412f79554671b42d010939b8dea68a76de1b18deefe82f9560cdd4cfe7cc324df625d' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `crypted_password` = 'accbb54832caa6d8389b96b9a8ae3b9b50c81f6d5ddb438593b97d09aef277267a2cf52b00950a1cc54ed1fb93a00858aa11fb10bcf6512ce609c61b82f13964', `current_login_at` = '2015-06-01 16:20:29', `last_login_at` = '2015-06-01 16:20:29', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:20:29', `login_count` = 2, `password_salt` = '3wvJg7g6RWKhuvUPPqn', `perishable_token` = 'ynBgcPGJk0OYraVb0gVD', `persistence_token` = '7c2ee78719c4a10a84a5acd4c0d79c3d948e2427a83a70fe720314effb0954cfca13150c5237d68f3ca359bc94c7d087e5f03cc00ce17b5eaf4dbde8965b1b05', `updated_at` = '2015-06-01 16:20:29' WHERE `users`.`id` = 12
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 22ms (ActiveRecord: 10.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:20:29 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (27.9ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:20:29', `perishable_token` = 'wKPxlgPZUqnECJAGd5', `updated_at` = '2015-06-01 16:20:29' WHERE `users`.`id` = 12
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 36ms (Views: 4.1ms | ActiveRecord: 28.3ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:27:22', '2015-06-01 16:27:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:27:22', '2015-06-01 16:27:22', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 16:27:22', '2015-06-01 16:27:22')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 16:27:22', 'Prueba', '123456789', '2015-06-01 16:27:22')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:27:22 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 28ms (ActiveRecord: 1.5ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '2d36a38f0123e83de58861be13e5d7efc8e0e531a0d4e7c373da54f653fabadfd56fc0fc15d9ab1d05770457995dac35c29771803ec7ac434fb8787073ff4fca' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:27:23', 'bc6851ca90c1d94de1cbef0b24ee23f02a2fef93b7c51f70a994962250ae84b32d88975387e6e43919717d0bbc648888bad2c6d810c1b45893aca37f3a9293bd', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '4Optrm21pFHIv12nfP', 'RDpMRpah2NTcWxJKG4', '2d36a38f0123e83de58861be13e5d7efc8e0e531a0d4e7c373da54f653fabadfd56fc0fc15d9ab1d05770457995dac35c29771803ec7ac434fb8787073ff4fca', '2015-06-01 16:27:23')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (5.7ms)
ApplicationController::current_user
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 66ms (Views: 60.6ms | ActiveRecord: 1.4ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '03d0fb30189684b43d0e94ce496f9ff6c23377eae6d92c26e742a27e5c5c95aa47b4af871aa79e8aac9e654395f24ecd6a178bff6900cc904f9c8e3152e3b262' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:27:23', '09cd607994405a69e80d55b535bbd9b8872ce0cf28dd4cdd60cc7324f455f04ab4f324f290d10942849eff45b4470dffaf62e0c67afe1f1e542411a219746b9b', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '2OzcXg3tSfxYptg9gyAG', '58Ilco40wwCvA14oeRx5', '03d0fb30189684b43d0e94ce496f9ff6c23377eae6d92c26e742a27e5c5c95aa47b4af871aa79e8aac9e654395f24ecd6a178bff6900cc904f9c8e3152e3b262', '2015-06-01 16:27:23')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `current_login_at` = '2015-06-01 16:27:23', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:27:23', `login_count` = 1, `perishable_token` = 'U1CSMA0sz5IXY4f4Z0QI', `updated_at` = '2015-06-01 16:27:23' WHERE `users`.`id` = 14
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 11ms (ActiveRecord: 1.2ms)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:27:23', '2015-06-01 16:27:23')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (1.8ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (26.7ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190975[0m
  Rendered cart/_cart.html.erb (7.2ms)
Completed 200 OK in 51ms (Views: 37.6ms | ActiveRecord: 4.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190975 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.2ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190975
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 1.0ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190975 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.5ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190975
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 1.1ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (1.0ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '07b8293ac93517cc959615de39b0fa530fde82c2f09ad810c308ba7c031b858590d2594e5e5b9ae1aa47f428cf079bea30c919cd53bb28ef3d440f69beacad15' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:27:23', '53c659877f2a249297d2f14618bad1da8fee46af00b2a16f89a108bc5144f50e243a2f46a2ebf34d070f1d487dff7657a8435f42e122675fe00e9470d8e017f0', '2015-06-01 16:27:23', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 16:27:23', 'kevin', 1, 'Kevin Valle', 'ZhyyAMTNYF1GgApoDU', 'PQbpOFAcE1OUg4GAHiFh', '07b8293ac93517cc959615de39b0fa530fde82c2f09ad810c308ba7c031b858590d2594e5e5b9ae1aa47f428cf079bea30c919cd53bb28ef3d440f69beacad15', '2015-06-01 16:27:23')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 2.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '07b8293ac93517cc959615de39b0fa530fde82c2f09ad810c308ba7c031b858590d2594e5e5b9ae1aa47f428cf079bea30c919cd53bb28ef3d440f69beacad15' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:27:23', `perishable_token` = 'gJsWSqlXdNuxBifAAj0c', `updated_at` = '2015-06-01 16:27:23' WHERE `users`.`id` = 15
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=15" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"15"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '07b8293ac93517cc959615de39b0fa530fde82c2f09ad810c308ba7c031b858590d2594e5e5b9ae1aa47f428cf079bea30c919cd53bb28ef3d440f69beacad15' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:27:23', `perishable_token` = 'hMTcULA4gBoxw9HoevJ', `updated_at` = '2015-06-01 16:27:23' WHERE `users`.`id` = 15[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 15 LIMIT 1[0m
Started GET "/user/edit?id=15" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"15"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '07b8293ac93517cc959615de39b0fa530fde82c2f09ad810c308ba7c031b858590d2594e5e5b9ae1aa47f428cf079bea30c919cd53bb28ef3d440f69beacad15' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:27:23', `perishable_token` = 'dyTft5rdHAQZgFnm2lFl', `updated_at` = '2015-06-01 16:27:23' WHERE `users`.`id` = 15
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 0.9ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '07b8293ac93517cc959615de39b0fa530fde82c2f09ad810c308ba7c031b858590d2594e5e5b9ae1aa47f428cf079bea30c919cd53bb28ef3d440f69beacad15' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:27:23', `perishable_token` = '6KKuNch61gfOVFxyGMe', `updated_at` = '2015-06-01 16:27:23' WHERE `users`.`id` = 15
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '9d10ae62a15a5a541b589f9360af25fcea5d261980892b4943d4a8191fec1452a23bb20cad2127fb212e9b6a644040499f7884cebc360eb910caea20a60d9647' AND `users`.`id` != 15) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 15) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 15) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 15) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '07b8293ac93517cc959615de39b0fa530fde82c2f09ad810c308ba7c031b858590d2594e5e5b9ae1aa47f428cf079bea30c919cd53bb28ef3d440f69beacad15' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = '4b716326062fb9e7c9773d1103928713934982abfcdd9569b75ca9e79cad228a0c82c7968bb180e8c3081632c381879556b3510547af82e05866b2cb1dc5eac7', `current_login_at` = '2015-06-01 16:27:23', `last_login_at` = '2015-06-01 16:27:23', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:27:23', `login_count` = 2, `password_salt` = 'ZB82LOb39ZKECcDXBDT7', `perishable_token` = '1ymlwEadtLJ5vTFb1n1o', `persistence_token` = '9d10ae62a15a5a541b589f9360af25fcea5d261980892b4943d4a8191fec1452a23bb20cad2127fb212e9b6a644040499f7884cebc360eb910caea20a60d9647', `updated_at` = '2015-06-01 16:27:23' WHERE `users`.`id` = 15
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 28ms (ActiveRecord: 4.6ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:27:23', `perishable_token` = 'vDg0ggNeMMfn41XcrBT9', `updated_at` = '2015-06-01 16:27:23' WHERE `users`.`id` = 15
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 0.8ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:27:23', '2015-06-01 16:27:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190976 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 2.6ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add?id=1" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:27:23', '2015-06-01 16:27:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190977 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190977, '2015-06-01 16:27:23', 1, '2015-06-01 16:27:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 2.8ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:27:23 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190977 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190977 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190977[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.8ms)
  Rendered cart/_cart.html.erb (7.2ms)
Completed 500 Internal Server Error in 53ms
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:28:19', '2015-06-01 16:28:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:28:19', '2015-06-01 16:28:19', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 16:28:19', '2015-06-01 16:28:19')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 18:28:19 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:28:19', '2015-06-01 16:28:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (25.1ms)
  Rendered catalog/index.html.erb within layouts/application (29.3ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190978[0m
  Rendered cart/_cart.html.erb (9.5ms)
Completed 200 OK in 129ms (Views: 87.2ms | ActiveRecord: 5.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 18:28:19 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190978 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.4ms)
  Rendered catalog/index.html.erb within layouts/application (3.3ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190978
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 1.4ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 18:28:19 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190978 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (6.0ms)
  Rendered catalog/latest.html.erb within layouts/application (6.5ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190978
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 1.4ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (24.5ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 42ms (Views: 35.2ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '369ea3ca590687e01e09502713aaec75557191f39a01e21800d6a29d5a5b1aea83d2513ee57483b7516b8edc6350a7bb52bb964bb71b929c8955c662851e6669' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:28:20', '8f33e75bddabb067e850cc6e431b96cced4fbf892151187ef275fd80fbfa189c5ef9f7bcd1d51d032bbbb0e822c0d304972059d580a1fe0d2487940f053d1870', '2015-06-01 16:28:20', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 16:28:20', 'kevin', 1, 'Kevin Valle', 'QHGM8Jz2J3r9vkCYdnnx', 'maaoIgxsObWormpiZ5j', '369ea3ca590687e01e09502713aaec75557191f39a01e21800d6a29d5a5b1aea83d2513ee57483b7516b8edc6350a7bb52bb964bb71b929c8955c662851e6669', '2015-06-01 16:28:20')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 21ms (ActiveRecord: 2.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '369ea3ca590687e01e09502713aaec75557191f39a01e21800d6a29d5a5b1aea83d2513ee57483b7516b8edc6350a7bb52bb964bb71b929c8955c662851e6669' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:28:20', `perishable_token` = 'XS0FTDknADGFakWVOz', `updated_at` = '2015-06-01 16:28:20' WHERE `users`.`id` = 16
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 5.1ms | ActiveRecord: 1.3ms)
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=16" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"16"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '369ea3ca590687e01e09502713aaec75557191f39a01e21800d6a29d5a5b1aea83d2513ee57483b7516b8edc6350a7bb52bb964bb71b929c8955c662851e6669' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:28:20', `perishable_token` = 'ecIDKhIAfBUvqxgYHWE', `updated_at` = '2015-06-01 16:28:20' WHERE `users`.`id` = 16[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 18ms (Views: 3.7ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 16 LIMIT 1[0m
Started GET "/user/edit?id=16" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"16"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '369ea3ca590687e01e09502713aaec75557191f39a01e21800d6a29d5a5b1aea83d2513ee57483b7516b8edc6350a7bb52bb964bb71b929c8955c662851e6669' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:28:20', `perishable_token` = '0rkQDFLBuyAIjUccgP1', `updated_at` = '2015-06-01 16:28:20' WHERE `users`.`id` = 16
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 8.7ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '369ea3ca590687e01e09502713aaec75557191f39a01e21800d6a29d5a5b1aea83d2513ee57483b7516b8edc6350a7bb52bb964bb71b929c8955c662851e6669' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:28:20', `perishable_token` = 'kSGEaps5Xqo2Q5o4n0E', `updated_at` = '2015-06-01 16:28:20' WHERE `users`.`id` = 16
  [1m[36m (1.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'dc638a46258b552bdc0d94177e87778b2948320c5d1169aca592eefb6c7e700f1e074022d4fd9fb64df9c9f64f8bc5434c7c31cd669592e46b6763dc52219b09' AND `users`.`id` != 16) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 16) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 16) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 16) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '369ea3ca590687e01e09502713aaec75557191f39a01e21800d6a29d5a5b1aea83d2513ee57483b7516b8edc6350a7bb52bb964bb71b929c8955c662851e6669' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = 'b671954bb011e7cabecd278cada3fa7d11749004f672f2de851ee82b99edda7fcbba983cb1439b7c948b67130501d42776b4e5b5ef2dc952836b527d63da3e8c', `current_login_at` = '2015-06-01 16:28:20', `last_login_at` = '2015-06-01 16:28:20', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:28:20', `login_count` = 2, `password_salt` = 'xgMhomkx8OUMdXOsQETM', `perishable_token` = 'QZCDQzW771lQtKoUY5', `persistence_token` = 'dc638a46258b552bdc0d94177e87778b2948320c5d1169aca592eefb6c7e700f1e074022d4fd9fb64df9c9f64f8bc5434c7c31cd669592e46b6763dc52219b09', `updated_at` = '2015-06-01 16:28:20' WHERE `users`.`id` = 16
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 17ms (ActiveRecord: 4.6ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (1.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:28:20', `perishable_token` = 'DxU5gs41O9zRdKuFLUrM', `updated_at` = '2015-06-01 16:28:20' WHERE `users`.`id` = 16
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 4.7ms | ActiveRecord: 2.1ms)
  [1m[35m (10.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:28:20', '2015-06-01 16:28:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190979 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 2.6ms)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:28:20', '2015-06-01 16:28:20')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190980 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190980, '2015-06-01 16:28:20', 1, '2015-06-01 16:28:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 2.6ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190980 LIMIT 1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190980 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190980[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.7ms)
  Rendered cart/_cart.html.erb (6.2ms)
Completed 500 Internal Server Error in 47ms
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'f0035110a5e3c409cfb33f2e9f4097f66d952781ceacecfc0df48cdb14adfbefc6997cd2ce9e9136ccf708423b7730ac4c01b370629ce583d43eeed7710b4b47' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:28:20', 'd75e37dd80e1121ef81a34d12028c934bada6e0cd3177a9bf7018469166570f16f5f27d8369e5e2f0e23af81fdf4c1b632605ba54694c0d3ce3492a258d1c109', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '6V3FVOYR0Yg6lLd0oLDX', 'OspRa6JZQwBRObOMRdY', 'f0035110a5e3c409cfb33f2e9f4097f66d952781ceacecfc0df48cdb14adfbefc6997cd2ce9e9136ccf708423b7730ac4c01b370629ce583d43eeed7710b4b47', '2015-06-01 16:28:20')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (2.7ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 0.8ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'd5193b79710303057cb8ce66511d565dbffcbbbd448c9cdebf1c998380527083bd8e33ada1b093e1b793254012b3d23b146f4f135441ed24445a7e9ff8e0fd2a' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:28:20', '8c86f50ff298de9dd55d555d52b63f88fffb3aba58d5dcd1ff6ec5e3c2cec26434b778dd1310c789115acfd4df03fdcb7def97e4ecb1485c8486e0ccabb0bb2c', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'ok33iqeklD4LmakcUC', 'ZXOoHr3WqRhupWPzIUBY', 'd5193b79710303057cb8ce66511d565dbffcbbbd448c9cdebf1c998380527083bd8e33ada1b093e1b793254012b3d23b146f4f135441ed24445a7e9ff8e0fd2a', '2015-06-01 16:28:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-01 16:28:20', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:28:20', `login_count` = 1, `perishable_token` = 'pYZ5RzTRQJ6ethx92fKD', `updated_at` = '2015-06-01 16:28:20' WHERE `users`.`id` = 18[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 16:28:20', 'Prueba', '123456789', '2015-06-01 16:28:20')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:28:20 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (21.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:29:40', '2015-06-01 16:29:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 16:29:40', '2015-06-01 16:29:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 16:29:40', '2015-06-01 16:29:40')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'f0ba113eb7400d7c9a94916f57acb8157c241ed3450848ff1956466fd3cc56941eed564d59d96891afb511c6581ea61f09aec15f963565e11908531737df8c92' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:29:40', 'ade0f7bd7bf7c39be2361ed01ff4b49af93eb9d680f60a10c2c95861439b8b230dca7dbd48094df4156c18a74933bf887d34065dbff4d907065c064feb96ebb2', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'spxBxLJ5JLrCH3Hktr8', '6xycHwmpWoBNnY3xqWGE', 'f0ba113eb7400d7c9a94916f57acb8157c241ed3450848ff1956466fd3cc56941eed564d59d96891afb511c6581ea61f09aec15f963565e11908531737df8c92', '2015-06-01 16:29:40')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:29:40 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (4.6ms)
  Rendered user_sessions/new.html.erb within layouts/application (9.3ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 59ms (Views: 56.0ms | ActiveRecord: 0.7ms)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '928a0a0b5a82545ab41eb8f3e3ae8abee0a87f11fc4b2a3c58879f8d4e5460a9981af7b4f0a3204eeaac06359bbbdaf927125377f484d2bdf5a6fed0ba49dc15' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:29:41', 'd9206c30ebe6e9c586c2e1845cc095938191411b8a115eb583a048254fd5b6c564d95e389ca83ce8272111ad17ca085a39c660901a256fb5db1e1b4d8655fad5', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '3KwnMUlMscED6RZ62y8', 'wwgIzqyi5mSVyWarjayU', '928a0a0b5a82545ab41eb8f3e3ae8abee0a87f11fc4b2a3c58879f8d4e5460a9981af7b4f0a3204eeaac06359bbbdaf927125377f484d2bdf5a6fed0ba49dc15', '2015-06-01 16:29:41')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `current_login_at` = '2015-06-01 16:29:41', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:29:41', `login_count` = 1, `perishable_token` = '8MPGamCifGQ1SzBX7Uv', `updated_at` = '2015-06-01 16:29:41' WHERE `users`.`id` = 20
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:29:41', '2015-06-01 16:29:41')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (22.0ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190981[0m
  Rendered cart/_cart.html.erb (9.5ms)
Completed 200 OK in 52ms (Views: 38.3ms | ActiveRecord: 5.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190981 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.4ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190981
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 1.2ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190981 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.8ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190981
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 1.3ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:29:41', '2015-06-01 16:29:41')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190982 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 9.5ms)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 16:29:41', '2015-06-01 16:29:41')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190983 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190983, '2015-06-01 16:29:41', 1, '2015-06-01 16:29:41')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 1.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190983 LIMIT 1[0m
  [1m[35mTshirt Exists (0.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190983 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190983
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.7ms)
  Rendered cart/_cart.html.erb (6.1ms)
Completed 500 Internal Server Error in 41ms
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (1.0ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '4e6f2d03a6afac336114d95be0088fc1d8765c68e5a8c524f3319625834833d96cc45f4bde5276af7c8c5c3da99b0a20c7e3ce7608ac1f647d8acced633e79b4' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 16:29:41', '51aa3e71deccf14449c69465889021f4642a80b401d1346fcb977f265fd387c738448ae279c03ace8e19db04731e405d5ad217fe617d43d0cb20a78f46f60c71', '2015-06-01 16:29:41', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 16:29:41', 'kevin', 1, 'Kevin Valle', 'ayw3Skj8co4v1S7RyB0', 'AxZYWdZIGg0y7fEF5', '4e6f2d03a6afac336114d95be0088fc1d8765c68e5a8c524f3319625834833d96cc45f4bde5276af7c8c5c3da99b0a20c7e3ce7608ac1f647d8acced633e79b4', '2015-06-01 16:29:41')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 14ms (ActiveRecord: 2.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4e6f2d03a6afac336114d95be0088fc1d8765c68e5a8c524f3319625834833d96cc45f4bde5276af7c8c5c3da99b0a20c7e3ce7608ac1f647d8acced633e79b4' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:29:41', `perishable_token` = 'JNRqKMJ82tR7wyzWdSx3', `updated_at` = '2015-06-01 16:29:41' WHERE `users`.`id` = 21[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=21" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"21"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4e6f2d03a6afac336114d95be0088fc1d8765c68e5a8c524f3319625834833d96cc45f4bde5276af7c8c5c3da99b0a20c7e3ce7608ac1f647d8acced633e79b4' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 16:29:41', `perishable_token` = 'BZNMMaaOi0wjRNEIGL', `updated_at` = '2015-06-01 16:29:41' WHERE `users`.`id` = 21
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 21 LIMIT 1
Started GET "/user/edit?id=21" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"21"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4e6f2d03a6afac336114d95be0088fc1d8765c68e5a8c524f3319625834833d96cc45f4bde5276af7c8c5c3da99b0a20c7e3ce7608ac1f647d8acced633e79b4' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:29:41', `perishable_token` = 'c8nvjvTEg5Gkzp4qgPw', `updated_at` = '2015-06-01 16:29:41' WHERE `users`.`id` = 21[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.8ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4e6f2d03a6afac336114d95be0088fc1d8765c68e5a8c524f3319625834833d96cc45f4bde5276af7c8c5c3da99b0a20c7e3ce7608ac1f647d8acced633e79b4' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:29:41', `perishable_token` = 'PLEaxyhpZiMxxQxrmjZ', `updated_at` = '2015-06-01 16:29:41' WHERE `users`.`id` = 21[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '3659286c30c48d9ffe849a9104380e586f9dcd93b1a2d55645de89c4a21835d9c4efb5d05b4aaeb8a8749ce32934b55f5545ae2b3dd514ebfdcfe7484f1cf70b' AND `users`.`id` != 21) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 21) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 21) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 21) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '4e6f2d03a6afac336114d95be0088fc1d8765c68e5a8c524f3319625834833d96cc45f4bde5276af7c8c5c3da99b0a20c7e3ce7608ac1f647d8acced633e79b4' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = '7d00df9c9a019cdd4abc71c82be7b7bee69c6a71ab8435c0e4357946cc3f754a9a4d01ad134dd727a1bf5df428bab7ececce599e99eca0dca03d7a78861e87bb', `current_login_at` = '2015-06-01 16:29:41', `last_login_at` = '2015-06-01 16:29:41', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 16:29:41', `login_count` = 2, `password_salt` = 'MlagMSed9KIjGmOp4Kl', `perishable_token` = 'YDFRfCQSFkTxPGyvqk3Y', `persistence_token` = '3659286c30c48d9ffe849a9104380e586f9dcd93b1a2d55645de89c4a21835d9c4efb5d05b4aaeb8a8749ce32934b55f5545ae2b3dd514ebfdcfe7484f1cf70b', `updated_at` = '2015-06-01 16:29:41' WHERE `users`.`id` = 21[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 2.8ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 16:29:41', `perishable_token` = '7f6ADn4CDjco35BvC42D', `updated_at` = '2015-06-01 16:29:41' WHERE `users`.`id` = 21[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.8ms)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 16:29:41', 'Prueba', '123456789', '2015-06-01 16:29:41')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 18:29:41 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:09:46', '2015-06-01 17:09:46', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:09:46', '2015-06-01 17:09:46', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:09:46', '2015-06-01 17:09:46')
  [1m[36m (27.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:09:46', 'Prueba', '123456789', '2015-06-01 17:09:46')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 27ms (ActiveRecord: 1.3ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (9.8ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 55ms (Views: 52.8ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '0363ee8636015d2b12538f210c059088614dfa7990deb867202fe08ce28ba6030656709db82ec53b992b5e8254034df747abcf3c2cf68ca7cb67cbfa2d007ff3' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:09:46', 'b58e82468f34e2da6409f08f9db3334cc35fa22376322a12a7359ad80b789e207f404e595bd30210fecdf0ab58f02c146685af2039f76b31b3e7355a58d1c2ad', '2015-06-01 17:09:46', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 17:09:46', 'kevin', 1, 'Kevin Valle', 'DzG8GldubGGaR5XWQPBz', 'LUPyuNKx4gJdC65c3kx', '0363ee8636015d2b12538f210c059088614dfa7990deb867202fe08ce28ba6030656709db82ec53b992b5e8254034df747abcf3c2cf68ca7cb67cbfa2d007ff3', '2015-06-01 17:09:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 17ms (ActiveRecord: 2.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '0363ee8636015d2b12538f210c059088614dfa7990deb867202fe08ce28ba6030656709db82ec53b992b5e8254034df747abcf3c2cf68ca7cb67cbfa2d007ff3' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:09:46', `perishable_token` = 'kDrHtuDXesD6xaehXAz', `updated_at` = '2015-06-01 17:09:46' WHERE `users`.`id` = 22[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 4.5ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=22" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"22"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '0363ee8636015d2b12538f210c059088614dfa7990deb867202fe08ce28ba6030656709db82ec53b992b5e8254034df747abcf3c2cf68ca7cb67cbfa2d007ff3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:09:46', `perishable_token` = 'kzyRToSvjKePghG0ael', `updated_at` = '2015-06-01 17:09:46' WHERE `users`.`id` = 22
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 22 LIMIT 1
Started GET "/user/edit?id=22" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"22"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '0363ee8636015d2b12538f210c059088614dfa7990deb867202fe08ce28ba6030656709db82ec53b992b5e8254034df747abcf3c2cf68ca7cb67cbfa2d007ff3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:09:46', `perishable_token` = 'BD42sbrSUIJvczQuvIGK', `updated_at` = '2015-06-01 17:09:46' WHERE `users`.`id` = 22[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 0.9ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '0363ee8636015d2b12538f210c059088614dfa7990deb867202fe08ce28ba6030656709db82ec53b992b5e8254034df747abcf3c2cf68ca7cb67cbfa2d007ff3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:09:46', `perishable_token` = '5EDxzzlILqyw2rw3DXmT', `updated_at` = '2015-06-01 17:09:46' WHERE `users`.`id` = 22[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'ad7b89816c0178a6125868c3d4ac58b8bbd34deffbb67430211358b47ddb712603dea0cc33ecdf18a61cb1780eee2e7666330ea6ea22db2e49e956dcbad9ce32' AND `users`.`id` != 22) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 22) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 22) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 22) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '0363ee8636015d2b12538f210c059088614dfa7990deb867202fe08ce28ba6030656709db82ec53b992b5e8254034df747abcf3c2cf68ca7cb67cbfa2d007ff3' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = '5655e51d231ec79112a970409b4b6a5006ed54859117136d2fcc761b7cb7a6fd52227d16ad2e53d47de06870d8d1ddfc866bad873bc26b23a3d7500471bb9910', `current_login_at` = '2015-06-01 17:09:46', `last_login_at` = '2015-06-01 17:09:46', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:09:46', `login_count` = 2, `password_salt` = 'BIjtpHFjB4CUT9ABS7', `perishable_token` = '7I2nqDlW8vcPPZWiFcse', `persistence_token` = 'ad7b89816c0178a6125868c3d4ac58b8bbd34deffbb67430211358b47ddb712603dea0cc33ecdf18a61cb1780eee2e7666330ea6ea22db2e49e956dcbad9ce32', `updated_at` = '2015-06-01 17:09:46' WHERE `users`.`id` = 22[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 12ms (ActiveRecord: 2.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:09:46', `perishable_token` = 'm42gDNGqMI0Iy2agzpEE', `updated_at` = '2015-06-01 17:09:46' WHERE `users`.`id` = 22[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.8ms)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'd18845a1478448b7622047c290c3a2b4d989d9dabcea1dcebc933d547cd4f058605d05a98a7c49bf96e43207d37d84b44dbdfc15aba5c57c2874b3466c4f2c2d' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:09:46', '945bd7d773abcada93935c3b65ff3fd29d8095abc7808cede5b99c727e1cbe9f1e3f76847002eb23407ef3195e88b4c0cbb1aab5ac34d8c3acf28a1787e795ce', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'v4gssafyKkjGF72fnCjB', 'BfxTUn9W3e89UGyw4prc', 'd18845a1478448b7622047c290c3a2b4d989d9dabcea1dcebc933d547cd4f058605d05a98a7c49bf96e43207d37d84b44dbdfc15aba5c57c2874b3466c4f2c2d', '2015-06-01 17:09:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (2.8ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.7ms)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '096025eaa6884dd6319426350762d3fe7342ac696c6834d009aa328c06785aa23dc9d5385227b25ab44aa7d5b05f179e11fb9a9567c07b3f046dc538a66224ad' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:09:46', '6a47b5c78d110ce8d9eca872e97ee8e3bbca43b7a319f02f08a406673003836e52d8df7ab5ffa8565b29d9b5d0fa70064e2e1056abe698c6f0d05738692b8dd6', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'SVCgqMFhpWcOBKZfOuj', 'TemDHZLVvkOpaY6SyCyF', '096025eaa6884dd6319426350762d3fe7342ac696c6834d009aa328c06785aa23dc9d5385227b25ab44aa7d5b05f179e11fb9a9567c07b3f046dc538a66224ad', '2015-06-01 17:09:46')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-01 17:09:46', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:09:46', `login_count` = 1, `perishable_token` = 'CAJFVKgQBZ5aQgTPZL', `updated_at` = '2015-06-01 17:09:46' WHERE `users`.`id` = 24[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:09:46', '2015-06-01 17:09:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190984 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 3.0ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:09:46', '2015-06-01 17:09:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (14.5ms)
ApplicationController::current_user
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190985
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 29ms (Views: 23.4ms | ActiveRecord: 3.2ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190985 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.3ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.1ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190985[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 1.1ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 19:09:46 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190985 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (3.7ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190985[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 1.0ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:11:02', '2015-06-01 17:11:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:11:02', '2015-06-01 17:11:02', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:11:02', '2015-06-01 17:11:02')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (11.2ms)
  Rendered user/new.html.erb within layouts/application (15.8ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 78ms (Views: 53.4ms | ActiveRecord: 1.5ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '97bef16a3f7cc283805a23e8d9674faa546eb7cc3f0d699692f298371b5ce3b6c81f6ee799147336bf91fb6e98aad0116b45b521d248bc9f020200879cb224b3' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:11:02', '014bec742c4e0642567ca577666cee57729583515bf4ad05dc1edc6e08c4a3ca308ca5118108bdeacff813babeea82b3514816c2bf8924da6e26555635c00c86', '2015-06-01 17:11:02', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 17:11:02', 'kevin', 1, 'Kevin Valle', 'usAHj0BKZL7igx2rB4eZ', 'sRoymufeZGmzR3WZUGoX', '97bef16a3f7cc283805a23e8d9674faa546eb7cc3f0d699692f298371b5ce3b6c81f6ee799147336bf91fb6e98aad0116b45b521d248bc9f020200879cb224b3', '2015-06-01 17:11:02')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 17ms (ActiveRecord: 2.0ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '97bef16a3f7cc283805a23e8d9674faa546eb7cc3f0d699692f298371b5ce3b6c81f6ee799147336bf91fb6e98aad0116b45b521d248bc9f020200879cb224b3' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:11:02', `perishable_token` = 'GfLjxf6LFtPrGYeSahv', `updated_at` = '2015-06-01 17:11:02' WHERE `users`.`id` = 25[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 4.6ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=25" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"25"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '97bef16a3f7cc283805a23e8d9674faa546eb7cc3f0d699692f298371b5ce3b6c81f6ee799147336bf91fb6e98aad0116b45b521d248bc9f020200879cb224b3' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:11:02', `perishable_token` = 'av8uMoFBZYOUppxguek', `updated_at` = '2015-06-01 17:11:02' WHERE `users`.`id` = 25
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 25 LIMIT 1
Started GET "/user/edit?id=25" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"25"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '97bef16a3f7cc283805a23e8d9674faa546eb7cc3f0d699692f298371b5ce3b6c81f6ee799147336bf91fb6e98aad0116b45b521d248bc9f020200879cb224b3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:11:02', `perishable_token` = '7gTRz1Bvw45wVKd5mNZ', `updated_at` = '2015-06-01 17:11:02' WHERE `users`.`id` = 25[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (1.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 0.8ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '97bef16a3f7cc283805a23e8d9674faa546eb7cc3f0d699692f298371b5ce3b6c81f6ee799147336bf91fb6e98aad0116b45b521d248bc9f020200879cb224b3' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:11:02', `perishable_token` = 'Uws5SHBkFZzcrxKXsSgp', `updated_at` = '2015-06-01 17:11:02' WHERE `users`.`id` = 25[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'f38ed6cd0f8b199eca170162cdb748f34e09c492c9d3a36a645229268d6e2cc3891d7047428ca6787e4e6cdf54884e14b2bea1f192da169c0e21ccdd9e3d7dbf' AND `users`.`id` != 25) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 25) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 25) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 25) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '97bef16a3f7cc283805a23e8d9674faa546eb7cc3f0d699692f298371b5ce3b6c81f6ee799147336bf91fb6e98aad0116b45b521d248bc9f020200879cb224b3' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'fcc4dccc898efd7edbc04cb5158da7ccfba476aa727c92c36def03536e2dfbfa61a24843a499b539982495bd8a2884565f665bfa993f8870cefe1a00247244f8', `current_login_at` = '2015-06-01 17:11:02', `last_login_at` = '2015-06-01 17:11:02', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:11:02', `login_count` = 2, `password_salt` = 'om8jH0yqIwEPxQpZmhG2', `perishable_token` = 'ZHzP3v4ud3oNfheVEf2x', `persistence_token` = 'f38ed6cd0f8b199eca170162cdb748f34e09c492c9d3a36a645229268d6e2cc3891d7047428ca6787e4e6cdf54884e14b2bea1f192da169c0e21ccdd9e3d7dbf', `updated_at` = '2015-06-01 17:11:02' WHERE `users`.`id` = 25[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 12ms (ActiveRecord: 2.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:11:02', `perishable_token` = 'l8A6sIBAnmrdlOAdTk', `updated_at` = '2015-06-01 17:11:02' WHERE `users`.`id` = 25[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.8ms)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:11:02', 'Prueba', '123456789', '2015-06-01 17:11:02')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'cbc0d97d6ef37d44fdc913f25f45df020ee713d8ffceda0cc78832e2ac8900fd245732f1c7c1416b5a88428b82e2c9b76e03509a6fa781cd39a21c5c95654285' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:11:02', '07a5de5c103666df5b5d7cedd0ac8da9646e85c458a698e73caaf01007e3592a303b60ae1aa4d7e0f607b6f19350cc09c1818d2fc49c5955c8ba0e328bfd4c76', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'tvZw3pMBnmh4gmYwWtg', 'dy0s7uEjSkEqWMN0bOaN', 'cbc0d97d6ef37d44fdc913f25f45df020ee713d8ffceda0cc78832e2ac8900fd245732f1c7c1416b5a88428b82e2c9b76e03509a6fa781cd39a21c5c95654285', '2015-06-01 17:11:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (2.7ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.7ms)
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'bbc696c2f139f6824bd47396a38e532b101bed18ccbeff507a4cf1bdaa44a3bea71b0cf6310a61fa83f56782b66e5e0e79abb77f71a42eff2d83d6ab3154c175' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:11:02', '0699a69be19e04327cd913d0b77109ec809d946d7021f63194345ac7edfc0796c1a82370c1b957b6fb183931fd3072018f34149b87d5e568b58edb2a37cd1475', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'U3NToP6sNIEgPDHGuWd', 'krwvnpSQug6FzQz7zKK', 'bbc696c2f139f6824bd47396a38e532b101bed18ccbeff507a4cf1bdaa44a3bea71b0cf6310a61fa83f56782b66e5e0e79abb77f71a42eff2d83d6ab3154c175', '2015-06-01 17:11:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-01 17:11:02', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:11:02', `login_count` = 1, `perishable_token` = 'aqeze4hGzKAFbdZ8z0', `updated_at` = '2015-06-01 17:11:02' WHERE `users`.`id` = 27[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:11:02', '2015-06-01 17:11:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190986 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 3.7ms)
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:11:02', '2015-06-01 17:11:02')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190987 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190987, '2015-06-01 17:11:02', 1, '2015-06-01 17:11:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 2.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190987"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190987 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190987[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-01 17:11:02', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-01 17:11:02')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-01 17:11:02', 980190963, 1, '2015-06-01 17:11:02')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Order 980190963 failed due to raised exception: undefined method `*' for nil:NilClass.
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `error_message` = 'Exception raised: undefined method `*\' for nil:NilClass', `status` = 'failed', `updated_at` = '2015-06-01 17:11:02' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.7ms)
  Rendered cart/_cart.html.erb (5.6ms)
Completed 500 Internal Server Error in 244ms
  [1m[36m (23.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 19:11:02 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:11:02', '2015-06-01 17:11:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (8.4ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190988
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 2.2ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 19:11:03 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190988 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.3ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190988[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 1.3ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 19:11:03 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190988 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (4.0ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190988[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 1.2ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:11:38', '2015-06-01 17:11:38', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:11:38', '2015-06-01 17:11:38', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:11:38', '2015-06-01 17:11:38')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:11:38', '2015-06-01 17:11:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (21.2ms)
  Rendered catalog/index.html.erb within layouts/application (26.0ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190989[0m
  Rendered cart/_cart.html.erb (8.0ms)
Completed 200 OK in 124ms (Views: 71.1ms | ActiveRecord: 21.2ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190989 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.1ms)
  Rendered catalog/index.html.erb within layouts/application (2.5ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190989
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 1.1ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190989 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (4.0ms)
  Rendered catalog/latest.html.erb within layouts/application (4.5ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190989
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 1.1ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (12.0ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'b3db62b523ab2cfc24691b50df39a875b401f7272825ca4f98a789276d28bdea0523dea5598e17a71fac5ebe66915157900a0b21618c08c8ceac29cee886bdf3' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:11:38', '7786d05c2db195b0da10206662caf95f2b2df0f3ffac1b36a6ee2e5582fda07812817459073f473cf44e75fa6aec2b4c30f373a13cb64ad11f4f54457cc237c6', '2015-06-01 17:11:38', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 17:11:38', 'kevin', 1, 'Kevin Valle', 'KtKL6XCGvnNWlh5xXu', 'tWbYKW3IazWJmeAdTNL', 'b3db62b523ab2cfc24691b50df39a875b401f7272825ca4f98a789276d28bdea0523dea5598e17a71fac5ebe66915157900a0b21618c08c8ceac29cee886bdf3', '2015-06-01 17:11:38')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 20ms (ActiveRecord: 2.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b3db62b523ab2cfc24691b50df39a875b401f7272825ca4f98a789276d28bdea0523dea5598e17a71fac5ebe66915157900a0b21618c08c8ceac29cee886bdf3' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:11:38', `perishable_token` = 'tHFyzjaD1GDORVhwAasl', `updated_at` = '2015-06-01 17:11:38' WHERE `users`.`id` = 28
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 6.2ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=28" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"28"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b3db62b523ab2cfc24691b50df39a875b401f7272825ca4f98a789276d28bdea0523dea5598e17a71fac5ebe66915157900a0b21618c08c8ceac29cee886bdf3' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:11:38', `perishable_token` = 't8f8OvSB7VkIcBxoEGn', `updated_at` = '2015-06-01 17:11:38' WHERE `users`.`id` = 28[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 16ms (Views: 10.0ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 28 LIMIT 1[0m
Started GET "/user/edit?id=28" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"28"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b3db62b523ab2cfc24691b50df39a875b401f7272825ca4f98a789276d28bdea0523dea5598e17a71fac5ebe66915157900a0b21618c08c8ceac29cee886bdf3' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:11:38', `perishable_token` = 'lNT7zD7BSQ5Zo9PxCAH8', `updated_at` = '2015-06-01 17:11:38' WHERE `users`.`id` = 28
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 0.9ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b3db62b523ab2cfc24691b50df39a875b401f7272825ca4f98a789276d28bdea0523dea5598e17a71fac5ebe66915157900a0b21618c08c8ceac29cee886bdf3' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:11:38', `perishable_token` = '54vmf1P2QpiLgoRYJPWj', `updated_at` = '2015-06-01 17:11:38' WHERE `users`.`id` = 28
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '3bcaf13715746d0bf454c30009ad112e954869e7cfc5c85eaf7a5cb19f53bb7aecf5deda51dd487e1a5f842ffcc12bdced23405e419abe4f1f2d671522d51d5d' AND `users`.`id` != 28) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 28) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 28) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 28) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b3db62b523ab2cfc24691b50df39a875b401f7272825ca4f98a789276d28bdea0523dea5598e17a71fac5ebe66915157900a0b21618c08c8ceac29cee886bdf3' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = '7aa224506822955f1ad1e03176ea75c327a8de741f75c89f4901b36774b17b6431eda81ab0104447409af2f6a2481302723d2914260b0030cc379d31bf93f961', `current_login_at` = '2015-06-01 17:11:38', `last_login_at` = '2015-06-01 17:11:38', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:11:38', `login_count` = 2, `password_salt` = 'Fekfb4GuOR65dmcSNCsh', `perishable_token` = 'vLZczK9HzpaIFEKiX5rb', `persistence_token` = '3bcaf13715746d0bf454c30009ad112e954869e7cfc5c85eaf7a5cb19f53bb7aecf5deda51dd487e1a5f842ffcc12bdced23405e419abe4f1f2d671522d51d5d', `updated_at` = '2015-06-01 17:11:38' WHERE `users`.`id` = 28
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 28 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:11:38', `perishable_token` = 'ZiRl4cH0Zq5mPXMqBcP', `updated_at` = '2015-06-01 17:11:38' WHERE `users`.`id` = 28
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.8ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:11:38', '2015-06-01 17:11:38')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190990 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 2.1ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:11:38', '2015-06-01 17:11:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190991 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190991, '2015-06-01 17:11:38', 1, '2015-06-01 17:11:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 3.4ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190991 LIMIT 1
  [1m[36mTshirt Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190991 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190991[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.7ms)
  Rendered cart/_cart.html.erb (6.1ms)
Completed 500 Internal Server Error in 40ms
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:11:38', 'Prueba', '123456789', '2015-06-01 17:11:38')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '988498103dc2469946b60dbb4a164527209349900783e68d90bb1eea6a5b1a133a09b1f9c6e64d8b4e93143e004a4d2d8418e953841d0420c4f6a496583fad35' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:11:38', '3c96fdd6178299f3f8909f1d215b0840f56cef618a73a1e7f2ff17c6e72dc3a97da9547ad233df4bbe933337c388519e17b4d677775f57647325fd440e54e1c7', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'q9DxpnvLB4sDe7OK1x2', 'k1W69uPRr7tKCVVPH9T4', '988498103dc2469946b60dbb4a164527209349900783e68d90bb1eea6a5b1a133a09b1f9c6e64d8b4e93143e004a4d2d8418e953841d0420c4f6a496583fad35', '2015-06-01 17:11:38')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (2.7ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 19ms (Views: 16.3ms | ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '7205f1352276258461c075d5c11383462249feefda3821ae363d1c051f29c4da055f03dd425812bd7ef43765642f941693db50c893f132fe43f87cee288abd9b' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:11:38', '8fee261c28eb0427e7378d9f5867cfd565b99b5b7b550d5b307ef1a5e7d6371408e5ce967fd6be06fb990a2b842af84a780bbabadb32547530b97e7f57e58dcb', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '8bDlW82ednOL5jZ9BbMZ', 'cBOyPa4uxiwUbv6ZD7V', '7205f1352276258461c075d5c11383462249feefda3821ae363d1c051f29c4da055f03dd425812bd7ef43765642f941693db50c893f132fe43f87cee288abd9b', '2015-06-01 17:11:38')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:11:38 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-01 17:11:38', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:11:38', `login_count` = 1, `perishable_token` = '8QPA8n9y8mxtMejVTxx2', `updated_at` = '2015-06-01 17:11:38' WHERE `users`.`id` = 30[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:15:14', '2015-06-01 17:15:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:15:14', '2015-06-01 17:15:14', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:15:14', '2015-06-01 17:15:14')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '1ef652bd3733413f7d806db2f001dfad1c97a409293d0515d5173de2f5751544cd9713620bc55e8eb8893f5627b9adb867318d0a01926b1be7e3017db1e37c4f' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:15:14', '554e647e5a0b255876e97cfdc3ce7ab6679d2d75af3f50e71f84aa1dcec2e6a9d1128be30e8b9063834a4db0f2ef089015f38db352aad04bb76ec1e81e05eb95', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'XEIuKxpZtvvtigqpXYGl', 'KnFjc2IwVzDKsX3q4q9T', '1ef652bd3733413f7d806db2f001dfad1c97a409293d0515d5173de2f5751544cd9713620bc55e8eb8893f5627b9adb867318d0a01926b1be7e3017db1e37c4f', '2015-06-01 17:15:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:15:14 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:15:14 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (5.8ms)
  Rendered user_sessions/new.html.erb within layouts/application (10.4ms)
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 62ms (Views: 57.6ms | ActiveRecord: 1.2ms)
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '93260cb4b83a3bc833d0234a08034935ba3da7756b2006810e37254d971bd004856adb5bf0c424ad8fe8c0a1c59b20d284ee19c0f7b0d190c3e32750af9ef5db' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:15:15', 'b3c769b789194227a5ff49a5c296599b9bf6ac33c8a0d0bf5aeacfec3cd7a67f0ed271c6f07ac4dc8253061b414f80b8c51d92377e253ef8e7fe76693eed6636', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'FIXasXtl1NnddhnakUPO', 'pur4O8VSwByzmjsifBx', '93260cb4b83a3bc833d0234a08034935ba3da7756b2006810e37254d971bd004856adb5bf0c424ad8fe8c0a1c59b20d284ee19c0f7b0d190c3e32750af9ef5db', '2015-06-01 17:15:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `current_login_at` = '2015-06-01 17:15:15', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:15:15', `login_count` = 1, `perishable_token` = 'Ye0TL7UWACoItX6aOIqh', `updated_at` = '2015-06-01 17:15:15' WHERE `users`.`id` = 32
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:15:15', '2015-06-01 17:15:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190992 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 31ms (ActiveRecord: 3.7ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:15:15', '2015-06-01 17:15:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190993 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190993, '2015-06-01 17:15:15', 1, '2015-06-01 17:15:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 2.4ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190993 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190993 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190993[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.8ms)
  Rendered cart/_cart.html.erb (7.3ms)
Completed 500 Internal Server Error in 44ms
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:15:15', 'Prueba', '123456789', '2015-06-01 17:15:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:15:15', '2015-06-01 17:15:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (11.1ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190994
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 22ms (Views: 17.3ms | ActiveRecord: 2.1ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190994 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (4.3ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190994[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 1.5ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190994 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (3.8ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.1ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190994[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 1.1ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (1.1ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '1af9f36e630f54c7be679dca57778b2e4b0f36555a08b0ceeb508e6e9459feefeb7f7efe84640a7d02f9e2f1c09755489afe497b1f727ff9c11441862482a6e6' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:15:15', '497b9fc3bdedc3c4025f1239e334b5812ac7d899d596994001367a38b2cd60c0e5fa87356639aae004d28e2af75e13caf052e27fb215c79645d9288d5c8c13ab', '2015-06-01 17:15:15', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 17:15:15', 'kevin', 1, 'Kevin Valle', 'MJpS31UNbb5bPD5CFJb', 'pBnKXKTKfVfJhYNljqp3', '1af9f36e630f54c7be679dca57778b2e4b0f36555a08b0ceeb508e6e9459feefeb7f7efe84640a7d02f9e2f1c09755489afe497b1f727ff9c11441862482a6e6', '2015-06-01 17:15:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 2.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '1af9f36e630f54c7be679dca57778b2e4b0f36555a08b0ceeb508e6e9459feefeb7f7efe84640a7d02f9e2f1c09755489afe497b1f727ff9c11441862482a6e6' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:15:15', `perishable_token` = '9QjLmDx8ZCFob4C1Pi9r', `updated_at` = '2015-06-01 17:15:15' WHERE `users`.`id` = 33[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 6.0ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=33" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"33"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '1af9f36e630f54c7be679dca57778b2e4b0f36555a08b0ceeb508e6e9459feefeb7f7efe84640a7d02f9e2f1c09755489afe497b1f727ff9c11441862482a6e6' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:15:15', `perishable_token` = 'UdGEANBHDX0j7Am18ciH', `updated_at` = '2015-06-01 17:15:15' WHERE `users`.`id` = 33
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 33 LIMIT 1
Started GET "/user/edit?id=33" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"33"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '1af9f36e630f54c7be679dca57778b2e4b0f36555a08b0ceeb508e6e9459feefeb7f7efe84640a7d02f9e2f1c09755489afe497b1f727ff9c11441862482a6e6' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:15:15', `perishable_token` = '9hJP8aHzqOWlyijiAVO', `updated_at` = '2015-06-01 17:15:15' WHERE `users`.`id` = 33[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '1af9f36e630f54c7be679dca57778b2e4b0f36555a08b0ceeb508e6e9459feefeb7f7efe84640a7d02f9e2f1c09755489afe497b1f727ff9c11441862482a6e6' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:15:15', `perishable_token` = 'VdnVIvK0iris4LJLJ30', `updated_at` = '2015-06-01 17:15:15' WHERE `users`.`id` = 33[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '829662ecd98fd3af773ef2a1dd0b2d1631c97f73f88a9f711a7823a54ddc4238d1fef12ff600824e20bd2f6815a98d0b47f86c107bd11c0f4b77d39c5b66a444' AND `users`.`id` != 33) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 33) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 33) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 33) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '1af9f36e630f54c7be679dca57778b2e4b0f36555a08b0ceeb508e6e9459feefeb7f7efe84640a7d02f9e2f1c09755489afe497b1f727ff9c11441862482a6e6' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `crypted_password` = '7499fa6966079c260ce8a095af68c940700963febd14515fe0ab260fa3c9b38a759bfcb121440a98a8fc30ad4e573ed09a9abfa407ef4081976f7a258d1f5ca2', `current_login_at` = '2015-06-01 17:15:15', `last_login_at` = '2015-06-01 17:15:15', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:15:15', `login_count` = 2, `password_salt` = 'CfTsjG1aK5kYD09HDdpU', `perishable_token` = 'j9gMHq8hH0oc99RyKOck', `persistence_token` = '829662ecd98fd3af773ef2a1dd0b2d1631c97f73f88a9f711a7823a54ddc4238d1fef12ff600824e20bd2f6815a98d0b47f86c107bd11c0f4b77d39c5b66a444', `updated_at` = '2015-06-01 17:15:15' WHERE `users`.`id` = 33[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 19ms (ActiveRecord: 3.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:15:15 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 33 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:15:15', `perishable_token` = 'LGLstnwHPB3mfJLH8l0U', `updated_at` = '2015-06-01 17:15:15' WHERE `users`.`id` = 33[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 1.1ms)
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:16:36', '2015-06-01 17:16:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:16:36', '2015-06-01 17:16:36', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:16:36', '2015-06-01 17:16:36')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:16:36 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:16:36', '2015-06-01 17:16:36')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190995 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 44ms (ActiveRecord: 3.1ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:16:36 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:16:36', '2015-06-01 17:16:36')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190996 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190996, '2015-06-01 17:16:36', 1, '2015-06-01 17:16:36')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 2.0ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:16:36 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190996 LIMIT 1
  [1m[36mTshirt Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190996 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190996[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.4ms)
  Rendered cart/_cart.html.erb (6.3ms)
Completed 500 Internal Server Error in 79ms
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:16:42', '2015-06-01 17:16:42', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:16:42', '2015-06-01 17:16:42', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:16:42', '2015-06-01 17:16:42')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:16:42 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:16:42', '2015-06-01 17:16:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190997 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 57ms (ActiveRecord: 3.8ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:16:42 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:16:42', '2015-06-01 17:16:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190998 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980190998, '2015-06-01 17:16:42', 1, '2015-06-01 17:16:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 31ms (ActiveRecord: 2.6ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:16:42 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190998 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190998 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190998[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.9ms)
  Rendered cart/_cart.html.erb (7.5ms)
Completed 500 Internal Server Error in 114ms
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:18:29', '2015-06-01 17:18:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:18:29', '2015-06-01 17:18:29', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:18:29', '2015-06-01 17:18:29')
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:18:30 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:18:30', '2015-06-01 17:18:30')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190999 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 46ms (ActiveRecord: 3.1ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:18:30 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:18:30', '2015-06-01 17:18:30')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191000 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191000, '2015-06-01 17:18:30', 1, '2015-06-01 17:18:30')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 1.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:18:30 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191000 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191000 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191000[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.5ms)
  Rendered cart/_cart.html.erb (6.7ms)
Completed 500 Internal Server Error in 90ms
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:19:40', '2015-06-01 17:19:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:19:40', '2015-06-01 17:19:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:19:40', '2015-06-01 17:19:40')
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:19:40', '2015-06-01 17:19:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (15.2ms)
  Rendered catalog/index.html.erb within layouts/application (18.7ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191001
  Rendered cart/_cart.html.erb (5.9ms)
Completed 200 OK in 86ms (Views: 56.6ms | ActiveRecord: 4.1ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191001 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.5ms)
  Rendered catalog/index.html.erb within layouts/application (3.0ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191001[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 1.2ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191001 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (3.8ms)
  Rendered catalog/latest.html.erb within layouts/application (4.3ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191001[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 1.3ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:19:40', '2015-06-01 17:19:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191002 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191002, '2015-06-01 17:19:40', 4, '2015-06-01 17:19:40')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 2.2ms)
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191002 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191002
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:19:40', '2015-06-01 17:19:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191003 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191003, '2015-06-01 17:19:40', 4, '2015-06-01 17:19:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191003 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191003[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191003 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191003[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190977[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191003 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191003
  [1m[36m (16.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:19:40', '2015-06-01 17:19:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191004 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191004, '2015-06-01 17:19:40', 4, '2015-06-01 17:19:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191004 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191004[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191004 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191004 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190978 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190978[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 2.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191004 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191004[0m
  [1m[35m (20.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:19:40', 'Fabricante', '123321123', '2015-06-01 17:19:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:19:40', 'Fabricante2', '123321113', '2015-06-01 17:19:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:19:40', 'Fabricante3', '1233211123', '2015-06-01 17:19:40')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:19:40', 'Fabricante4', '1233211123', '2015-06-01 17:19:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_close
-------------------------------------------------
Processing by Admin::OrderController#close as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_index
-------------------------------------------------
Processing by Admin::OrderController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::OrderControllerTest: test_should_get_show
------------------------------------------------
Processing by Admin::OrderController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (10.0ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '7867c8c71f9c3a0e8936d8a1773c4dbfee55d0c2f485ac9d2cee1fc77d86712667671ebcfe9d3c940e039c7f6f557136b7fc08ac121e7466dcb7bc2a3fe979dc' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:19:40', '5eac42c4760aa90ab0b8e612ff3b000c5c378b4f1a0ea28b141689002485b629d9ee6f5470f99b54865392ce416e963b9100e96911f9154c310d9ac22072b704', '2015-06-01 17:19:40', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 17:19:40', 'kevin', 1, 'Kevin Valle', 'XaO4OW5sqoDoZP0ThqXS', '56OpkhbrtQOrDJ3Uaxj', '7867c8c71f9c3a0e8936d8a1773c4dbfee55d0c2f485ac9d2cee1fc77d86712667671ebcfe9d3c940e039c7f6f557136b7fc08ac121e7466dcb7bc2a3fe979dc', '2015-06-01 17:19:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 15ms (ActiveRecord: 2.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7867c8c71f9c3a0e8936d8a1773c4dbfee55d0c2f485ac9d2cee1fc77d86712667671ebcfe9d3c940e039c7f6f557136b7fc08ac121e7466dcb7bc2a3fe979dc' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:19:40', `perishable_token` = 'aP8EP8h8EKR4XHVjut3K', `updated_at` = '2015-06-01 17:19:40' WHERE `users`.`id` = 34[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 4.6ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=34" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"34"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7867c8c71f9c3a0e8936d8a1773c4dbfee55d0c2f485ac9d2cee1fc77d86712667671ebcfe9d3c940e039c7f6f557136b7fc08ac121e7466dcb7bc2a3fe979dc' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:19:40', `perishable_token` = 'KIELEfl5QawtGpq7kbex', `updated_at` = '2015-06-01 17:19:40' WHERE `users`.`id` = 34
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 34 LIMIT 1
Started GET "/user/edit?id=34" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"34"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7867c8c71f9c3a0e8936d8a1773c4dbfee55d0c2f485ac9d2cee1fc77d86712667671ebcfe9d3c940e039c7f6f557136b7fc08ac121e7466dcb7bc2a3fe979dc' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:19:40', `perishable_token` = 'e8nN16ifqF8IlTmC7h', `updated_at` = '2015-06-01 17:19:40' WHERE `users`.`id` = 34[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 0.8ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7867c8c71f9c3a0e8936d8a1773c4dbfee55d0c2f485ac9d2cee1fc77d86712667671ebcfe9d3c940e039c7f6f557136b7fc08ac121e7466dcb7bc2a3fe979dc' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:19:40', `perishable_token` = '53mpiRDOaVHTshej6ZR6', `updated_at` = '2015-06-01 17:19:40' WHERE `users`.`id` = 34[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '226147234d82487e34d110588745c0ba741d0db89fc55f3014e6eaaf0d6c31e2953ff91a4436b54a8920939c48fbd5f7cba5b6a1cdcfc848e8f8d1a082db8b7e' AND `users`.`id` != 34) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 34) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 34) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 34) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '7867c8c71f9c3a0e8936d8a1773c4dbfee55d0c2f485ac9d2cee1fc77d86712667671ebcfe9d3c940e039c7f6f557136b7fc08ac121e7466dcb7bc2a3fe979dc' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'd991a0b5044fc19bc5e154b0d1e272bf8be6bbb60b6355da474ef17a51d843da7ad66d6c9f93955dc36a0c6deb34e33f8c39331b82f3e46680378658f2b01837', `current_login_at` = '2015-06-01 17:19:40', `last_login_at` = '2015-06-01 17:19:40', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:19:40', `login_count` = 2, `password_salt` = 'O4JApkwNi5kwsEHv', `perishable_token` = 'jFXe6rGR30fldYFMR', `persistence_token` = '226147234d82487e34d110588745c0ba741d0db89fc55f3014e6eaaf0d6c31e2953ff91a4436b54a8920939c48fbd5f7cba5b6a1cdcfc848e8f8d1a082db8b7e', `updated_at` = '2015-06-01 17:19:40' WHERE `users`.`id` = 34[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 12ms (ActiveRecord: 2.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:19:40', `perishable_token` = '927BHPWB0tZrf3rVCMpQ', `updated_at` = '2015-06-01 17:19:40' WHERE `users`.`id` = 34[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 4.7ms | ActiveRecord: 1.2ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'ba1952445e7d8478c16fc834daefb824ecaeffedfd4eea8e5fe640f76f6ea44f645a21888773bd2ccffe4142f34b4b2d2114a9ae989008d1750b89d12863836f' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:19:40', '7b7667c21f49e7a746f2f46b894d4b23bca8531b33ab7e7e643fbfeb10d97438f8b4389abdddf7b4016b42f6583f6aef012a4dde2cbad9c4043771baf128fdc1', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'ErVpjwmj9HdYMRzDrTJ', 'mOYcf4kpDDqAlox3RVOa', 'ba1952445e7d8478c16fc834daefb824ecaeffedfd4eea8e5fe640f76f6ea44f645a21888773bd2ccffe4142f34b4b2d2114a9ae989008d1750b89d12863836f', '2015-06-01 17:19:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (4.1ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 19ms (Views: 10.7ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'cb83e8cdab6362cf7466bfe0c844b38eaacec10d244c75522f837bc835ecce42149a41cc242223547717b17678bbb590a041f9791931d242fa80dd0188335640' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:19:40', '78aab940280f2903c779a62d2758e869ce9501488f4faa926d85b1899bfe939fe9f5bb7ce0e98ea2990b8a56761f481ed2433152b37ca9dfc764dfbae4474e2c', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'CimYuL9aqw0Epc8r5j39', 'qikznb7q9AcKIa4tjdTi', 'cb83e8cdab6362cf7466bfe0c844b38eaacec10d244c75522f837bc835ecce42149a41cc242223547717b17678bbb590a041f9791931d242fa80dd0188335640', '2015-06-01 17:19:40')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-01 17:19:40', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:19:40', `login_count` = 1, `perishable_token` = 'ONledkdndIVyzvxVYv0', `updated_at` = '2015-06-01 17:19:40' WHERE `users`.`id` = 36[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:19:40', 'Prueba', '123456789', '2015-06-01 17:19:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:19:40', '2015-06-01 17:19:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.5ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191005 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.2ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:19:40', '2015-06-01 17:19:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191006 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191006, '2015-06-01 17:19:40', 1, '2015-06-01 17:19:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:19:40 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191006 LIMIT 1[0m
  [1m[35mTshirt Exists (0.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191006 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191006
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.6ms)
  Rendered cart/_cart.html.erb (6.0ms)
Completed 500 Internal Server Error in 40ms
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:28:12', '2015-06-01 17:28:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:28:12', '2015-06-01 17:28:12', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:28:12', '2015-06-01 17:28:12')
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:28:12 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:28:13', '2015-06-01 17:28:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191007 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 47ms (ActiveRecord: 3.0ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:28:13 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:28:13', '2015-06-01 17:28:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191008 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191008, '2015-06-01 17:28:13', 1, '2015-06-01 17:28:13')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 1.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:28:13 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191008 LIMIT 1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191008 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191008[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.4ms)
  Rendered cart/_cart.html.erb (6.2ms)
Completed 500 Internal Server Error in 88ms
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:32:14', '2015-06-01 17:32:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:32:14', '2015-06-01 17:32:14', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:32:14', '2015-06-01 17:32:14')
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:32:14 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:32:14', '2015-06-01 17:32:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191009 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 48ms (ActiveRecord: 3.9ms)
  [1m[35m (12.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:32:14 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:32:14', '2015-06-01 17:32:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191010 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191010, '2015-06-01 17:32:14', 1, '2015-06-01 17:32:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 1.8ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:32:14 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (1.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191010 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191010 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191010[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.4ms)
  Rendered cart/_cart.html.erb (6.2ms)
Completed 500 Internal Server Error in 91ms
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:32:31', '2015-06-01 17:32:31', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:32:31', '2015-06-01 17:32:31', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:32:31', '2015-06-01 17:32:31')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:32:31 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:32:31', '2015-06-01 17:32:31')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191011 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 47ms (ActiveRecord: 3.3ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:32:31 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:32:31', '2015-06-01 17:32:31')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191012 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191012, '2015-06-01 17:32:31', 1, '2015-06-01 17:32:31')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 1.9ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:32:43', '2015-06-01 17:32:43', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:32:43', '2015-06-01 17:32:43', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:32:43', '2015-06-01 17:32:43')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:32:43 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:32:43', '2015-06-01 17:32:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191013 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 44ms (ActiveRecord: 3.1ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:32:43 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:32:43', '2015-06-01 17:32:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191014 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191014, '2015-06-01 17:32:43', 1, '2015-06-01 17:32:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 1.9ms)
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:35:31', '2015-06-01 17:35:31', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:35:31', '2015-06-01 17:35:31', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:35:31', '2015-06-01 17:35:31')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:35:31 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:35:31', '2015-06-01 17:35:31')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191015 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 42ms (ActiveRecord: 2.9ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add?id=1" for 127.0.0.1 at 2015-06-01 19:35:31 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:35:31', '2015-06-01 17:35:31')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191016 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191016, '2015-06-01 17:35:31', 1, '2015-06-01 17:35:31')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 2.1ms)
Started GET "/checkout/index" for 127.0.0.1 at 2015-06-01 19:35:31 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191016 LIMIT 1
  [1m[36mTshirt Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191016 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191016[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.4ms)
  Rendered cart/_cart.html.erb (6.3ms)
Completed 500 Internal Server Error in 88ms
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:36:00', '2015-06-01 17:36:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:36:00', '2015-06-01 17:36:00', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:36:00', '2015-06-01 17:36:00')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:36:00 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:36:00', '2015-06-01 17:36:00')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191017 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 55ms (ActiveRecord: 3.4ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:36:00 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:36:00', '2015-06-01 17:36:00')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191018 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191018, '2015-06-01 17:36:00', 1, '2015-06-01 17:36:00')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 2.0ms)
Started GET "/checkout/index" for 127.0.0.1 at 2015-06-01 19:36:00 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191018 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191018 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191018[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.6ms)
  Rendered cart/_cart.html.erb (9.4ms)
Completed 500 Internal Server Error in 108ms
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:36:12', '2015-06-01 17:36:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:36:12', '2015-06-01 17:36:12', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:36:12', '2015-06-01 17:36:12')
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:36:12 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:36:12', '2015-06-01 17:36:12')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191019 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 42ms (ActiveRecord: 3.2ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:36:12 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:36:12', '2015-06-01 17:36:12')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191020 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191020, '2015-06-01 17:36:12', 1, '2015-06-01 17:36:12')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 2.1ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:36:12 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191020 LIMIT 1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191020 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191020[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.6ms)
  Rendered cart/_cart.html.erb (6.5ms)
Completed 500 Internal Server Error in 87ms
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:39:44', '2015-06-01 17:39:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:39:44', '2015-06-01 17:39:44', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:39:44', '2015-06-01 17:39:44')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:39:44 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:39:44', '2015-06-01 17:39:44')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191021 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191021, '2015-06-01 17:39:44', 1, '2015-06-01 17:39:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 47ms (ActiveRecord: 3.0ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:39:44 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191021 LIMIT 1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191021 LIMIT 1[0m
  Rendered checkout/index.html.erb within layouts/application (31.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191021[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.6ms)
  Rendered cart/_cart.html.erb (6.5ms)
Completed 500 Internal Server Error in 101ms
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:39:44 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:39:44', '2015-06-01 17:39:44')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191022 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191022, '2015-06-01 17:39:44', 1, '2015-06-01 17:39:44')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:39:44 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191022 LIMIT 1[0m
  [1m[35mTshirt Exists (0.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191022 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.1ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191022
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (3.1ms)
Completed 500 Internal Server Error in 27ms
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:40:02', '2015-06-01 17:40:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:40:02', '2015-06-01 17:40:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:40:02', '2015-06-01 17:40:02')
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:40:02 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:40:02', '2015-06-01 17:40:02')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191023 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 51ms (ActiveRecord: 2.9ms)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:40:02 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:40:02', '2015-06-01 17:40:02')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191024 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191024, '2015-06-01 17:40:02', 1, '2015-06-01 17:40:02')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (1.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 2.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:40:02 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191024 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191024 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191024[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.6ms)
  Rendered cart/_cart.html.erb (6.8ms)
Completed 500 Internal Server Error in 104ms
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:41:30', '2015-06-01 17:41:30', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:41:30', '2015-06-01 17:41:30', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (2.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:41:30', '2015-06-01 17:41:30')
  [1m[36m (14.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:41:30 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:41:30', '2015-06-01 17:41:30')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191025 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 57ms (ActiveRecord: 3.6ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started GET "/cart/add?id=1" for 127.0.0.1 at 2015-06-01 19:41:30 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:41:30', '2015-06-01 17:41:30')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191026[0m
  Rendered cart/_cart.html.erb (4.0ms)
Completed 200 OK in 84ms (Views: 77.9ms | ActiveRecord: 3.1ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:41:30 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191026 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191026 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:42:34', '2015-06-01 17:42:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:42:34', '2015-06-01 17:42:34', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:42:34', '2015-06-01 17:42:34')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:42:34 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:42:34', '2015-06-01 17:42:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191027 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 52ms (ActiveRecord: 3.5ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:42:34 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:42:34', '2015-06-01 17:42:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191028 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `tshirt_id`, `updated_at`) VALUES (1, 980191028, '2015-06-01 17:42:34', 1, '2015-06-01 17:42:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 2.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:42:34 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191028 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191028 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191028[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (3.3ms)
  Rendered cart/_cart.html.erb (7.3ms)
Completed 500 Internal Server Error in 123ms
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:44:16', '2015-06-01 17:44:16', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:44:16', '2015-06-01 17:44:16', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:44:16', '2015-06-01 17:44:16')
  [1m[36m (18.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:44:16 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:44:16', '2015-06-01 17:44:16')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191029 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 48ms (ActiveRecord: 3.0ms)
  [1m[35m (26.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:44:16 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:44:16', '2015-06-01 17:44:16')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191030 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191030, '2015-06-01 17:44:17', 2.5, 1, '2015-06-01 17:44:17')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 42ms (ActiveRecord: 1.3ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:44:17 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191030 LIMIT 1
  [1m[36mTshirt Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191030 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191030[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.1ms)
Completed 200 OK in 100ms (Views: 95.0ms | ActiveRecord: 2.3ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-01 19:44:17 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191030"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191030 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191030[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-01 17:44:17', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-01 17:44:17')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-01 17:44:17', 980190964, 2.5, 1, '2015-06-01 17:44:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-01 17:44:18' WHERE `orders`.`id` = 980190964[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190991
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1483ms (ActiveRecord: 3.9ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:44:39', '2015-06-01 17:44:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:44:39', '2015-06-01 17:44:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:44:39', '2015-06-01 17:44:39')
  [1m[36m (20.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:44:39 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:44:39', '2015-06-01 17:44:39')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191031 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 49ms (ActiveRecord: 3.2ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:44:39 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:44:39', '2015-06-01 17:44:39')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191032 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191032, '2015-06-01 17:44:39', 2.5, 1, '2015-06-01 17:44:39')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 2.1ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:44:39 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191032 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191032 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191032[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.3ms)
  Rendered cart/_cart.html.erb (6.8ms)
Completed 200 OK in 92ms (Views: 86.7ms | ActiveRecord: 2.8ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-01 19:44:40 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191032"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191032 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191032[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-01 17:44:40', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-01 17:44:40')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-01 17:44:40', 980190965, 2.5, 1, '2015-06-01 17:44:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-01 17:44:40' WHERE `orders`.`id` = 980190965[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190992
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 881ms (ActiveRecord: 3.9ms)
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:46:34', '2015-06-01 17:46:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:46:34', '2015-06-01 17:46:34', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:46:34', '2015-06-01 17:46:34')
  [1m[36m (14.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 17ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:34', 'Fabricante', '123321123', '2015-06-01 17:46:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:34', 'Fabricante2', '123321113', '2015-06-01 17:46:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:34', 'Fabricante3', '1233211123', '2015-06-01 17:46:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:34', 'Fabricante4', '1233211123', '2015-06-01 17:46:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '788156238e8750259e7eaae4fcd3f24b9466488ca2b18a7aa4114a3a98ac91656ab180e586df65c60bb729076526602b8255e90af942d65005b8e72f7fa3a213' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:46:34', '946c5ee407b3d7271591fff8b443266e14bff7966528742517eb1a48c28614a9d63cfe51dbcbf990b12c89b4023feed9b941d3e839c42905ff918f901fbb31c9', '2015-06-01 17:46:34', '0.0.0.0', 'kevin@emporium.com', '2015-06-01 17:46:34', 'kevin', 1, 'Kevin Valle', 'DDTmc2ucLXg0i2aVTa', 'bixElzOSOniDaofFLzql', '788156238e8750259e7eaae4fcd3f24b9466488ca2b18a7aa4114a3a98ac91656ab180e586df65c60bb729076526602b8255e90af942d65005b8e72f7fa3a213', '2015-06-01 17:46:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (4.6ms)
ApplicationController::current_user
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 56ms (Views: 52.5ms | ActiveRecord: 1.2ms)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '26311fa8bdae944e14aa55b81622204612fe95530b4442b3d678cacb61c2208fc084f90ae3b8fb6412ccd7d94052a375bab1d7e1ddf3107b446070a4e336e431' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:46:34', 'c9c10a5b440870af95664d1561759ae1c7227b391b61904a6194f91ec8faeb2d3aadbdd9181accd84350a17cb819e569272c6590201bafb75a3314d8c890e0e7', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'VfKbZRyAvsIwT7dOEGja', '53R0drcIjaUarkNUHD', '26311fa8bdae944e14aa55b81622204612fe95530b4442b3d678cacb61c2208fc084f90ae3b8fb6412ccd7d94052a375bab1d7e1ddf3107b446070a4e336e431', '2015-06-01 17:46:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `current_login_at` = '2015-06-01 17:46:34', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:46:34', `login_count` = 1, `perishable_token` = 'ipH08JFScfpX3wdWEz', `updated_at` = '2015-06-01 17:46:34' WHERE `users`.`id` = 38
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[35m (20.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (1.6ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '9bd7e415526094fb486d699d37356a2cf2f25e4b499ae0931cf9cfad84088e34bbdafc53fc06eeb26a6d2e6939d372c6c56e6fddac6cbf6926c71d07c91580a7' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:46:34', '8794ca00ba3f3d001a79d1b4afe8f332f0f8f274e42aa364b72be1cc6648073faf7b532b9aff3bd09521736da2267e1ad83e2842c09a37652680d2e174087d48', '2015-06-01 17:46:34', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 17:46:34', 'kevin', 1, 'Kevin Valle', 'GDkJdPRnPnNuFW8OFFT', 'gwI5hJwT14WXobt27x', '9bd7e415526094fb486d699d37356a2cf2f25e4b499ae0931cf9cfad84088e34bbdafc53fc06eeb26a6d2e6939d372c6c56e6fddac6cbf6926c71d07c91580a7', '2015-06-01 17:46:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '9bd7e415526094fb486d699d37356a2cf2f25e4b499ae0931cf9cfad84088e34bbdafc53fc06eeb26a6d2e6939d372c6c56e6fddac6cbf6926c71d07c91580a7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:46:34', `perishable_token` = 'JAhCaPUrwyO1nbpfZ1Yj', `updated_at` = '2015-06-01 17:46:34' WHERE `users`.`id` = 39
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=39" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"39"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '9bd7e415526094fb486d699d37356a2cf2f25e4b499ae0931cf9cfad84088e34bbdafc53fc06eeb26a6d2e6939d372c6c56e6fddac6cbf6926c71d07c91580a7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:46:34', `perishable_token` = 'bxINPyZ36HqnOvbFMJd', `updated_at` = '2015-06-01 17:46:34' WHERE `users`.`id` = 39[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 39 LIMIT 1[0m
Started GET "/user/edit?id=39" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"39"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '9bd7e415526094fb486d699d37356a2cf2f25e4b499ae0931cf9cfad84088e34bbdafc53fc06eeb26a6d2e6939d372c6c56e6fddac6cbf6926c71d07c91580a7' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:46:34', `perishable_token` = 'uLtlB9nlsng43ns2mr', `updated_at` = '2015-06-01 17:46:34' WHERE `users`.`id` = 39
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.7ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 0.9ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '9bd7e415526094fb486d699d37356a2cf2f25e4b499ae0931cf9cfad84088e34bbdafc53fc06eeb26a6d2e6939d372c6c56e6fddac6cbf6926c71d07c91580a7' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:46:34', `perishable_token` = 'I008Q3lvcw3upRyYP9R', `updated_at` = '2015-06-01 17:46:34' WHERE `users`.`id` = 39
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '082936f2b8d4d70a76843741fb1785643d18a11b8c523369f1fa1d8003c0734f883603c6c9878499fe5773d6d1548743b5247ff7a7ba3fecb22bb839a3c5f4f1' AND `users`.`id` != 39) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 39) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 39) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 39) LIMIT 1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '9bd7e415526094fb486d699d37356a2cf2f25e4b499ae0931cf9cfad84088e34bbdafc53fc06eeb26a6d2e6939d372c6c56e6fddac6cbf6926c71d07c91580a7' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = '43802b7a244e07264a7cde89bc9e2f15cffb61e3ad8b946072fd6a3317f43c018d16d49b6516f1261ddd2593920d80a391d7c97c71931de016998c4ae74c82ac', `current_login_at` = '2015-06-01 17:46:34', `last_login_at` = '2015-06-01 17:46:34', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:46:34', `login_count` = 2, `password_salt` = 'cW5u4v2oe7P6d4oKzZl', `perishable_token` = '11nsSEaUGLn0vmfsfw', `persistence_token` = '082936f2b8d4d70a76843741fb1785643d18a11b8c523369f1fa1d8003c0734f883603c6c9878499fe5773d6d1548743b5247ff7a7ba3fecb22bb839a3c5f4f1', `updated_at` = '2015-06-01 17:46:34' WHERE `users`.`id` = 39
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 16ms (ActiveRecord: 3.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:46:34 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 39 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:46:34', `perishable_token` = 'JgWUzrzCw8u4da2g4n4h', `updated_at` = '2015-06-01 17:46:34' WHERE `users`.`id` = 39
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.8ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_close
-------------------------------------------------
Processing by Admin::OrderController#close as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_index
-------------------------------------------------
Processing by Admin::OrderController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::OrderControllerTest: test_should_get_show
------------------------------------------------
Processing by Admin::OrderController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:46:35 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:35', '2015-06-01 17:46:35')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191033 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 3.4ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:46:35 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:35', '2015-06-01 17:46:35')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191034 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191034, '2015-06-01 17:46:35', 2.5, 1, '2015-06-01 17:46:35')[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 3.4ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:46:35 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191034 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191034 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191034[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.9ms)
Completed 200 OK in 53ms (Views: 48.7ms | ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-01 19:46:35 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191034"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191034 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191034[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-01 17:46:35', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-01 17:46:35')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-01 17:46:35', 980190966, 2.5, 1, '2015-06-01 17:46:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-01 17:46:36' WHERE `orders`.`id` = 980190966[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190993
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 863ms (ActiveRecord: 5.2ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 19:46:36 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:36', '2015-06-01 17:46:36')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (14.4ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191035[0m
  Rendered cart/_cart.html.erb (1.7ms)
Completed 200 OK in 26ms (Views: 20.8ms | ActiveRecord: 2.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 19:46:36 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191035 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.6ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.1ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191035
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 1.3ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 19:46:36 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191035 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.8ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191035
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 1.1ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:36', '2015-06-01 17:46:36')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191036 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191036, '2015-06-01 17:46:36', 2.5, 4, '2015-06-01 17:46:36')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191036 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191036
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:36', '2015-06-01 17:46:36')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191037 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191037, '2015-06-01 17:46:36', 2.5, 4, '2015-06-01 17:46:36')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191037 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191037[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191037 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191037[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190995[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191037 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191037
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:36', '2015-06-01 17:46:36')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191038 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191038, '2015-06-01 17:46:36', 2.5, 4, '2015-06-01 17:46:36')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191038 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191038[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191038 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191038 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190996 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190996[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191038 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191038[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:36', 'Prueba', '123456789', '2015-06-01 17:46:36')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:46:36 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (3.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:46:59', '2015-06-01 17:46:59', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:46:59', '2015-06-01 17:46:59', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:46:59', '2015-06-01 17:46:59')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (4.7ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (8.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 67ms (Views: 64.4ms | ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:59', 'Kevinva', '123456789', '2015-06-01 17:46:59')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 3ms (Views: 64.4ms | ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 31ms (Views: 28.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (0.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.5ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-01 17:46:59' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:59', 'Fabricante', '123321123', '2015-06-01 17:46:59')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:59', 'Fabricante2', '123321113', '2015-06-01 17:46:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:59', 'Fabricante3', '1233211123', '2015-06-01 17:46:59')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:46:59', 'Fabricante4', '1233211123', '2015-06-01 17:46:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (8.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 9ms (Views: 18.2ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (6.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 22ms (Views: 17.3ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 19:46:59 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:59', '2015-06-01 17:46:59')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (7.1ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191039
  Rendered cart/_cart.html.erb (5.8ms)
Completed 200 OK in 38ms (Views: 17.8ms | ActiveRecord: 2.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 19:46:59 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191039 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.1ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191039[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 1.1ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 19:46:59 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191039 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (3.5ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191039[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.1ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:46:59 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:59', '2015-06-01 17:46:59')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191040 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 2.6ms)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:46:59 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:46:59', '2015-06-01 17:46:59')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191041 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191041, '2015-06-01 17:46:59', 2.5, 1, '2015-06-01 17:46:59')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 1.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:46:59 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191041 LIMIT 1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191041 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191041[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (4.6ms)
Completed 200 OK in 39ms (Views: 33.2ms | ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-01 19:46:59 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191041"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191041 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191041[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-01 17:46:59', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-01 17:46:59')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-01 17:46:59', 980190967, 2.5, 1, '2015-06-01 17:46:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-01 17:47:00' WHERE `orders`.`id` = 980190967[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190997
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 853ms (ActiveRecord: 3.7ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_close
-------------------------------------------------
Processing by Admin::OrderController#close as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_index
-------------------------------------------------
Processing by Admin::OrderController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::OrderControllerTest: test_should_get_show
------------------------------------------------
Processing by Admin::OrderController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '5d31fcbf5873530cc7dc85d29dc1446ccdda71c35aadd239f7f8a2aca3f91a17d01f7475bc31650eda34d908f350b4222cd92feb56c60308b8845c9dacf44ace' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:47:00', '71b1f0af31f374d5379362488cdf3e50ae14a2ba7056cf3b4d0a49c3bef8bda090f8a790a3af523137cb91748dbd2c8b25be3b6dc9ff1f0132ec843ea845e1e6', '2015-06-01 17:47:00', '0.0.0.0', 'kevin@emporium.com', '2015-06-01 17:47:00', 'kevin', 1, 'Kevin Valle', 'tEaPIW9HRLyApasnOC', 'EncwU8OjarKAktVYDmHR', '5d31fcbf5873530cc7dc85d29dc1446ccdda71c35aadd239f7f8a2aca3f91a17d01f7475bc31650eda34d908f350b4222cd92feb56c60308b8845c9dacf44ace', '2015-06-01 17:47:00')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.6ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '3725ec324fce859dc257f0faa3990a785e2ec22636b4dc85b70f712c8a8ce38ad732af816453c58f440aa7f9ff79d64a2beecac119ec6ae16cd7d0921759e53f' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:47:00', 'b752de710c7f9212c08ef19e033ae1416c8beaafe1eaca233acf8eff4ff3e7b799931a3083dea81b8b7766bd62e6f24e475808d207b544a28ed4a1455007ec86', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'bwwJFM6zsRWhTMHoQyGN', '0xliR6ybgIyEUy7t', '3725ec324fce859dc257f0faa3990a785e2ec22636b4dc85b70f712c8a8ce38ad732af816453c58f440aa7f9ff79d64a2beecac119ec6ae16cd7d0921759e53f', '2015-06-01 17:47:00')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:47:00', 'Prueba', '123456789', '2015-06-01 17:47:00')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.7ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"28"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 28 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 28, 30.5, 'M')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 28 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (9.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 28 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (8.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 1.2ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 28 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (16.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 25ms (Views: 23.3ms | ActiveRecord: 1.1ms)
Started GET "/admin/tshirt/show?id=9" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 28 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.7ms)
Started GET "/admin/tshirt/edit?id=9" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.7ms)
Started POST "/admin/tshirt/update?id=9" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"28"}, "id"=>"9"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 28 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 9
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/show?id=9
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/show?id=9" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 28 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.7ms)
Started POST "/admin/tshirt/destroy?id=9" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"9"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `tshirts` WHERE `tshirts`.`id` = 9[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 19:47:00 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (7.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.8ms)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:00', '2015-06-01 17:47:00')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191042 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191042, '2015-06-01 17:47:00', 2.5, 4, '2015-06-01 17:47:00')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191042 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191042
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:00', '2015-06-01 17:47:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191043 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191043, '2015-06-01 17:47:00', 2.5, 4, '2015-06-01 17:47:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191043 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191043[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191043 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191043[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190999[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191043 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191043
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:00', '2015-06-01 17:47:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191044 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191044, '2015-06-01 17:47:00', 2.5, 4, '2015-06-01 17:47:00')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191044 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191044[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191044 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191044 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191000 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191000[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191044 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191044[0m
  [1m[35m (13.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 19:47:01 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (1.7ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 19:47:01 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '91b66d6d18d7d7d06cf3554e1f82ebd7d13ac9c10d8e8c16f7b64bf06c984e9bc47e8148b5c3addbb4f6c38c7fa17624f1520e9ba3bf893c3e6ffd56e62b73d9' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:47:01', '57f60980a93a6128c70fc1eee154d5bbbb62c4516d689573a39fc4e2d39a08061ff7053b996f607c247108dcd446a618f66c3632665d39969d4d5b0fe42cf7ed', '2015-06-01 17:47:01', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 17:47:01', 'kevin', 1, 'Kevin Valle', 'sCBevylIJ2E6Iabqr3sH', 'RDga8rSsk5zH0JsQdyy', '91b66d6d18d7d7d06cf3554e1f82ebd7d13ac9c10d8e8c16f7b64bf06c984e9bc47e8148b5c3addbb4f6c38c7fa17624f1520e9ba3bf893c3e6ffd56e62b73d9', '2015-06-01 17:47:01')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:47:01 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '91b66d6d18d7d7d06cf3554e1f82ebd7d13ac9c10d8e8c16f7b64bf06c984e9bc47e8148b5c3addbb4f6c38c7fa17624f1520e9ba3bf893c3e6ffd56e62b73d9' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:47:01', `perishable_token` = 'jKUUXJavb0y49ZjjwDQq', `updated_at` = '2015-06-01 17:47:01' WHERE `users`.`id` = 42
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.1ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=42" for 127.0.0.1 at 2015-06-01 19:47:01 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"42"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '91b66d6d18d7d7d06cf3554e1f82ebd7d13ac9c10d8e8c16f7b64bf06c984e9bc47e8148b5c3addbb4f6c38c7fa17624f1520e9ba3bf893c3e6ffd56e62b73d9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:47:01', `perishable_token` = 'kjh5vfnRl2WCDCl0kPC8', `updated_at` = '2015-06-01 17:47:01' WHERE `users`.`id` = 42[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 42 LIMIT 1[0m
Started GET "/user/edit?id=42" for 127.0.0.1 at 2015-06-01 19:47:01 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"42"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '91b66d6d18d7d7d06cf3554e1f82ebd7d13ac9c10d8e8c16f7b64bf06c984e9bc47e8148b5c3addbb4f6c38c7fa17624f1520e9ba3bf893c3e6ffd56e62b73d9' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:47:01', `perishable_token` = 'edMhZQcOK4flohz7axe', `updated_at` = '2015-06-01 17:47:01' WHERE `users`.`id` = 42
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 0.9ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 19:47:01 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '91b66d6d18d7d7d06cf3554e1f82ebd7d13ac9c10d8e8c16f7b64bf06c984e9bc47e8148b5c3addbb4f6c38c7fa17624f1520e9ba3bf893c3e6ffd56e62b73d9' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:47:01', `perishable_token` = 'sqd53xE5XQCEAx3RrWd', `updated_at` = '2015-06-01 17:47:01' WHERE `users`.`id` = 42
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '158988f11623d1c38b93eeda0de9dbfc8aae0fa7931f62d0072feda8cf5e1a78800c1b711720b2b482c3183c0cdde19deda43aa6c24165ad5e9b4a170ea422b5' AND `users`.`id` != 42) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 42) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 42) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 42) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '91b66d6d18d7d7d06cf3554e1f82ebd7d13ac9c10d8e8c16f7b64bf06c984e9bc47e8148b5c3addbb4f6c38c7fa17624f1520e9ba3bf893c3e6ffd56e62b73d9' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `crypted_password` = '364d606e5fdcf023fc8cd011f6a0f2e3cdeb9813e43a0421bb8816febcae54f7ebbd614e8c16fe78dfaa6656c4c1dd007fbea3fc527eb857d9915d809ffb3a22', `current_login_at` = '2015-06-01 17:47:01', `last_login_at` = '2015-06-01 17:47:01', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:47:01', `login_count` = 2, `password_salt` = 'rieK74Vx4N9JiC5rMn4', `perishable_token` = 'bri2ubDXUpEgcOQY4Oc', `persistence_token` = '158988f11623d1c38b93eeda0de9dbfc8aae0fa7931f62d0072feda8cf5e1a78800c1b711720b2b482c3183c0cdde19deda43aa6c24165ad5e9b4a170ea422b5', `updated_at` = '2015-06-01 17:47:01' WHERE `users`.`id` = 42
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 12ms (ActiveRecord: 2.8ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:47:01 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 42 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:47:01', `perishable_token` = 'pIMfQKAja8QZp7ol7ojX', `updated_at` = '2015-06-01 17:47:01' WHERE `users`.`id` = 42
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.9ms)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:47:33', '2015-06-01 17:47:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-01 17:47:33', '2015-06-01 17:47:33', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-01 17:47:33', '2015-06-01 17:47:33')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'fcdbc50ec3bac2cba023e33dead7ca8fa8d7b6c1f28927799e6089c33ad79e2ba1be3b6cf2063a141cb7cbe413de60402f08973c92bf776c76d6e572432cb922' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:47:33', '1fb11cb3cbd03554da3d72d155cc00ea90a5e5ac97a56f9baf108ac132268b4ae42863f3257d3441e9b7bfb1325009ef4e5c6d973a67178c94002eae75a68750', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'I2jOMfKaeakainb4DseX', 'ozm27pGCANztloYvTjb', 'fcdbc50ec3bac2cba023e33dead7ca8fa8d7b6c1f28927799e6089c33ad79e2ba1be3b6cf2063a141cb7cbe413de60402f08973c92bf776c76d6e572432cb922', '2015-06-01 17:47:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:47:33 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (9.9ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (14.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 62ms (Views: 52.6ms | ActiveRecord: 0.6ms)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'b199395414301272987e72ad375ab98f856efb8942e1504819f430ebb037406d3a8f984cfffd000f558f5db02559a2228b2627770b4b70c7e5a45fe93aebab3e' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:47:34', '0c4b3bb9a78d252cc9c9ea9864d500385c0203ba247ab7bd6a962f0c6ada71ca442aae0ea72eaebf4de9db2dfad63498abde259576266e69ed86ec1c020d7852', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'iBFg4v3M1EflIwrOKXMx', 'Iw3rN2u4jq6go0Hiz5oz', 'b199395414301272987e72ad375ab98f856efb8942e1504819f430ebb037406d3a8f984cfffd000f558f5db02559a2228b2627770b4b70c7e5a45fe93aebab3e', '2015-06-01 17:47:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:47:34 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
  [1m[35m (4.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:34', '2015-06-01 17:47:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191045 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191045, '2015-06-01 17:47:34', 2.5, 4, '2015-06-01 17:47:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 31ms (ActiveRecord: 3.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191045 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191045
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:34', '2015-06-01 17:47:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191046 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191046, '2015-06-01 17:47:34', 2.5, 4, '2015-06-01 17:47:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191046 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191046[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191046 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191046[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191002[0m
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191046 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191046
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:34', '2015-06-01 17:47:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191047 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191047, '2015-06-01 17:47:34', 2.5, 4, '2015-06-01 17:47:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191047 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191047[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191047 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191047 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191003 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191003[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191047 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191047[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:47:34 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:34', '2015-06-01 17:47:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191048 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-01 19:47:34 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:34', '2015-06-01 17:47:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191049 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191049, '2015-06-01 17:47:34', 2.5, 1, '2015-06-01 17:47:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-01 19:47:34 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (1.1ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191049 LIMIT 1
  [1m[36mTshirt Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191049 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191049[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (11.8ms)
Completed 200 OK in 47ms (Views: 41.3ms | ActiveRecord: 2.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-01 19:47:34 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191049"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191049 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191049[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-01 17:47:34', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-01 17:47:34')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-01 17:47:34', 980190968, 2.5, 1, '2015-06-01 17:47:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-01 17:47:35' WHERE `orders`.`id` = 980190968[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191004
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 994ms (ActiveRecord: 3.8ms)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-01 17:47:35', '2015-06-01 17:47:35')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (8.4ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191050[0m
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 24ms (Views: 17.8ms | ActiveRecord: 2.2ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191050 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (2.3ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.1ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191050
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 1.3ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191050 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (3.5ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191050
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 1.0ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:47:35', 'Fabricante', '123321123', '2015-06-01 17:47:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:47:35', 'Fabricante2', '123321113', '2015-06-01 17:47:35')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:47:35', 'Fabricante3', '1233211123', '2015-06-01 17:47:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:47:35', 'Fabricante4', '1233211123', '2015-06-01 17:47:35')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (1.8ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'b1a8b2625bd8f8b045b3fd1967399974c9f6c810ff973968ad3ae36c689c8d8974fa1ddb4e92f0f56b0e97d26d69bf760bf2c83c5f1ef9823af3a83449b61394' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-01 17:47:35', 'c324a403ed3e47899b768b1da84fb41ff4314f52563690c4503df4d6cf3e34d469f525ff830d223eb0e3d81454dcbe512550ad8b1d8976fc118f32a2a487e0a7', '2015-06-01 17:47:35', '127.0.0.1', 'kevin@emporium.com', '2015-06-01 17:47:35', 'kevin', 1, 'Kevin Valle', 'N3P4giaR2jPlvpouMG4E', 'YGBQOKzlIQJWa3AfANES', 'b1a8b2625bd8f8b045b3fd1967399974c9f6c810ff973968ad3ae36c689c8d8974fa1ddb4e92f0f56b0e97d26d69bf760bf2c83c5f1ef9823af3a83449b61394', '2015-06-01 17:47:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 2.1ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b1a8b2625bd8f8b045b3fd1967399974c9f6c810ff973968ad3ae36c689c8d8974fa1ddb4e92f0f56b0e97d26d69bf760bf2c83c5f1ef9823af3a83449b61394' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:47:35', `perishable_token` = 'Eyr1RwkEHYE7CtLegm3v', `updated_at` = '2015-06-01 17:47:35' WHERE `users`.`id` = 45
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 5.2ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=45" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"45"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b1a8b2625bd8f8b045b3fd1967399974c9f6c810ff973968ad3ae36c689c8d8974fa1ddb4e92f0f56b0e97d26d69bf760bf2c83c5f1ef9823af3a83449b61394' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-01 17:47:35', `perishable_token` = 'T1nu3Xz8hefW9JF0kA9', `updated_at` = '2015-06-01 17:47:35' WHERE `users`.`id` = 45[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 45 LIMIT 1[0m
Started GET "/user/edit?id=45" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"45"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b1a8b2625bd8f8b045b3fd1967399974c9f6c810ff973968ad3ae36c689c8d8974fa1ddb4e92f0f56b0e97d26d69bf760bf2c83c5f1ef9823af3a83449b61394' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:47:35', `perishable_token` = '6WbWR65Zu7TPIlK7aMJ', `updated_at` = '2015-06-01 17:47:35' WHERE `users`.`id` = 45
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b1a8b2625bd8f8b045b3fd1967399974c9f6c810ff973968ad3ae36c689c8d8974fa1ddb4e92f0f56b0e97d26d69bf760bf2c83c5f1ef9823af3a83449b61394' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:47:35', `perishable_token` = 'R5Bl7JtCtMemwftF6w5p', `updated_at` = '2015-06-01 17:47:35' WHERE `users`.`id` = 45
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '548d9a796e910dfcad2345588b9896808bb50c37a09f447106d9a49e2980875d26378199d9ddb1000100bf41e0da91001829bc3773dee5337db8ba27c47edf5e' AND `users`.`id` != 45) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 45) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 45) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 45) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'b1a8b2625bd8f8b045b3fd1967399974c9f6c810ff973968ad3ae36c689c8d8974fa1ddb4e92f0f56b0e97d26d69bf760bf2c83c5f1ef9823af3a83449b61394' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `crypted_password` = '08210d287379c3c52f27baa30e58597ad80837116d7a636a60d717cf7a6e384ba47caeff4e939e0c6ee56a9094471340077e10f2158db06945438d1f52163e74', `current_login_at` = '2015-06-01 17:47:35', `last_login_at` = '2015-06-01 17:47:35', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-01 17:47:35', `login_count` = 2, `password_salt` = 'YVAwwlpZ3hFc7qLDfp5', `perishable_token` = 'iMehy1OZ886plJttGWvr', `persistence_token` = '548d9a796e910dfcad2345588b9896808bb50c37a09f447106d9a49e2980875d26378199d9ddb1000100bf41e0da91001829bc3773dee5337db8ba27c47edf5e', `updated_at` = '2015-06-01 17:47:35' WHERE `users`.`id` = 45
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 13ms (ActiveRecord: 3.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 45 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-01 17:47:35', `perishable_token` = 'Z1U7sQTmJEGP8G2ew4a', `updated_at` = '2015-06-01 17:47:35' WHERE `users`.`id` = 45
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 1.2ms)
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:47:35', 'Prueba', '123456789', '2015-06-01 17:47:35')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.5ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"33"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 33 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 33, 30.5, 'M')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.2ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (1.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 33 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (12.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 2.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 33 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (8.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 15ms (Views: 12.6ms | ActiveRecord: 1.3ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 33 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (8.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/show?id=10" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 33 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.9ms)
Started GET "/admin/tshirt/edit?id=10" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.7ms)
Started POST "/admin/tshirt/update?id=10" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"33"}, "id"=>"10"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 33 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 10
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/show?id=10
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/admin/tshirt/show?id=10" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 33 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.7ms)
Started POST "/admin/tshirt/destroy?id=10" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"10"}
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `tshirts` WHERE `tshirts`.`id` = 10[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-01 19:47:35 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (6.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.8ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-01 17:47:35', 'Kevinva', '123456789', '2015-06-01 17:47:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 2ms (Views: 6.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/manufacturer/_form.html.erb (0.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.3ms)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 2ms (ActiveRecord: 0.9ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-01 17:47:35' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 3ms (Views: 6.7ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (27.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:08:21', '2015-06-02 09:08:21', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:08:21', '2015-06-02 09:08:21', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:08:21', '2015-06-02 09:08:21')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:08:21', 'Fabricante', '123321123', '2015-06-02 09:08:21')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:08:21', 'Fabricante2', '123321113', '2015-06-02 09:08:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:08:21', 'Fabricante3', '1233211123', '2015-06-02 09:08:21')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:08:21', 'Fabricante4', '1233211123', '2015-06-02 09:08:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:08:22', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:08:22')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:08:22', 980190963, 155.25, 1, '2015-06-02 09:08:22')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Order 980190963 failed due to raised exception: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube.
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `error_message` = 'Exception raised: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube', `status` = 'failed', `updated_at` = '2015-06-02 09:08:22' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.6ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:08:44', '2015-06-02 09:08:44', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:08:44', '2015-06-02 09:08:44', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:08:44', '2015-06-02 09:08:44')
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:08:44', 'Fabricante', '123321123', '2015-06-02 09:08:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:08:44', 'Fabricante2', '123321113', '2015-06-02 09:08:44')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:08:44', 'Fabricante3', '1233211123', '2015-06-02 09:08:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (30.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:08:44', 'Fabricante4', '1233211123', '2015-06-02 09:08:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:08:44', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:08:44')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:08:44', 980190964, 155.25, 1, '2015-06-02 09:08:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190964 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190964[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190964
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:09:00', '2015-06-02 09:09:00', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:09:00', '2015-06-02 09:09:00', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:09:00', '2015-06-02 09:09:00')
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:09:00', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:09:00')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:09:00', 980190965, 155.25, 1, '2015-06-02 09:09:00')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:00', 'Fabricante', '123321123', '2015-06-02 09:09:00')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:00', 'Fabricante2', '123321113', '2015-06-02 09:09:00')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:00', 'Fabricante3', '1233211123', '2015-06-02 09:09:00')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:00', 'Fabricante4', '1233211123', '2015-06-02 09:09:00')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:09:07', '2015-06-02 09:09:07', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:09:07', '2015-06-02 09:09:07', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:09:07', '2015-06-02 09:09:07')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:07', 'Fabricante', '123321123', '2015-06-02 09:09:07')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:07', 'Fabricante2', '123321113', '2015-06-02 09:09:07')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:07', 'Fabricante3', '1233211123', '2015-06-02 09:09:07')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:07', 'Fabricante4', '1233211123', '2015-06-02 09:09:07')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:09:07', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:09:07')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:09:07', 980190966, 155.25, 1, '2015-06-02 09:09:07')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Order 980190966 failed due to raised exception: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube.
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `error_message` = 'Exception raised: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube', `status` = 'failed', `updated_at` = '2015-06-02 09:09:08' WHERE `orders`.`id` = 980190966
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:09:33', '2015-06-02 09:09:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:09:33', '2015-06-02 09:09:33', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:09:33', '2015-06-02 09:09:33')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:09:33', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:09:33')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:09:33', 980190967, 155.25, 1, '2015-06-02 09:09:33')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:33', 'Fabricante', '123321123', '2015-06-02 09:09:33')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:33', 'Fabricante2', '123321113', '2015-06-02 09:09:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:33', 'Fabricante3', '1233211123', '2015-06-02 09:09:33')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:09:33', 'Fabricante4', '1233211123', '2015-06-02 09:09:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:12:11', '2015-06-02 09:12:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:12:11', '2015-06-02 09:12:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:12:11', '2015-06-02 09:12:11')
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-02 11:12:11 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (35.7ms)
  Rendered user/new.html.erb within layouts/application (50.3ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 746ms (Views: 671.8ms | ActiveRecord: 1.8ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '03f4a664a7f421401fec5bb1a82e9fb7012fc6c7bfdc8684f098045b874ab82efdc8e23d93b5e72ffb071866a23172abde24fa593bb77267feb009593fb86eb7' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-02 09:12:12', '77a0de092b4d85ffc60353cce0f0b23e6a80792ce282d3ca5bf8e1a76afcf0c9a2a2cdfa555b618df7b9549dc2c2e32a19a2d5d26cd56073efebc62883ee3157', '2015-06-02 09:12:12', '127.0.0.1', 'kevin@emporium.com', '2015-06-02 09:12:12', 'kevin', 1, 'Kevin Valle', 'ZPwgrR1dJ7LymhGH522s', 'Re0E0sy4nVSU5OU9IZ56', '03f4a664a7f421401fec5bb1a82e9fb7012fc6c7bfdc8684f098045b874ab82efdc8e23d93b5e72ffb071866a23172abde24fa593bb77267feb009593fb86eb7', '2015-06-02 09:12:12')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 51ms (ActiveRecord: 2.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '03f4a664a7f421401fec5bb1a82e9fb7012fc6c7bfdc8684f098045b874ab82efdc8e23d93b5e72ffb071866a23172abde24fa593bb77267feb009593fb86eb7' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-02 09:12:12', `perishable_token` = 'Vjg6LslNuebT38kPVjd', `updated_at` = '2015-06-02 09:12:12' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 38ms (Views: 31.7ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=1" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '03f4a664a7f421401fec5bb1a82e9fb7012fc6c7bfdc8684f098045b874ab82efdc8e23d93b5e72ffb071866a23172abde24fa593bb77267feb009593fb86eb7' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-02 09:12:12', `perishable_token` = '1FrpAp9TRmuVyyhSNaj', `updated_at` = '2015-06-02 09:12:12' WHERE `users`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1
Started GET "/user/edit?id=1" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '03f4a664a7f421401fec5bb1a82e9fb7012fc6c7bfdc8684f098045b874ab82efdc8e23d93b5e72ffb071866a23172abde24fa593bb77267feb009593fb86eb7' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-02 09:12:12', `perishable_token` = '7BlKIbWXykCXfmtqWmU', `updated_at` = '2015-06-02 09:12:12' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
  Rendered user/edit.html.erb within layouts/application (1.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 40ms (Views: 35.6ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '03f4a664a7f421401fec5bb1a82e9fb7012fc6c7bfdc8684f098045b874ab82efdc8e23d93b5e72ffb071866a23172abde24fa593bb77267feb009593fb86eb7' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-02 09:12:12', `perishable_token` = 'eOEzeADNg1MGxpL4xbo', `updated_at` = '2015-06-02 09:12:12' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (15.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'b1034ca9ce10cd62ec43b7cbaf76f92411e32d97149d5c824e8c6f0db1eccc1bf1ca4e6fc95181df69380243344a6d453c0550b9e888c5a5cee1dd2d523631cd' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '03f4a664a7f421401fec5bb1a82e9fb7012fc6c7bfdc8684f098045b874ab82efdc8e23d93b5e72ffb071866a23172abde24fa593bb77267feb009593fb86eb7' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'da7c677bdc42441cb7cc24bad4d9a248d6e7a5f3b843c5242377b33cce21dbd7a2e15b78e007e0fc61c6646c2c757c90f027979eb2dd77ffe4ac5701e05235a0', `current_login_at` = '2015-06-02 09:12:12', `last_login_at` = '2015-06-02 09:12:12', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-02 09:12:12', `login_count` = 2, `password_salt` = 'BxRMSxtbrMXozzZjuKkA', `perishable_token` = 'AMgM6JStWjt2qnDtnhL3', `persistence_token` = 'b1034ca9ce10cd62ec43b7cbaf76f92411e32d97149d5c824e8c6f0db1eccc1bf1ca4e6fc95181df69380243344a6d453c0550b9e888c5a5cee1dd2d523631cd', `updated_at` = '2015-06-02 09:12:12' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 28ms (ActiveRecord: 18.5ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-02 09:12:12', `perishable_token` = 'ozvREjsS9sOuFzFPPmRN', `updated_at` = '2015-06-02 09:12:12' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 1.0ms)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-02 09:12:12', '2015-06-02 09:12:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.5ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190963 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 3.6ms)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-02 09:12:12', '2015-06-02 09:12:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190964, '2015-06-02 09:12:12', 2.5, 1, '2015-06-02 09:12:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 2.2ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mTshirt Exists (0.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (6.5ms)
Completed 200 OK in 79ms (Views: 75.1ms | ActiveRecord: 1.6ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-02 11:12:12 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190964"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190964
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:12:12', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:12:12')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-02 09:12:12', 980190968, 2.5, 1, '2015-06-02 09:12:12')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Order 980190968 failed due to raised exception: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube.
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `error_message` = 'Exception raised: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube', `status` = 'failed', `updated_at` = '2015-06-02 09:12:13' WHERE `orders`.`id` = 980190968
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (0.4ms)
  Rendered cart/_cart.html.erb (1.7ms)
Completed 200 OK in 586ms (Views: 19.7ms | ActiveRecord: 3.9ms)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:13', 'Prueba', '123456789', '2015-06-02 09:12:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-02 11:12:13 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:12:13', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:12:13')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:12:13', 980190969, 155.25, 1, '2015-06-02 09:12:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Order 980190969 failed due to raised exception: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube.
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `error_message` = 'Exception raised: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube', `status` = 'failed', `updated_at` = '2015-06-02 09:12:13' WHERE `orders`.`id` = 980190969[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '9d246bd31f851b38945dc219b8af956a7f6c800895442822aeb395bc7bc2f8b8c8aa6da9991d5b72c5f07231f0108a3622aae9396644912f4135f7bc56e7ab59' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-02 09:12:13', 'f49cac419b93e4306b004898b169a4507aa292cce34f4b4dd95fddf81a56779354519c7954db30f39801c0bb01fdb28813e318921480aec186fb7822290c7016', '2015-06-02 09:12:13', '0.0.0.0', 'kevin@emporium.com', '2015-06-02 09:12:13', 'kevin', 1, 'Kevin Valle', 'ApwQJzYqhqTYK2FyGs9Q', 'GHNlJyUoa5yEvv7gm5uS', '9d246bd31f851b38945dc219b8af956a7f6c800895442822aeb395bc7bc2f8b8c8aa6da9991d5b72c5f07231f0108a3622aae9396644912f4135f7bc56e7ab59', '2015-06-02 09:12:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-02 11:12:13 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-02 11:12:13 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (16.9ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 58ms (Views: 54.9ms | ActiveRecord: 0.7ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'd149e667ffef39fa210f78aece4c1219d795e9fcc7ef3e8eeb1adcf0dfad6aa3930a749b2c2993249ecb818ce1f4827577095bb3e3050bb709ddbf15ebfaa177' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-02 09:12:13', '7987446384e86b1fb2566d659532879a7f3abe784cafe96158c9ed9fdda717b03c1c9f5fea2a8d76685683ec7f9e67fcc1fecfe3392301b48aa28cc2c4e23fb1', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'sCd7JNGYaFJxwOG5efA5', 'MSmXTAiMEOvMPAvM0ySX', 'd149e667ffef39fa210f78aece4c1219d795e9fcc7ef3e8eeb1adcf0dfad6aa3930a749b2c2993249ecb818ce1f4827577095bb3e3050bb709ddbf15ebfaa177', '2015-06-02 09:12:13')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-02 11:12:13 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-02 11:12:13 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-02 09:12:13', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-02 09:12:13', `login_count` = 1, `perishable_token` = 'NlynKiH0eeYRbCHMFMh', `updated_at` = '2015-06-02 09:12:13' WHERE `users`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-02 11:12:13 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-02 09:12:14', '2015-06-02 09:12:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (49.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 61ms (Views: 56.2ms | ActiveRecord: 2.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-02 11:12:14 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (2.3ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.3ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-02 11:12:14 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190965 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (3.6ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190965[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 1.2ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:14', 'Fabricante', '123321123', '2015-06-02 09:12:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:14', 'Fabricante2', '123321113', '2015-06-02 09:12:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:14', 'Fabricante3', '1233211123', '2015-06-02 09:12:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:14', 'Fabricante4', '1233211123', '2015-06-02 09:12:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-02 09:12:14', '2015-06-02 09:12:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190966, '2015-06-02 09:12:14', 2.5, 4, '2015-06-02 09:12:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190966
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-02 09:12:14', '2015-06-02 09:12:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190967 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190967, '2015-06-02 09:12:14', 2.5, 4, '2015-06-02 09:12:14')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.8ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190967[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190967[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190967
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-02 09:12:14', '2015-06-02 09:12:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190968, '2015-06-02 09:12:14', 2.5, 4, '2015-06-02 09:12:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.5ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190968[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190966 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190966[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190968[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:12:19', '2015-06-02 09:12:19', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:12:19', '2015-06-02 09:12:19', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:12:19', '2015-06-02 09:12:19')
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:12:19', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:12:19')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:12:19', 980190970, 155.25, 1, '2015-06-02 09:12:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Order 980190970 failed due to raised exception: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube.
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `error_message` = 'Exception raised: Undefined namespace prefix: gesmes:Envelope/xmlns:Cube/xmlns:Cube//xmlns:Cube', `status` = 'failed', `updated_at` = '2015-06-02 09:12:19' WHERE `orders`.`id` = 980190970[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:19', 'Fabricante', '123321123', '2015-06-02 09:12:19')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:19', 'Fabricante2', '123321113', '2015-06-02 09:12:19')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:19', 'Fabricante3', '1233211123', '2015-06-02 09:12:19')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:12:19', 'Fabricante4', '1233211123', '2015-06-02 09:12:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (17.7ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:26:10', '2015-06-02 09:26:10', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:26:10', '2015-06-02 09:26:10', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:26:10', '2015-06-02 09:26:10')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:26:10', 'Fabricante', '123321123', '2015-06-02 09:26:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (9.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:26:10', 'Fabricante2', '123321113', '2015-06-02 09:26:10')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:26:10', 'Fabricante3', '1233211123', '2015-06-02 09:26:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-02 09:26:10', 'Fabricante4', '1233211123', '2015-06-02 09:26:10')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:26:10', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:26:10')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:26:10', 980190963, 155.25, 1, '2015-06-02 09:26:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-02 09:26:15' WHERE `orders`.`id` = 980190963
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190963 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190963[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190963
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-02 09:26:15' WHERE `orders`.`id` = 980190963
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:26:37', '2015-06-02 09:26:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-02 09:26:37', '2015-06-02 09:26:37', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-02 09:26:37', '2015-06-02 09:26:37')
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-02 09:26:37', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-02 09:26:37')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-02 09:26:37', 980190964, 155.25, 1, '2015-06-02 09:26:37')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-02 09:26:39' WHERE `orders`.`id` = 980190964[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190964 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190964
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190964[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-02 09:26:39' WHERE `orders`.`id` = 980190964[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (24.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:12:28', '2015-06-04 17:12:28', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:12:28', '2015-06-04 17:12:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-04 17:12:28', '2015-06-04 17:12:28')
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
AboutControllerTest: test_should_get_index
------------------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (5.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 1007ms (Views: 1000.4ms | ActiveRecord: 5.6ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:14:41', '2015-06-04 17:14:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:14:41', '2015-06-04 17:14:41', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-04 17:14:41', '2015-06-04 17:14:41')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 63ms (Views: 61.2ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:14:58', '2015-06-04 17:14:58', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:14:58', '2015-06-04 17:14:58', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-04 17:14:58', '2015-06-04 17:14:58')
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 51ms (Views: 49.5ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:15:10', '2015-06-04 17:15:10', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:15:10', '2015-06-04 17:15:10', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-04 17:15:10', '2015-06-04 17:15:10')
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 88ms (Views: 85.3ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:15:42', '2015-06-04 17:15:42', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-04 17:15:42', '2015-06-04 17:15:42', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-04 17:15:42', '2015-06-04 17:15:42')
  [1m[36m (20.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 47ms (Views: 45.3ms | ActiveRecord: 1.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:23:56', '2015-06-07 09:23:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:23:56', '2015-06-07 09:23:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:23:56', '2015-06-07 09:23:56')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:23:56', '2015-06-07 09:23:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (1.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190988 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190988, '2015-06-07 09:23:56', 2.5, 4, '2015-06-07 09:23:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 113ms (ActiveRecord: 7.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190988 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190988[0m
  [1m[35m (9.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:23:56', '2015-06-07 09:23:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190989 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190989, '2015-06-07 09:23:56', 2.5, 4, '2015-06-07 09:23:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 3.8ms)
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190989 LIMIT 1[0m
  [1m[35mTshirt Load (0.8ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190989
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190989 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190989
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190979
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190989 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190989[0m
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:23:56', '2015-06-07 09:23:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.8ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190990 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190990, '2015-06-07 09:23:56', 2.5, 4, '2015-06-07 09:23:56')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 21ms (ActiveRecord: 4.5ms)
  [1m[35mTshirt Load (1.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190990 LIMIT 1[0m
  [1m[35mTshirt Load (1.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190990
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190990 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190990 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190980 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190980
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 2.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190990 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190990
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 11:23:56 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:23:56', '2015-06-07 09:23:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.8ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (29.6ms)
ApplicationController::current_user
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (1.0ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190991
  Rendered cart/_cart.html.erb (5.1ms)
Completed 200 OK in 858ms (Views: 771.4ms | ActiveRecord: 7.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 11:23:57 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190991 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (5.2ms)
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190991[0m
  Rendered cart/_cart.html.erb (2.8ms)
Completed 200 OK in 26ms (Views: 17.3ms | ActiveRecord: 2.3ms)
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 11:23:57 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190991 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (7.4ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190991[0m
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 41ms (Views: 34.2ms | ActiveRecord: 2.1ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 11:23:57 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (26.0ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 72ms (Views: 67.8ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 11:23:57 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'e89ae44cb6850c7fdd40f106fe911f0ec86064d0aab5ee4ff98039e8bfaab7c68df0362e313fbb7d81453f940209f5af17e01148d8ea691ae93691e42f5243fe' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:23:57', '765267a841a7a393e81284f5f2e68778d4dd1e436a812eae2e7a4d2f7707776ac1ad4415af49e035dd331de6707f55af3ebb7128db2177f212026a24def04f38', '2015-06-07 09:23:57', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 09:23:57', 'kevin', 1, 'Kevin Valle', 'MLmGYCTjAeSCcoMrpCmI', 'lnkWLRDaI5WlE8gHilQe', 'e89ae44cb6850c7fdd40f106fe911f0ec86064d0aab5ee4ff98039e8bfaab7c68df0362e313fbb7d81453f940209f5af17e01148d8ea691ae93691e42f5243fe', '2015-06-07 09:23:57')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 29ms (ActiveRecord: 4.0ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:23:57 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e89ae44cb6850c7fdd40f106fe911f0ec86064d0aab5ee4ff98039e8bfaab7c68df0362e313fbb7d81453f940209f5af17e01148d8ea691ae93691e42f5243fe' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:23:57', `perishable_token` = 'vpLMk728X6bPUrEkrkyo', `updated_at` = '2015-06-07 09:23:57' WHERE `users`.`id` = 16[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 41ms (Views: 29.5ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=16" for 127.0.0.1 at 2015-06-07 11:23:57 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"16"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e89ae44cb6850c7fdd40f106fe911f0ec86064d0aab5ee4ff98039e8bfaab7c68df0362e313fbb7d81453f940209f5af17e01148d8ea691ae93691e42f5243fe' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:23:57', `perishable_token` = 'nFj93jY8FLVWwAvq4deJ', `updated_at` = '2015-06-07 09:23:57' WHERE `users`.`id` = 16
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 5.7ms | ActiveRecord: 1.6ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 16 LIMIT 1
Started GET "/user/edit?id=16" for 127.0.0.1 at 2015-06-07 11:23:58 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"16"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e89ae44cb6850c7fdd40f106fe911f0ec86064d0aab5ee4ff98039e8bfaab7c68df0362e313fbb7d81453f940209f5af17e01148d8ea691ae93691e42f5243fe' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:23:58', `perishable_token` = 'UDrr5v5Lp7ZMlpB2qWbk', `updated_at` = '2015-06-07 09:23:58' WHERE `users`.`id` = 16[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.9ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 26ms (Views: 17.4ms | ActiveRecord: 1.5ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 11:23:58 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e89ae44cb6850c7fdd40f106fe911f0ec86064d0aab5ee4ff98039e8bfaab7c68df0362e313fbb7d81453f940209f5af17e01148d8ea691ae93691e42f5243fe' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:23:58', `perishable_token` = 'y4xpmG5WlASBpVRAqt', `updated_at` = '2015-06-07 09:23:58' WHERE `users`.`id` = 16[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '9ae965a0939b6c6c1f531aeb4db00cf9241863ea4ef742d0a43548e776debf7d82f977b168a437c0f693f121c31218bf1010fdb9ab6fb7cbea8aa5357b1bd557' AND `users`.`id` != 16) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 16) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 16) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 16) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e89ae44cb6850c7fdd40f106fe911f0ec86064d0aab5ee4ff98039e8bfaab7c68df0362e313fbb7d81453f940209f5af17e01148d8ea691ae93691e42f5243fe' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'ac73137aede74a14af314353264126246d2c3caa419db8f9751b2ae105686fbae506ae5d5b66a6e7d80126d99ee2386a902c828ca348066ecf5a3157249e0a61', `current_login_at` = '2015-06-07 09:23:58', `last_login_at` = '2015-06-07 09:23:57', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:23:58', `login_count` = 2, `password_salt` = 'TkhBTK7UXVURZKGKtIBZ', `perishable_token` = 'Q2hBOysJIdwKt2my6N2q', `persistence_token` = '9ae965a0939b6c6c1f531aeb4db00cf9241863ea4ef742d0a43548e776debf7d82f977b168a437c0f693f121c31218bf1010fdb9ab6fb7cbea8aa5357b1bd557', `updated_at` = '2015-06-07 09:23:58' WHERE `users`.`id` = 16[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 27ms (ActiveRecord: 5.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:23:58 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:23:58', `perishable_token` = 'Q84fXJOL2iSORRORMjK', `updated_at` = '2015-06-07 09:23:58' WHERE `users`.`id` = 16[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 5.1ms | ActiveRecord: 1.5ms)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:23:58', 'Fabricante', '123321123', '2015-06-07 09:23:58')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:23:58', 'Fabricante2', '123321113', '2015-06-07 09:23:58')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:23:58', 'Fabricante3', '1233211123', '2015-06-07 09:23:58')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:23:58', 'Fabricante4', '1233211123', '2015-06-07 09:23:58')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:23:58', 'Prueba', '123456789', '2015-06-07 09:23:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:23:58 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:23:58', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:23:58')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 09:23:58', 980190963, 155.25, 1, '2015-06-07 09:23:58')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:24:04' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190963 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190963
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190963[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 09:24:04' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (3.7ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 38ms (Views: 35.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '6e37fb584fec057b8e974848717ec8ebe93751315b6f48d5c5daa341b7b65a9ecbdb77f219aa9f37a61afe50bd980b941b46190085bb15bdc5d97b2c8c66813e' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:24:04', '17a75a429e74d293ee645ff082797a907c4f719b53c05abb7b2fa2c3d306fc53033e23ca9386b1f6c62b9e2446bcfc94cb4c131b60391c8d37547e226ecb4a6c', '2015-06-07 09:24:04', '0.0.0.0', 'kevin@emporium.com', '2015-06-07 09:24:04', 'kevin', 1, 'Kevin Valle', 'RSnG9lNP5qHGpDCmLQ2R', 'Lu37djHZP1hsN6zYjpx', '6e37fb584fec057b8e974848717ec8ebe93751315b6f48d5c5daa341b7b65a9ecbdb77f219aa9f37a61afe50bd980b941b46190085bb15bdc5d97b2c8c66813e', '2015-06-07 09:24:04')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:24:04 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:24:04 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (10.4ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 52ms (Views: 45.6ms | ActiveRecord: 0.9ms)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'c07f2503b9c84adbe1d301f30c630746e44c3fa389e25843eadc288743062a1002d064ead08867e8c0c75c8fd83774bce2c1ffa7db59a395b51f8775f71e3d35' LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:24:04', '701b0339c1b50af3abff172a595b8bcbbcf762fb84af2ee2d5ad3b015253d2a7a047e3187bd56910c6d29d86434347d2b07e9d6eb8816d30cd4f4b4d76ce76ff', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'tP5DJBpW9KgGIv0OoD', 'AsWVWkjK8JUE9wsQIvR', 'c07f2503b9c84adbe1d301f30c630746e44c3fa389e25843eadc288743062a1002d064ead08867e8c0c75c8fd83774bce2c1ffa7db59a395b51f8775f71e3d35', '2015-06-07 09:24:04')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:24:04 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:24:04 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-07 09:24:04', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:24:04', `login_count` = 1, `perishable_token` = 'jiyTEHQZ7ivzKemzy13T', `updated_at` = '2015-06-07 09:24:04' WHERE `users`.`id` = 18[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 14ms (ActiveRecord: 1.9ms)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:24:04 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:24:04', '2015-06-07 09:24:04')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.8ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190992 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 2.6ms)
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 11:24:04 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:24:04', '2015-06-07 09:24:04')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190993 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (15.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190993, '2015-06-07 09:24:04', 2.5, 1, '2015-06-07 09:24:04')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 19.1ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:24:04 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190993 LIMIT 1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190993 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.7ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190993
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.1ms)
  Rendered cart/_cart.html.erb (27.1ms)
Completed 200 OK in 98ms (Views: 91.7ms | ActiveRecord: 2.3ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 11:24:04 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190993"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190993 LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190993
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:24:04', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:24:04')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 09:24:04', 980190964, 2.5, 1, '2015-06-07 09:24:04')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:24:10' WHERE `orders`.`id` = 980190964
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190981[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 5204ms (ActiveRecord: 4.3ms)
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:25:15', '2015-06-07 09:25:15', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:25:15', '2015-06-07 09:25:15', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:25:15', '2015-06-07 09:25:15')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (47.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 11:25:15 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:25:15', '2015-06-07 09:25:15')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (53.3ms)
  Rendered catalog/index.html.erb within layouts/application (70.4ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190994[0m
  Rendered cart/_cart.html.erb (25.4ms)
Completed 200 OK in 371ms (Views: 277.8ms | ActiveRecord: 7.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 11:25:16 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190994 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (5.5ms)
  Rendered catalog/index.html.erb within layouts/application (6.7ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190994
  Rendered cart/_cart.html.erb (2.6ms)
Completed 200 OK in 23ms (Views: 15.3ms | ActiveRecord: 2.3ms)
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 11:25:16 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190994 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (8.2ms)
  Rendered catalog/latest.html.erb within layouts/application (9.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190994
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 40ms (Views: 33.4ms | ActiveRecord: 2.2ms)
  [1m[36mTshirt Load (4.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (1.1ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'd44ab7aa74cade48609bb19e638bae27b20bdb7edbe43576a468d68c7e0fd45d57c4a59e0b3594720ce05befb1299844fcb6907ba7282535c77743744d26612f' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:25:16', 'f52c33e7fb2e6b762799b3e8c12883e88df08ab487e4c60c8e1c0e14e8fa9d320876b89a69e26718afcccb38be1bf419a1057790bdd3e89e0cbaec438403f4a6', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '494FhuFz5V6EeYwdUXOw', 'fHoNfHwyKjbDfyj47Zqb', 'd44ab7aa74cade48609bb19e638bae27b20bdb7edbe43576a468d68c7e0fd45d57c4a59e0b3594720ce05befb1299844fcb6907ba7282535c77743744d26612f', '2015-06-07 09:25:16')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:25:16 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:25:16 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (16.1ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 58ms (Views: 49.9ms | ActiveRecord: 1.2ms)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'e9fbe04213444c575207b180b307805ab5430db18296595e95b1c4e04824f9748d988010eabc5634003c2ca13494f6389bbe656a4aee05405de9bb1234dae08c' LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:25:16', '0a791ab07eb606c5d04c390fad1e7c5d0e61157b815fb284035a138cfaec7d1d438a2b4d0160b4210284e12918032c714d37b2f4326e3af86e2bd2eb0545c39e', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'dqQzE3FTdMJc5qFpiK4X', '7dnWlf41ALskcpgzgcUM', 'e9fbe04213444c575207b180b307805ab5430db18296595e95b1c4e04824f9748d988010eabc5634003c2ca13494f6389bbe656a4aee05405de9bb1234dae08c', '2015-06-07 09:25:16')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:25:16 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:25:16 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-07 09:25:16', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:25:16', `login_count` = 1, `perishable_token` = 'jppDRWpQxVAqP6RoQys', `updated_at` = '2015-06-07 09:25:16' WHERE `users`.`id` = 20[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 16ms (ActiveRecord: 1.9ms)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:25:16', '2015-06-07 09:25:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190995 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190995, '2015-06-07 09:25:16', 2.5, 4, '2015-06-07 09:25:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 49ms (ActiveRecord: 4.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190995 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190995
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:25:16', '2015-06-07 09:25:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190996 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190996, '2015-06-07 09:25:16', 2.5, 4, '2015-06-07 09:25:16')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 25ms (ActiveRecord: 4.4ms)
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190996 LIMIT 1
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190996[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190996 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190996[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190983[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190996 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190996
  [1m[36m (2.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:25:16', '2015-06-07 09:25:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190997 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190997, '2015-06-07 09:25:16', 2.5, 4, '2015-06-07 09:25:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.9ms)
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190997 LIMIT 1
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190997[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (1.6ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190997 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190997 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190984 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190984[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 5.3ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190997 LIMIT 1
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190997[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 32ms (Views: 31.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:25:17 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:25:17', '2015-06-07 09:25:17')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190998 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 50ms (ActiveRecord: 6.4ms)
  [1m[35m (4.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 11:25:17 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:25:17', '2015-06-07 09:25:17')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190999 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980190999, '2015-06-07 09:25:17', 2.5, 1, '2015-06-07 09:25:17')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 4.5ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:25:17 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190999 LIMIT 1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980190999 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.9ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190999[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.6ms)
  Rendered cart/_cart.html.erb (23.2ms)
Completed 200 OK in 109ms (Views: 96.7ms | ActiveRecord: 2.2ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 11:25:17 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190999"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980190999 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980190999[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:25:17', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:25:17')[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 09:25:17', 980190965, 2.5, 1, '2015-06-07 09:25:17')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:25:19' WHERE `orders`.`id` = 980190965[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190985
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 2283ms (ActiveRecord: 10.7ms)
  [1m[35m (10.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:25:19', 'Fabricante', '123321123', '2015-06-07 09:25:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:25:19', 'Fabricante2', '123321113', '2015-06-07 09:25:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:25:19', 'Fabricante3', '1233211123', '2015-06-07 09:25:19')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:25:19', 'Fabricante4', '1233211123', '2015-06-07 09:25:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:25:20', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:25:20')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 09:25:20', 980190966, 155.25, 1, '2015-06-07 09:25:20')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:25:22' WHERE `orders`.`id` = 980190966
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.7ms)[0m  SELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190966 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190966[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190966
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 09:25:22' WHERE `orders`.`id` = 980190966
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:25:22', 'Prueba', '123456789', '2015-06-07 09:25:22')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:25:22 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 11:25:22 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (1.6ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 59ms (Views: 50.9ms | ActiveRecord: 0.3ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 11:25:22 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'cd35c2fefe4408c418076eefb231ca951f177ffcf9ebcd94c7b934883c8d3cdffc6c0a4e5c4c35c4e1d0b040f3dd8200e1527a347443f8a5c80ad5c7c5c762a5' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:25:22', '999b85aaea4a48d6f075f28f4c20673748615698dd89785f99efd36bab8295604bd13e67bb3deeded3e4ca21fe6ac630df7597333d723c286dbe67d135f7a86c', '2015-06-07 09:25:22', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 09:25:22', 'kevin', 1, 'Kevin Valle', 'KWjK8jgV43ZoF5Uifm', '2XZ3NzU0CSPnlmCrrlY', 'cd35c2fefe4408c418076eefb231ca951f177ffcf9ebcd94c7b934883c8d3cdffc6c0a4e5c4c35c4e1d0b040f3dd8200e1527a347443f8a5c80ad5c7c5c762a5', '2015-06-07 09:25:22')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 31ms (ActiveRecord: 5.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:25:22 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cd35c2fefe4408c418076eefb231ca951f177ffcf9ebcd94c7b934883c8d3cdffc6c0a4e5c4c35c4e1d0b040f3dd8200e1527a347443f8a5c80ad5c7c5c762a5' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:25:22', `perishable_token` = 'H2pYJvxxsglSkDFTQEtI', `updated_at` = '2015-06-07 09:25:22' WHERE `users`.`id` = 21[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 28ms (Views: 15.9ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=21" for 127.0.0.1 at 2015-06-07 11:25:22 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"21"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cd35c2fefe4408c418076eefb231ca951f177ffcf9ebcd94c7b934883c8d3cdffc6c0a4e5c4c35c4e1d0b040f3dd8200e1527a347443f8a5c80ad5c7c5c762a5' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:25:22', `perishable_token` = 'wczyVEKN8x9WeYMCrZ', `updated_at` = '2015-06-07 09:25:22' WHERE `users`.`id` = 21
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 16ms (Views: 5.5ms | ActiveRecord: 1.9ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 21 LIMIT 1
Started GET "/user/edit?id=21" for 127.0.0.1 at 2015-06-07 11:25:22 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"21"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cd35c2fefe4408c418076eefb231ca951f177ffcf9ebcd94c7b934883c8d3cdffc6c0a4e5c4c35c4e1d0b040f3dd8200e1527a347443f8a5c80ad5c7c5c762a5' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:25:22', `perishable_token` = 'BtNG8nDbwO7sbp8NU8', `updated_at` = '2015-06-07 09:25:22' WHERE `users`.`id` = 21[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.9ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 26ms (Views: 17.5ms | ActiveRecord: 1.6ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 11:25:22 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cd35c2fefe4408c418076eefb231ca951f177ffcf9ebcd94c7b934883c8d3cdffc6c0a4e5c4c35c4e1d0b040f3dd8200e1527a347443f8a5c80ad5c7c5c762a5' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:25:22', `perishable_token` = '9fR8XyTKUW8F0FzTmyX7', `updated_at` = '2015-06-07 09:25:22' WHERE `users`.`id` = 21[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '03377a718c1e5859d3bda1975796f9b7564afb57af7f71766b77d5252b09cf616ed39cab263e774662c0dbe9cdb0aa45d80dacbfd67adfa92f5793d3bc04b17c' AND `users`.`id` != 21) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 21) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 21) LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 21) LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cd35c2fefe4408c418076eefb231ca951f177ffcf9ebcd94c7b934883c8d3cdffc6c0a4e5c4c35c4e1d0b040f3dd8200e1527a347443f8a5c80ad5c7c5c762a5' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'f1d1a4051bc03e19d627e3f5b8a162e66f422b984ef6d2025fdd2f704b585cfc9239700d1677157de7eb57a27956021b9cc8ee3ee2945d177c958a03ce357e0e', `current_login_at` = '2015-06-07 09:25:22', `last_login_at` = '2015-06-07 09:25:22', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:25:22', `login_count` = 2, `password_salt` = 'FY1wgE8E11ednXbKXaCK', `perishable_token` = 'WnZMvDx5v8GaeH2NNA', `persistence_token` = '03377a718c1e5859d3bda1975796f9b7564afb57af7f71766b77d5252b09cf616ed39cab263e774662c0dbe9cdb0aa45d80dacbfd67adfa92f5793d3bc04b17c', `updated_at` = '2015-06-07 09:25:22' WHERE `users`.`id` = 21[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 28ms (ActiveRecord: 5.8ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:25:22 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (3.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:25:22', `perishable_token` = 'ac8Mmn6ppQA9545L4wXB', `updated_at` = '2015-06-07 09:25:22' WHERE `users`.`id` = 21[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 20ms (Views: 5.1ms | ActiveRecord: 4.6ms)
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:28:15', '2015-06-07 09:28:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:28:15', '2015-06-07 09:28:15', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:28:15', '2015-06-07 09:28:15')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 11:28:15 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (1.5ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (33.7ms)
  Rendered user/new.html.erb within layouts/application (64.0ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 391ms (Views: 288.1ms | ActiveRecord: 5.0ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 11:28:15 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '62c8c6af6824e86f373592f1ecd27adb19c47212c6a8233a819fb1271ef1a2914c6b02bc4d8f858b490e9730b2d36ad8987ef7aa51491268b75d9d8663ac5126' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:28:15', 'fac3879caa25f707783a9bf8e131f7280bab7d2919c26ea629c11b4d5f8e01d61e16e66f7029605a93c8f44c4ebf4f7d024abe267c5c197627afdcfaf2347d78', '2015-06-07 09:28:15', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 09:28:15', 'kevin', 1, 'Kevin Valle', '9E4llRJiJ00kJqvrcjHA', 'iYXbW7RQ8c5l5qna7FUh', '62c8c6af6824e86f373592f1ecd27adb19c47212c6a8233a819fb1271ef1a2914c6b02bc4d8f858b490e9730b2d36ad8987ef7aa51491268b75d9d8663ac5126', '2015-06-07 09:28:15')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 52ms (ActiveRecord: 5.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:28:15 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '62c8c6af6824e86f373592f1ecd27adb19c47212c6a8233a819fb1271ef1a2914c6b02bc4d8f858b490e9730b2d36ad8987ef7aa51491268b75d9d8663ac5126' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:28:15', `perishable_token` = 'RHFmYfE9SuZbr14u5nNy', `updated_at` = '2015-06-07 09:28:15' WHERE `users`.`id` = 22[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (2.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 55ms (Views: 29.3ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=22" for 127.0.0.1 at 2015-06-07 11:28:15 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"22"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '62c8c6af6824e86f373592f1ecd27adb19c47212c6a8233a819fb1271ef1a2914c6b02bc4d8f858b490e9730b2d36ad8987ef7aa51491268b75d9d8663ac5126' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:28:15', `perishable_token` = '1WWk4nPEqioqxZ4uDKCe', `updated_at` = '2015-06-07 09:28:15' WHERE `users`.`id` = 22
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.7ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 19ms (Views: 6.9ms | ActiveRecord: 2.2ms)
  [1m[35mUser Load (1.1ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 22 LIMIT 1
Started GET "/user/edit?id=22" for 127.0.0.1 at 2015-06-07 11:28:15 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"22"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '62c8c6af6824e86f373592f1ecd27adb19c47212c6a8233a819fb1271ef1a2914c6b02bc4d8f858b490e9730b2d36ad8987ef7aa51491268b75d9d8663ac5126' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:28:15', `perishable_token` = 'Exy5EBz4lFoWnVULobfR', `updated_at` = '2015-06-07 09:28:15' WHERE `users`.`id` = 22[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (2.3ms)
  Rendered user/edit.html.erb within layouts/application (6.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 31ms (Views: 21.2ms | ActiveRecord: 1.8ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 11:28:15 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '62c8c6af6824e86f373592f1ecd27adb19c47212c6a8233a819fb1271ef1a2914c6b02bc4d8f858b490e9730b2d36ad8987ef7aa51491268b75d9d8663ac5126' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:28:15', `perishable_token` = 'bqcuRsf0L7H1OrJlUexP', `updated_at` = '2015-06-07 09:28:15' WHERE `users`.`id` = 22[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'f6203116b1d144edd72b9233d74f57e19bf541815c422e65905b647ff238a86c44149d1d75df72692de641d9260b96589b2056a57fc894610a215955664f261e' AND `users`.`id` != 22) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 22) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 22) LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 22) LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '62c8c6af6824e86f373592f1ecd27adb19c47212c6a8233a819fb1271ef1a2914c6b02bc4d8f858b490e9730b2d36ad8987ef7aa51491268b75d9d8663ac5126' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'a60f1daf2558c81c95c6b99399be5c4f8e49aeb5673b4b56c202e8617628707a97c89d2ff40b150013902dc625cfee90138d5ba67888ee8174cebf48d84480e4', `current_login_at` = '2015-06-07 09:28:16', `last_login_at` = '2015-06-07 09:28:15', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:28:16', `login_count` = 2, `password_salt` = 'chSYw0bQBgCrM5Rpe2mg', `perishable_token` = 'i6Wgccmss4MRxndpFC7', `persistence_token` = 'f6203116b1d144edd72b9233d74f57e19bf541815c422e65905b647ff238a86c44149d1d75df72692de641d9260b96589b2056a57fc894610a215955664f261e', `updated_at` = '2015-06-07 09:28:16' WHERE `users`.`id` = 22[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 34ms (ActiveRecord: 5.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:28:16 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:28:16', `perishable_token` = '18tK4hmMVwetqRIFRAv', `updated_at` = '2015-06-07 09:28:16' WHERE `users`.`id` = 22[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 20ms (Views: 8.1ms | ActiveRecord: 1.7ms)
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'da7905abccaa4b3207d2d7f2e0d629b929918c92d66d53f9c1b8c28995a3cb979ec4bf2e5b54e88bcc0e74cb5c4aa377d1681eb090498ca894d8a213c0c296b0' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:28:16', '64eb47dfc1740acaf82482db15599348fcd62584024bf154a882990fcc3e05334660f3bc83bd889650fb5468eb3b92acebf17d0d24ead1bd32c538af73e9a23e', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'f1RJk8F6SGBNRPDHHxf', 'NOBerEkQ5mnnEFNG4Wo0', 'da7905abccaa4b3207d2d7f2e0d629b929918c92d66d53f9c1b8c28995a3cb979ec4bf2e5b54e88bcc0e74cb5c4aa377d1681eb090498ca894d8a213c0c296b0', '2015-06-07 09:28:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:28:16 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:28:16 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (1.2ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (12.9ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 82ms (Views: 52.8ms | ActiveRecord: 1.7ms)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '213a2a7be6d4f9e6fb22c87e9be13c6bd33a3979bed71aaed151e8524a7b941158c5f23e8c2485d0f982b2012849e94df0134c761a1f4d892a57420b5440d443' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:28:16', '9c93a680931c754bb2b3d5f1820f2d2fe320a55eee6f3b0f1b5b82ee23e6351da09ebb51c93ec3797cbfdee10bb3a9b4799fb95e213898c11ccb296bc0097217', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'oy5Qb1i1J7Hv9mynpkv0', 'fnGb64Jlm87tWWcgudJ', '213a2a7be6d4f9e6fb22c87e9be13c6bd33a3979bed71aaed151e8524a7b941158c5f23e8c2485d0f982b2012849e94df0134c761a1f4d892a57420b5440d443', '2015-06-07 09:28:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:28:16 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:28:16 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-07 09:28:16', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:28:16', `login_count` = 1, `perishable_token` = '7n4UBfeXQawIuHY5Svmb', `updated_at` = '2015-06-07 09:28:16' WHERE `users`.`id` = 24[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 13ms (ActiveRecord: 1.3ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 11:28:16 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:28:16', '2015-06-07 09:28:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.9ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (59.5ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191000
  Rendered cart/_cart.html.erb (38.3ms)
Completed 200 OK in 188ms (Views: 149.7ms | ActiveRecord: 5.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 11:28:16 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191000 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (5.7ms)
ApplicationController::current_user
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191000[0m
  Rendered cart/_cart.html.erb (3.6ms)
Completed 200 OK in 29ms (Views: 20.7ms | ActiveRecord: 2.9ms)
  [1m[35mTshirt Load (0.8ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 11:28:16 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191000 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (1.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (8.4ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191000[0m
  Rendered cart/_cart.html.erb (2.3ms)
Completed 200 OK in 38ms (Views: 31.0ms | ActiveRecord: 2.8ms)
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (2.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:28:16', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:28:16')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 09:28:16', 980190967, 155.25, 1, '2015-06-07 09:28:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:28:19' WHERE `orders`.`id` = 980190967[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190967 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190967
  [1m[36mOrderItem Load (0.7ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190967[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 09:28:19' WHERE `orders`.`id` = 980190967[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:28:19 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:28:19', '2015-06-07 09:28:19')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (3.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191001 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 42ms (ActiveRecord: 3.9ms)
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 11:28:19 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:28:19', '2015-06-07 09:28:19')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (1.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191002 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191002, '2015-06-07 09:28:19', 2.5, 1, '2015-06-07 09:28:19')
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 62ms (ActiveRecord: 6.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:28:19 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191002 LIMIT 1[0m
  [1m[35mTshirt Exists (0.5ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191002 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (1.3ms)
  [1m[35mCartItem Load (1.7ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191002
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (3.0ms)
  Rendered cart/_cart.html.erb (37.5ms)
Completed 200 OK in 118ms (Views: 107.3ms | ActiveRecord: 3.4ms)
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 11:28:19 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191002"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191002 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191002
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:28:19', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:28:19')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 09:28:19', 980190968, 2.5, 1, '2015-06-07 09:28:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:28:23' WHERE `orders`.`id` = 980190968
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190986[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 3553ms (ActiveRecord: 5.9ms)
  [1m[36m (45.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:28:23', 'Prueba', '123456789', '2015-06-07 09:28:23')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:28:23 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (2.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:28:23', '2015-06-07 09:28:23')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191003 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191003, '2015-06-07 09:28:23', 2.5, 4, '2015-06-07 09:28:23')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 3.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191003 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191003[0m
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:28:23', '2015-06-07 09:28:23')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.8ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191004 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191004, '2015-06-07 09:28:23', 2.5, 4, '2015-06-07 09:28:23')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.8ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 4.2ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191004 LIMIT 1[0m
  [1m[35mTshirt Load (7.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191004
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191004 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191004
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190988
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 1.9ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191004 LIMIT 1
  [1m[36mTshirt Load (0.9ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191004[0m
  [1m[35m (3.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:28:23', '2015-06-07 09:28:23')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191005 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191005, '2015-06-07 09:28:23', 2.5, 4, '2015-06-07 09:28:23')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 26ms (ActiveRecord: 5.2ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191005 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191005
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191005 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (1.0ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191005 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190989 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190989
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 2.5ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191005 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191005
  [1m[36m (4.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (1.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (3.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:28:23', 'Fabricante', '123321123', '2015-06-07 09:28:23')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:28:23', 'Fabricante2', '123321113', '2015-06-07 09:28:23')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:28:23', 'Fabricante3', '1233211123', '2015-06-07 09:28:23')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:28:24', 'Fabricante4', '1233211123', '2015-06-07 09:28:24')[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:38:03', '2015-06-07 09:38:03', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:38:03', '2015-06-07 09:38:03', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:38:03', '2015-06-07 09:38:03')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 59ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:38:03', 'Fabricante', '123321123', '2015-06-07 09:38:03')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:38:03', 'Fabricante2', '123321113', '2015-06-07 09:38:03')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:38:03', 'Fabricante3', '1233211123', '2015-06-07 09:38:03')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:38:03', 'Fabricante4', '1233211123', '2015-06-07 09:38:03')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 224ms (Views: 222.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 11:38:04 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:38:04', '2015-06-07 09:38:04')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (23.3ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191006
  Rendered cart/_cart.html.erb (18.4ms)
Completed 200 OK in 138ms (Views: 84.6ms | ActiveRecord: 5.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 11:38:04 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191006 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (4.5ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191006[0m
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 18ms (Views: 12.2ms | ActiveRecord: 2.0ms)
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 11:38:04 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191006 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (6.5ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191006[0m
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 37ms (Views: 30.8ms | ActiveRecord: 2.3ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '24ac737f2e1f6008f72dd16d6398692c356088372b27a8048c02732934faf4844fcdc3617fe587c48c02e4b5ee54379874b24e5ee6add067a188a0d05f2f3bfa' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:38:04', '0c0afd6776e9108382f7e215da37542bb7a9daf4157be09e6577c02189c25fc5b1c2b1cc9195b67bb656b42ac0eed59ec434aed065a48262af4e00d006b0380d', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'U3Nn0Nicp7fYmXdKJGy2', 'HLer3Wfp4bSOjTrewrAY', '24ac737f2e1f6008f72dd16d6398692c356088372b27a8048c02732934faf4844fcdc3617fe587c48c02e4b5ee54379874b24e5ee6add067a188a0d05f2f3bfa', '2015-06-07 09:38:04')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:38:04 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:38:04 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (15.1ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 54ms (Views: 45.9ms | ActiveRecord: 1.6ms)
  [1m[36m (10.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'ac899f506a23b517a7aac3a3d5c7b8686a0d51e91e5c8f839b0e880319291d2d95ff2ad9eb649984c68bc76ff1bb5ba6b7f5d0f52c9eacf73a5d774a125ae870' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:38:04', 'e05d15764f2f4812d5bf5baf2dae1eb7651b58d0dec9f4f215255e5536d88205b497f4ed1d15813bbfcb95385648fe1d41d10b06bf60c2337cc94231de956bd6', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'npVP8r6lvsOPUKjN2I8H', '4ubG8kgrO7l81d3aKmr9', 'ac899f506a23b517a7aac3a3d5c7b8686a0d51e91e5c8f839b0e880319291d2d95ff2ad9eb649984c68bc76ff1bb5ba6b7f5d0f52c9eacf73a5d774a125ae870', '2015-06-07 09:38:04')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:38:04 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:38:04 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `current_login_at` = '2015-06-07 09:38:04', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:38:04', `login_count` = 1, `perishable_token` = 'uSM5cNZLjkX3nPEnVmY', `updated_at` = '2015-06-07 09:38:04' WHERE `users`.`id` = 26
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 13ms (ActiveRecord: 1.3ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:38:04', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:38:04')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 09:38:04', 980190969, 155.25, 1, '2015-06-07 09:38:04')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:38:07' WHERE `orders`.`id` = 980190969[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190969 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190969
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190969[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 09:38:07' WHERE `orders`.`id` = 980190969[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (10.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 11:38:07 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.2ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 43ms (Views: 38.7ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 11:38:07 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'e6b2cb3f38cf1d1a05d07c4b52f27be193eb3812306426ccf9230a890433f9977054b79476d2d5c5893073663b3558982ca8977224bd629bef34626739fb602b' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:38:07', '2890e68e687c80bf5a66212a5b634184db7c75ea9318d37c3a8f4ae6a57eaaafd5247de533553e1fa898e6202bd640f0b66fe49f208d8f1c213d34ffbf2d42a4', '2015-06-07 09:38:07', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 09:38:07', 'kevin', 1, 'Kevin Valle', 'O5qcZrdbpWIz22yvJRU', 'nRTvY2wO0jBYBROTXk8', 'e6b2cb3f38cf1d1a05d07c4b52f27be193eb3812306426ccf9230a890433f9977054b79476d2d5c5893073663b3558982ca8977224bd629bef34626739fb602b', '2015-06-07 09:38:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 24ms (ActiveRecord: 3.6ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:38:07 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e6b2cb3f38cf1d1a05d07c4b52f27be193eb3812306426ccf9230a890433f9977054b79476d2d5c5893073663b3558982ca8977224bd629bef34626739fb602b' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:38:07', `perishable_token` = 'G15saVz82KdDogfIolGX', `updated_at` = '2015-06-07 09:38:07' WHERE `users`.`id` = 27
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 60ms (Views: 28.1ms | ActiveRecord: 2.2ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=27" for 127.0.0.1 at 2015-06-07 11:38:07 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"27"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e6b2cb3f38cf1d1a05d07c4b52f27be193eb3812306426ccf9230a890433f9977054b79476d2d5c5893073663b3558982ca8977224bd629bef34626739fb602b' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:38:07', `perishable_token` = 'R2odFBV2VMGSH0z5Nw', `updated_at` = '2015-06-07 09:38:07' WHERE `users`.`id` = 27[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 5.5ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 27 LIMIT 1[0m
Started GET "/user/edit?id=27" for 127.0.0.1 at 2015-06-07 11:38:07 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"27"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e6b2cb3f38cf1d1a05d07c4b52f27be193eb3812306426ccf9230a890433f9977054b79476d2d5c5893073663b3558982ca8977224bd629bef34626739fb602b' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:38:07', `perishable_token` = 'xaf8HiwNGgl7lyUJAOsh', `updated_at` = '2015-06-07 09:38:07' WHERE `users`.`id` = 27
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 27ms (Views: 17.4ms | ActiveRecord: 1.8ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 11:38:07 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e6b2cb3f38cf1d1a05d07c4b52f27be193eb3812306426ccf9230a890433f9977054b79476d2d5c5893073663b3558982ca8977224bd629bef34626739fb602b' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:38:07', `perishable_token` = 'ABnNVl92df8fRE1fsr4R', `updated_at` = '2015-06-07 09:38:07' WHERE `users`.`id` = 27
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '843f5b7a1f0a140c148d859fe55b0bb1c39f4307d6ba2dbb7f4b290d76f959aa0a1463121729db0043c556c71351db842464a9fae7fd85bc0d367f80321efdaa' AND `users`.`id` != 27) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 27) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 27) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 27) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'e6b2cb3f38cf1d1a05d07c4b52f27be193eb3812306426ccf9230a890433f9977054b79476d2d5c5893073663b3558982ca8977224bd629bef34626739fb602b' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `crypted_password` = '590e429e9dd23efafabc47fef67d2d334d8eeeaf5def37d5e8066f5af44cfb2bb280b620bee5a1029f5255f122cc111722128574c4a6ba1b6dc86310fd60e708', `current_login_at` = '2015-06-07 09:38:08', `last_login_at` = '2015-06-07 09:38:07', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:38:08', `login_count` = 2, `password_salt` = 'q4ZgK11IJNRP6qaTwlj1', `perishable_token` = '81BdE5XqIyt0BIySCj8', `persistence_token` = '843f5b7a1f0a140c148d859fe55b0bb1c39f4307d6ba2dbb7f4b290d76f959aa0a1463121729db0043c556c71351db842464a9fae7fd85bc0d367f80321efdaa', `updated_at` = '2015-06-07 09:38:08' WHERE `users`.`id` = 27
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 28ms (ActiveRecord: 5.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:38:08 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:38:08', `perishable_token` = 'Ph3mpwlZQu2XiApeF3Dd', `updated_at` = '2015-06-07 09:38:08' WHERE `users`.`id` = 27
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 5.0ms | ActiveRecord: 1.4ms)
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:38:08 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:38:08', '2015-06-07 09:38:08')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191007 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 1.6ms)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 11:38:08 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:38:08', '2015-06-07 09:38:08')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191008 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191008, '2015-06-07 09:38:08', 2.5, 1, '2015-06-07 09:38:08')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 3.2ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:38:08 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191008 LIMIT 1
  [1m[36mTshirt Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191008 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (1.1ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191008[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.2ms)
  Rendered cart/_cart.html.erb (28.3ms)
Completed 200 OK in 89ms (Views: 82.6ms | ActiveRecord: 2.4ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 11:38:08 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191008"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191008 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191008[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:38:08', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:38:08')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 09:38:08', 980190970, 2.5, 1, '2015-06-07 09:38:08')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:38:10' WHERE `orders`.`id` = 980190970[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190990
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 2135ms (ActiveRecord: 4.8ms)
  [1m[35m (45.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:38:10', '2015-06-07 09:38:10')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (1.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191009 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191009, '2015-06-07 09:38:10', 2.5, 4, '2015-06-07 09:38:10')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 26ms (ActiveRecord: 4.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191009 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191009[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:38:10', '2015-06-07 09:38:10')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191010 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191010, '2015-06-07 09:38:10', 2.5, 4, '2015-06-07 09:38:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 2.6ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191010 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191010
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191010 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191010
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190992
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191010 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191010[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:38:10', '2015-06-07 09:38:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191011 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191011, '2015-06-07 09:38:10', 2.5, 4, '2015-06-07 09:38:10')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 26ms (ActiveRecord: 3.6ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191011 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191011
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191011 LIMIT 1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191011 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190993 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190993
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191011 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191011
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:38:10', 'Prueba', '123456789', '2015-06-07 09:38:10')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:38:10 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:41:56', '2015-06-07 09:41:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:41:56', '2015-06-07 09:41:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:41:56', '2015-06-07 09:41:56')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (57.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (17.7ms)
  Rendered user/new.html.erb within layouts/application (39.6ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 309ms (Views: 228.7ms | ActiveRecord: 2.1ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'ea8984434c46c4b58ed85b78a2747f47beb1f0098dbe09005554b211b3835391c93cc209a49cca557aecaea32abfcd3f5b68ac17f004a57fffecfeaee7575762' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:41:56', 'c5c796122ac94e976f09ec263dff04cea5aa4971e656515e1983545e91eb8c90f93df961fabcdfacb6d982f442a651094af78fcf21ca7ea01cc058fe6ac5a206', '2015-06-07 09:41:56', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 09:41:56', 'kevin', 1, 'Kevin Valle', 'UUWBZJ1iTuOxhttZEIh8', 'xiPgQbj8ImFVI7LGR978', 'ea8984434c46c4b58ed85b78a2747f47beb1f0098dbe09005554b211b3835391c93cc209a49cca557aecaea32abfcd3f5b68ac17f004a57fffecfeaee7575762', '2015-06-07 09:41:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 44ms (ActiveRecord: 4.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'ea8984434c46c4b58ed85b78a2747f47beb1f0098dbe09005554b211b3835391c93cc209a49cca557aecaea32abfcd3f5b68ac17f004a57fffecfeaee7575762' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:41:56', `perishable_token` = 'KKyHdSgWNQcQ7YFLx', `updated_at` = '2015-06-07 09:41:56' WHERE `users`.`id` = 28[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (3.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 50ms (Views: 29.4ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=28" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"28"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'ea8984434c46c4b58ed85b78a2747f47beb1f0098dbe09005554b211b3835391c93cc209a49cca557aecaea32abfcd3f5b68ac17f004a57fffecfeaee7575762' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:41:56', `perishable_token` = 'Sxd53rT2Os09x2Upimpz', `updated_at` = '2015-06-07 09:41:56' WHERE `users`.`id` = 28
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.7ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 5.4ms | ActiveRecord: 1.4ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 28 LIMIT 1
Started GET "/user/edit?id=28" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"28"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'ea8984434c46c4b58ed85b78a2747f47beb1f0098dbe09005554b211b3835391c93cc209a49cca557aecaea32abfcd3f5b68ac17f004a57fffecfeaee7575762' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:41:56', `perishable_token` = 'v5D5iZAdfACZhXsL2VR', `updated_at` = '2015-06-07 09:41:56' WHERE `users`.`id` = 28[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
  Rendered user/edit.html.erb within layouts/application (3.1ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 24ms (Views: 15.6ms | ActiveRecord: 1.4ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'ea8984434c46c4b58ed85b78a2747f47beb1f0098dbe09005554b211b3835391c93cc209a49cca557aecaea32abfcd3f5b68ac17f004a57fffecfeaee7575762' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:41:56', `perishable_token` = '2Y96qpIm5eCYi2ix7zpb', `updated_at` = '2015-06-07 09:41:56' WHERE `users`.`id` = 28[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '2d522d84f236fb5b039c9a4a319db8c48345dbbbbacd8ac4d9419ca9a89df7b98563b91f7a277121d72416db643940238512b9cd02737ce56bab1973dea7e5c5' AND `users`.`id` != 28) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 28) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 28) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 28) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'ea8984434c46c4b58ed85b78a2747f47beb1f0098dbe09005554b211b3835391c93cc209a49cca557aecaea32abfcd3f5b68ac17f004a57fffecfeaee7575762' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `crypted_password` = '3f048c317d43bc4fb7873e7d4a7931b71eb056c52a91e98c0edea616453bf41dd298123a1b19680a2ab4d5f16e7e92fcf0960d390046dcd1821bdc52560daa28', `current_login_at` = '2015-06-07 09:41:56', `last_login_at` = '2015-06-07 09:41:56', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:41:56', `login_count` = 2, `password_salt` = 'fCUsjh2oPOwHXfc2zVc', `perishable_token` = 'rDbmsZt1XpQYArConpE', `persistence_token` = '2d522d84f236fb5b039c9a4a319db8c48345dbbbbacd8ac4d9419ca9a89df7b98563b91f7a277121d72416db643940238512b9cd02737ce56bab1973dea7e5c5', `updated_at` = '2015-06-07 09:41:56' WHERE `users`.`id` = 28[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 27ms (ActiveRecord: 4.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:41:56', `perishable_token` = 'LJ84YrqQgNnl56UVNaq3', `updated_at` = '2015-06-07 09:41:56' WHERE `users`.`id` = 28[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 15ms (Views: 6.3ms | ActiveRecord: 1.5ms)
  [1m[36m (3.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '2c6987ef7e2cb14b55c9dacc7c0d9c7d0e1441d35dda135432d7ec4021a9b866fa9dd7f3a89a5a5fb76e167bbefdc13e1522a56d3dfe34d25167eecd989eb030' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:41:56', '670bbe96f90e44c9de838a4079eacce52c8cc7cc9f7bf9aec9b4832a489f27babf1279883495d1fea4593ea6026f2880d0e4813ca99b95c3365eb687c75a9dde', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '6UjUFPO9ZtON2vWguM4K', 'SwW8GUOaUXitDuPaxwhb', '2c6987ef7e2cb14b55c9dacc7c0d9c7d0e1441d35dda135432d7ec4021a9b866fa9dd7f3a89a5a5fb76e167bbefdc13e1522a56d3dfe34d25167eecd989eb030', '2015-06-07 09:41:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:41:56 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.9ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (11.4ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 63ms (Views: 43.6ms | ActiveRecord: 1.4ms)
  [1m[35m (10.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'd4edc542204a70e7cbf52dd4b53fcc03aaf6a531a37abbfa33a1970b79eb71ee43ac5f1d0450454e1da27bea2aa62fd87478bf47c3d0fea549448f5ffdf3f3e5' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:41:57', '63b77796b44558f201d6e981f63e290f7fd3b20a657f0b10686920e595a0e5e03d69a1af44357f7727957c3178e5f713aaca34743f57e3825793e93857fd00dd', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'QtqM3z67FKJoZliGqbSV', '65wAzZdrxMnpEPI6aV0', 'd4edc542204a70e7cbf52dd4b53fcc03aaf6a531a37abbfa33a1970b79eb71ee43ac5f1d0450454e1da27bea2aa62fd87478bf47c3d0fea549448f5ffdf3f3e5', '2015-06-07 09:41:57')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:41:57 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 11:41:57 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-07 09:41:57', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:41:57', `login_count` = 1, `perishable_token` = 'A3Lf089hmSGsQ198jJF', `updated_at` = '2015-06-07 09:41:57' WHERE `users`.`id` = 30[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (6.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 41ms (Views: 39.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:41:57', 'Kevinva', '123456789', '2015-06-07 09:41:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 8ms (Views: 39.9ms | ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/manufacturer/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 28ms (Views: 26.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 40ms (Views: 37.1ms | ActiveRecord: 0.4ms)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-07 09:41:57' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 11:41:57 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:41:57', '2015-06-07 09:41:57')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (24.4ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191012
  Rendered cart/_cart.html.erb (18.6ms)
Completed 200 OK in 122ms (Views: 91.8ms | ActiveRecord: 4.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 11:41:57 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191012 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (4.3ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191012[0m
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 18ms (Views: 11.5ms | ActiveRecord: 2.0ms)
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 11:41:57 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191012 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (8.1ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191012[0m
  Rendered cart/_cart.html.erb (2.4ms)
Completed 200 OK in 40ms (Views: 32.6ms | ActiveRecord: 2.4ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:41:57', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:41:57')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 09:41:57', 980190971, 155.25, 1, '2015-06-07 09:41:57')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:42:00' WHERE `orders`.`id` = 980190971[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190971 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190971
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190971[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 09:42:00' WHERE `orders`.`id` = 980190971[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (13.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:01', 'Fabricante', '123321123', '2015-06-07 09:42:01')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:01', 'Fabricante2', '123321113', '2015-06-07 09:42:01')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:01', 'Fabricante3', '1233211123', '2015-06-07 09:42:01')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:01', 'Fabricante4', '1233211123', '2015-06-07 09:42:01')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:01', 'Prueba', '123456789', '2015-06-07 09:42:01')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:42:01 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:42:01 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:01', '2015-06-07 09:42:01')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.8ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191013 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 2.1ms)
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 11:42:01 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:01', '2015-06-07 09:42:01')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191014 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191014, '2015-06-07 09:42:01', 2.5, 1, '2015-06-07 09:42:01')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 37ms (ActiveRecord: 2.7ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:42:01 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191014 LIMIT 1[0m
  [1m[35mTshirt Exists (0.3ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191014 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (1.0ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191014
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.9ms)
  Rendered cart/_cart.html.erb (36.1ms)
Completed 200 OK in 97ms (Views: 90.4ms | ActiveRecord: 1.8ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 11:42:01 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191014"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191014 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191014
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:42:01', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:42:01')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 09:42:01', 980190972, 2.5, 1, '2015-06-07 09:42:01')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:42:05' WHERE `orders`.`id` = 980190972
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190994[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 4103ms (ActiveRecord: 4.6ms)
  [1m[36m (16.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 48ms (Views: 46.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:05', '2015-06-07 09:42:05')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (1.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191015 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191015, '2015-06-07 09:42:05', 2.5, 4, '2015-06-07 09:42:05')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 27ms (ActiveRecord: 5.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191015 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191015[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:05', '2015-06-07 09:42:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191016 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191016, '2015-06-07 09:42:05', 2.5, 4, '2015-06-07 09:42:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 17ms (ActiveRecord: 2.1ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191016 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191016
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191016 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191016
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190996
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191016 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191016[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:05', '2015-06-07 09:42:05')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191017 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191017, '2015-06-07 09:42:05', 2.5, 4, '2015-06-07 09:42:05')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.2ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191017 LIMIT 1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191017
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191017 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (1.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191017 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980190997 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190997
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 3.2ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191017 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191017
  [1m[36m (3.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:42:39', '2015-06-07 09:42:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:42:39', '2015-06-07 09:42:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:42:39', '2015-06-07 09:42:39')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (25.8ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (50.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 287ms (Views: 282.8ms | ActiveRecord: 2.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (4.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.8ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (3.8ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 46ms (Views: 8.8ms | ActiveRecord: 8.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (4.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 18ms (Views: 11.8ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:39', 'Fabricante', '123321123', '2015-06-07 09:42:39')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (10.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:39', 'Fabricante2', '123321113', '2015-06-07 09:42:39')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:39', 'Fabricante3', '1233211123', '2015-06-07 09:42:39')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:39', 'Fabricante4', '1233211123', '2015-06-07 09:42:39')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:39', 'Kevinva', '123456789', '2015-06-07 09:42:39')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (Views: 42.2ms | ActiveRecord: 2.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (1.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 28ms (Views: 25.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (2.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 15ms (Views: 8.8ms | ActiveRecord: 3.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (1.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (3.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 37ms (Views: 34.6ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 28ms (Views: 26.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 25ms (Views: 21.2ms | ActiveRecord: 0.6ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-07 09:42:40' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (3.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:40', '2015-06-07 09:42:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191018 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191018, '2015-06-07 09:42:40', 2.5, 4, '2015-06-07 09:42:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 83ms (ActiveRecord: 7.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191018 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191018[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:40', '2015-06-07 09:42:40')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (1.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191019 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191019, '2015-06-07 09:42:40', 2.5, 4, '2015-06-07 09:42:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 4.3ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191019 LIMIT 1[0m
  [1m[35mTshirt Load (0.7ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191019
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191019 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191019
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190999
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191019 LIMIT 1
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191019[0m
  [1m[35m (3.7ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:40', '2015-06-07 09:42:40')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (1.7ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191020 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191020, '2015-06-07 09:42:40', 2.5, 4, '2015-06-07 09:42:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 5.9ms)
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191020 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191020
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191020 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191020 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191000 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191000
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191020 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191020
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'd2a16164360232e17934dac6f7b719f5e723f214ab92a47c0d0c50422e4865ffc2c7e8cd17a0c69dae165f369a84234841dc387a667ad2cc08b20ccb611cffac' LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:42:40', 'f4a620299d15569a1800405842c0610333bb0f9c0172be43d6b0f8185d4188bbf748453b2b99e7a6f8b84b95194e7e4a16f5f6dfa9611644489cf5a5aa42bea1', '2015-06-07 09:42:40', '0.0.0.0', 'kevin@emporium.com', '2015-06-07 09:42:40', 'kevin', 1, 'Kevin Valle', 'sYTZZvl3u0tKL5wStP8', '3bYH21HyHTEZ6JRi2B', 'd2a16164360232e17934dac6f7b719f5e723f214ab92a47c0d0c50422e4865ffc2c7e8cd17a0c69dae165f369a84234841dc387a667ad2cc08b20ccb611cffac', '2015-06-07 09:42:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:42:40 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 44ms (Views: 15.4ms | ActiveRecord: 0.9ms)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '745519abec650759de22cafcf694b7c04d91c7a9a77ad4408f156db38c5eced15a1315560b8475a5ca7308542933f1fa0bafbb2e2c1e8c36968bd869693ab4fa' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:42:40', '3637a07ab643fa97d070478b4c6f3e9b37bdbbb68d37ebf9509fd1fcb99754452a3dea185c22559ccbc2a06ea05cea7caef33785bdcb882cebcc3c94006983e4', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'gcstyLjcje55py6AhTd0', 'quzEaYHX989HtZKgHM1', '745519abec650759de22cafcf694b7c04d91c7a9a77ad4408f156db38c5eced15a1315560b8475a5ca7308542933f1fa0bafbb2e2c1e8c36968bd869693ab4fa', '2015-06-07 09:42:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:42:40 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 1.2ms)
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 24ms (Views: 22.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:42:40 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:40', '2015-06-07 09:42:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191021 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 46ms (ActiveRecord: 3.7ms)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 11:42:40 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:40', '2015-06-07 09:42:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (1.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191022 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191022, '2015-06-07 09:42:40', 2.5, 1, '2015-06-07 09:42:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 4.5ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:42:40 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191022 LIMIT 1
  [1m[36mTshirt Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191022 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.7ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191022[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.9ms)
  Rendered cart/_cart.html.erb (29.1ms)
Completed 200 OK in 98ms (Views: 91.9ms | ActiveRecord: 2.3ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 11:42:40 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191022"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191022 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191022[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:42:40', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:42:40')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 09:42:40', 980190973, 2.5, 1, '2015-06-07 09:42:40')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:42:46' WHERE `orders`.`id` = 980190973[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191001
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 5829ms (ActiveRecord: 6.2ms)
  [1m[35m (69.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:42:46', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:42:46')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 09:42:46', 980190974, 155.25, 1, '2015-06-07 09:42:46')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:42:51' WHERE `orders`.`id` = 980190974[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190974 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190974
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190974[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 09:42:51' WHERE `orders`.`id` = 980190974[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (13.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (6.7ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 57ms (Views: 50.4ms | ActiveRecord: 0.3ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'cb0df2fce208df3b74af22b0420613da640b412703449dc31b2736bfd932575f0d24c5e82b793587e3eceb6a833ddb272b8df428b5d1a9dc57c535971c83c059' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:42:51', 'c6c24d8cc6da3920b955178f9c919072c23e25ca97085843223b0453a28aba1580b42cc197de86dc4a81ee4da285de2b2ef999a1cee373f0a7449792f0e38d64', '2015-06-07 09:42:51', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 09:42:51', 'kevin', 1, 'Kevin Valle', '3ct7zCzSeeVB3oXiFDcO', 'I9eolHKwlQw2ddevehh', 'cb0df2fce208df3b74af22b0420613da640b412703449dc31b2736bfd932575f0d24c5e82b793587e3eceb6a833ddb272b8df428b5d1a9dc57c535971c83c059', '2015-06-07 09:42:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 29ms (ActiveRecord: 4.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cb0df2fce208df3b74af22b0420613da640b412703449dc31b2736bfd932575f0d24c5e82b793587e3eceb6a833ddb272b8df428b5d1a9dc57c535971c83c059' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:42:51', `perishable_token` = 'WYsj8vFDfoM4nzthRq', `updated_at` = '2015-06-07 09:42:51' WHERE `users`.`id` = 33[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 30ms (Views: 18.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=33" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"33"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (1.0ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cb0df2fce208df3b74af22b0420613da640b412703449dc31b2736bfd932575f0d24c5e82b793587e3eceb6a833ddb272b8df428b5d1a9dc57c535971c83c059' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:42:51', `perishable_token` = 'mRB9TdGBI4OtHU6y1nh', `updated_at` = '2015-06-07 09:42:51' WHERE `users`.`id` = 33
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 19ms (Views: 6.2ms | ActiveRecord: 2.3ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 33 LIMIT 1
Started GET "/user/edit?id=33" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"33"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cb0df2fce208df3b74af22b0420613da640b412703449dc31b2736bfd932575f0d24c5e82b793587e3eceb6a833ddb272b8df428b5d1a9dc57c535971c83c059' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:42:51', `perishable_token` = 'unzdArgvreTTTtN6wuf2', `updated_at` = '2015-06-07 09:42:51' WHERE `users`.`id` = 33[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 27ms (Views: 17.2ms | ActiveRecord: 1.5ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cb0df2fce208df3b74af22b0420613da640b412703449dc31b2736bfd932575f0d24c5e82b793587e3eceb6a833ddb272b8df428b5d1a9dc57c535971c83c059' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:42:51', `perishable_token` = 'FoyLO0txgOuASpkU00LY', `updated_at` = '2015-06-07 09:42:51' WHERE `users`.`id` = 33[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '3d6c45b0ef98f056f47771513f3ae53725e511f661fc2c66e28b6de6fbf36a96cc33a1b9adb368a6e9cca5103d5b1384dedfe999ffdd5e86d6533bf9bfd79beb' AND `users`.`id` != 33) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 33) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 33) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 33) LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'cb0df2fce208df3b74af22b0420613da640b412703449dc31b2736bfd932575f0d24c5e82b793587e3eceb6a833ddb272b8df428b5d1a9dc57c535971c83c059' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `crypted_password` = '1f60a199c003322a383573c9e694e37f82bb0cbf4b0a1d2b0b1d6255f6d7391df267e4d481c1f7a87390fd6fd410d01bc42f087cd9fcd740f3cf50e64116af38', `current_login_at` = '2015-06-07 09:42:51', `last_login_at` = '2015-06-07 09:42:51', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:42:51', `login_count` = 2, `password_salt` = '5Rr571M5JFYwV8MZF6D', `perishable_token` = 'Am0mzD3OKhn4ZeKiCez', `persistence_token` = '3d6c45b0ef98f056f47771513f3ae53725e511f661fc2c66e28b6de6fbf36a96cc33a1b9adb368a6e9cca5103d5b1384dedfe999ffdd5e86d6533bf9bfd79beb', `updated_at` = '2015-06-07 09:42:51' WHERE `users`.`id` = 33[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 34ms (ActiveRecord: 5.4ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 33 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:42:51', `perishable_token` = 'L6tR6LJV6s1KgOTz48mW', `updated_at` = '2015-06-07 09:42:51' WHERE `users`.`id` = 33[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 17ms (Views: 7.0ms | ActiveRecord: 1.7ms)
  [1m[36m (11.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:42:51', '2015-06-07 09:42:51')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (17.5ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191023
  Rendered cart/_cart.html.erb (2.4ms)
Completed 200 OK in 57ms (Views: 47.9ms | ActiveRecord: 2.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191023 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.8ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (6.6ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191023[0m
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 22ms (Views: 15.5ms | ActiveRecord: 2.3ms)
  [1m[35mTshirt Load (1.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191023 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (5.9ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191023[0m
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 29ms (Views: 23.5ms | ActiveRecord: 1.9ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:42:51', 'Prueba', '123456789', '2015-06-07 09:42:51')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.8ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-07 11:42:51 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"58"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 58 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 21ms (Views: 12.8ms | ActiveRecord: 1.7ms)
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:45:10', '2015-06-07 09:45:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:45:10', '2015-06-07 09:45:10', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:45:10', '2015-06-07 09:45:10')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 11:45:10 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:45:10', '2015-06-07 09:45:10')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (52.5ms)
  Rendered catalog/index.html.erb within layouts/application (69.0ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191024[0m
  Rendered cart/_cart.html.erb (25.5ms)
Completed 200 OK in 391ms (Views: 291.4ms | ActiveRecord: 7.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 11:45:10 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191024 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (4.5ms)
  Rendered catalog/index.html.erb within layouts/application (5.5ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191024
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 19ms (Views: 12.7ms | ActiveRecord: 2.2ms)
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 11:45:10 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191024 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.8ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (7.4ms)
  Rendered catalog/latest.html.erb within layouts/application (9.0ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191024
  Rendered cart/_cart.html.erb (2.1ms)
Completed 200 OK in 45ms (Views: 38.6ms | ActiveRecord: 2.4ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (15.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 82ms (Views: 79.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20", "product_img_file_name"=>"camiseta.png"}}
Unpermitted parameters: product_img_file_name
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.7ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 19ms (Views: 8.3ms | ActiveRecord: 2.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (8.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 24ms (Views: 16.0ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 49ms (Views: 47.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:45:11 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:45:11', '2015-06-07 09:45:11')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191025 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 83ms (ActiveRecord: 4.1ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 11:45:11 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:45:11', '2015-06-07 09:45:11')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (1.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191026 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191026, '2015-06-07 09:45:11', 2.5, 1, '2015-06-07 09:45:11')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 4.5ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:45:11 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191026 LIMIT 1
  [1m[36mTshirt Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191026 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.9ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191026[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.0ms)
  Rendered cart/_cart.html.erb (29.9ms)
Completed 200 OK in 104ms (Views: 95.4ms | ActiveRecord: 2.3ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 11:45:11 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191026"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191026 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191026[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:45:11', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:45:11')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 09:45:11', 980190975, 2.5, 1, '2015-06-07 09:45:11')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:45:13' WHERE `orders`.`id` = 980190975[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191002
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1714ms (ActiveRecord: 8.4ms)
  [1m[35m (12.3ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (2.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 58ms (Views: 55.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:45:13', 'Kevinva', '123456789', '2015-06-07 09:45:13')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 10ms (Views: 55.8ms | ActiveRecord: 2.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (1.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 31ms (Views: 27.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 44ms (Views: 18.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (2.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 50ms (Views: 46.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 43ms (Views: 40.1ms | ActiveRecord: 0.8ms)
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (3.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 10ms (ActiveRecord: 4.6ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-07 09:45:13' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 16ms (ActiveRecord: 2.8ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (4.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:45:13', 'Prueba', '123456789', '2015-06-07 09:45:13')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.9ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:45:13 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (6.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 18ms (Views: 15.2ms | ActiveRecord: 0.7ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-07 11:45:13 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"60"}}
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 60 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (2.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (5.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 26ms (Views: 14.5ms | ActiveRecord: 3.8ms)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:45:13', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:45:13')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 09:45:13', 980190976, 155.25, 1, '2015-06-07 09:45:13')[0m
  [1m[35m (2.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:45:15' WHERE `orders`.`id` = 980190976
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (1.1ms)[0m  SELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190976 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190976[0m
  [1m[35mOrderItem Load (2.0ms)[0m  SELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190976
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 09:45:15' WHERE `orders`.`id` = 980190976
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'e92e9f364d98ebd3fc73f3cba40f14f3daf60b7f1b70af2d428aaad7e7bdfa0b11380d270ddd78e4468af93842c912358683e1a1816fc2eb25091388e8acd1e7' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:45:15', '59cbb915f34d8f25bfce79c6bc45861551787013f5f9c15d75575f8ad11b9de809b829a1f6fceeef2797217d9e1ec3659588b8ef08acb2375ab11a0f99e24c17', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'qos1X4OnSOPw9PuvMu', '5PR0Fu8XbpLGGwCiC1', 'e92e9f364d98ebd3fc73f3cba40f14f3daf60b7f1b70af2d428aaad7e7bdfa0b11380d270ddd78e4468af93842c912358683e1a1816fc2eb25091388e8acd1e7', '2015-06-07 09:45:15')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:45:15 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (4.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (5.8ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 27ms (Views: 19.3ms | ActiveRecord: 6.3ms)
  [1m[35m (12.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '4e4b752a6ce4fe609a74fafc9eb564a4ff7c10bd4e8bdb975fa6062ef32ab6f7983c10b0c50235389062f564440bbb2248a26121bf0ea48936decf8b09add277' LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:45:15', 'bd9759e45276d944cc5115526974a17f3b36c051f8854e42da02fd5678cb5bd86d67398d23ebe0efafe68f464aaeb637fbdce15c872a2c579269784dafe8bfb7', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'RzrU4pvWcJmXYuBdWRJ', 'aYexuktwDThRvAqjzn', '4e4b752a6ce4fe609a74fafc9eb564a4ff7c10bd4e8bdb975fa6062ef32ab6f7983c10b0c50235389062f564440bbb2248a26121bf0ea48936decf8b09add277', '2015-06-07 09:45:15')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:45:15 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 1.1ms)
  [1m[36m (3.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:45:15', '2015-06-07 09:45:15')[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191027 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191027, '2015-06-07 09:45:15', 2.5, 4, '2015-06-07 09:45:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 25ms (ActiveRecord: 3.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191027 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191027
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:45:15', '2015-06-07 09:45:15')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.9ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191028 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191028, '2015-06-07 09:45:15', 2.5, 4, '2015-06-07 09:45:15')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.8ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 21ms (ActiveRecord: 4.4ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (4.8ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191028 LIMIT 1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191028[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191028 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191028[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191004[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191028 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191028
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:45:15', '2015-06-07 09:45:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191029 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191029, '2015-06-07 09:45:15', 2.5, 4, '2015-06-07 09:45:15')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (1.9ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 5.3ms)
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (2.1ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191029 LIMIT 1
  [1m[36mTshirt Load (1.0ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191029[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191029 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191029 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191005 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191005[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 1.8ms)
  [1m[35mCart Load (1.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191029 LIMIT 1
  [1m[36mTshirt Load (0.9ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191029[0m
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 11:45:15 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (5.3ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 35ms (Views: 28.8ms | ActiveRecord: 0.7ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 11:45:15 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'f903a0d8b4a34ce0d705f4f617dd2e929548866d3d534aa4d8f1b3a049fd366074ae6dc48252d796cbf17dfeb13949ac77ec22af2daeb16e5935d83370a04c56' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:45:15', 'b485169866d62067439b87a9be805deaeb5a6b5dc3c05a8ae94e551c39a69079449ea09f592529afbbc7916ced2fb793bbd2a32a32c4d09d586e767080f16922', '2015-06-07 09:45:15', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 09:45:15', 'kevin', 1, 'Kevin Valle', 'veZTgR9t1isuvBSjLGLS', 'IVCmgudbLShZ8Ey0ccvN', 'f903a0d8b4a34ce0d705f4f617dd2e929548866d3d534aa4d8f1b3a049fd366074ae6dc48252d796cbf17dfeb13949ac77ec22af2daeb16e5935d83370a04c56', '2015-06-07 09:45:15')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 28ms (ActiveRecord: 5.0ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:45:16 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f903a0d8b4a34ce0d705f4f617dd2e929548866d3d534aa4d8f1b3a049fd366074ae6dc48252d796cbf17dfeb13949ac77ec22af2daeb16e5935d83370a04c56' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:45:16', `perishable_token` = 'NKu5Iv8vLZ6aXAlIWG6e', `updated_at` = '2015-06-07 09:45:16' WHERE `users`.`id` = 36[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 32ms (Views: 20.1ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=36" for 127.0.0.1 at 2015-06-07 11:45:16 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"36"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f903a0d8b4a34ce0d705f4f617dd2e929548866d3d534aa4d8f1b3a049fd366074ae6dc48252d796cbf17dfeb13949ac77ec22af2daeb16e5935d83370a04c56' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:45:16', `perishable_token` = 'ZJjkFaP1tPBpwP2lPrMp', `updated_at` = '2015-06-07 09:45:16' WHERE `users`.`id` = 36
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 30ms (Views: 19.2ms | ActiveRecord: 2.3ms)
  [1m[35mUser Load (3.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 36 LIMIT 1
Started GET "/user/edit?id=36" for 127.0.0.1 at 2015-06-07 11:45:16 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"36"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f903a0d8b4a34ce0d705f4f617dd2e929548866d3d534aa4d8f1b3a049fd366074ae6dc48252d796cbf17dfeb13949ac77ec22af2daeb16e5935d83370a04c56' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:45:16', `perishable_token` = '8tOqecdgZInVrTcw8ZP', `updated_at` = '2015-06-07 09:45:16' WHERE `users`.`id` = 36[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (1.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 35ms (Views: 25.9ms | ActiveRecord: 1.3ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 11:45:16 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f903a0d8b4a34ce0d705f4f617dd2e929548866d3d534aa4d8f1b3a049fd366074ae6dc48252d796cbf17dfeb13949ac77ec22af2daeb16e5935d83370a04c56' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:45:16', `perishable_token` = 'A2y5aNZ6sYxhwbeyJXpe', `updated_at` = '2015-06-07 09:45:16' WHERE `users`.`id` = 36[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'e280e1a6f22374429bbf15fa16927b3fae0be504d199ad6e74a9a373c1fa37efab392db8d67a500cb11b35181e5f606bf0fc43311f0963fa0bed11769ef61251' AND `users`.`id` != 36) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 36) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 36) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 36) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f903a0d8b4a34ce0d705f4f617dd2e929548866d3d534aa4d8f1b3a049fd366074ae6dc48252d796cbf17dfeb13949ac77ec22af2daeb16e5935d83370a04c56' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `crypted_password` = 'c6db2261f23dbbc2ead5dc788a32aa8916d1025feb38fd9f68e2154a724bb42195c56e034bac2f2df77ae3d5a0fa1d607eb533e91d8a4d5b994b3646b41ceeb2', `current_login_at` = '2015-06-07 09:45:16', `last_login_at` = '2015-06-07 09:45:15', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:45:16', `login_count` = 2, `password_salt` = 'hnatp565CEvTmxt13s', `perishable_token` = 'ldP5vQ87tj25XNl5', `persistence_token` = 'e280e1a6f22374429bbf15fa16927b3fae0be504d199ad6e74a9a373c1fa37efab392db8d67a500cb11b35181e5f606bf0fc43311f0963fa0bed11769ef61251', `updated_at` = '2015-06-07 09:45:16' WHERE `users`.`id` = 36[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 30ms (ActiveRecord: 5.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:45:16 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 36 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:45:16', `perishable_token` = 'wuhBeyA40sdjXaWqJe', `updated_at` = '2015-06-07 09:45:16' WHERE `users`.`id` = 36[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 17ms (Views: 7.1ms | ActiveRecord: 1.7ms)
  [1m[36m (10.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:45:16', 'Fabricante', '123321123', '2015-06-07 09:45:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:45:16', 'Fabricante2', '123321113', '2015-06-07 09:45:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:45:16', 'Fabricante3', '1233211123', '2015-06-07 09:45:16')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:45:16', 'Fabricante4', '1233211123', '2015-06-07 09:45:16')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (1.7ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:47:19', '2015-06-07 09:47:19', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:47:19', '2015-06-07 09:47:19', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:47:19', '2015-06-07 09:47:19')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (4.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:47:19', '2015-06-07 09:47:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191030 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191030, '2015-06-07 09:47:19', 2.5, 4, '2015-06-07 09:47:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 128ms (ActiveRecord: 6.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191030 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191030[0m
  [1m[35m (10.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:47:19', '2015-06-07 09:47:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191031 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191031, '2015-06-07 09:47:19', 2.5, 4, '2015-06-07 09:47:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 3.4ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191031 LIMIT 1[0m
  [1m[35mTshirt Load (0.9ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191031
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191031 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191031
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191007
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191031 LIMIT 1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191031[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:47:19', '2015-06-07 09:47:19')[0m
  [1m[35m (2.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191032 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191032, '2015-06-07 09:47:19', 2.5, 4, '2015-06-07 09:47:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 28ms (ActiveRecord: 6.0ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191032 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191032
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191032 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191032 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191008 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191008
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 3.1ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191032 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191032
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 11:47:19 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:47:19', '2015-06-07 09:47:19')
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.8ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (30.3ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191033
  Rendered cart/_cart.html.erb (4.3ms)
Completed 200 OK in 326ms (Views: 237.2ms | ActiveRecord: 6.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191033 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (11.3ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191033[0m
  Rendered cart/_cart.html.erb (2.1ms)
Completed 200 OK in 28ms (Views: 20.8ms | ActiveRecord: 2.1ms)
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (1.1ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191033 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.9ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (12.0ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191033[0m
  Rendered cart/_cart.html.erb (2.4ms)
Completed 200 OK in 51ms (Views: 43.2ms | ActiveRecord: 3.0ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:47:20', 'Fabricante', '123321123', '2015-06-07 09:47:20')[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:47:20', 'Fabricante2', '123321113', '2015-06-07 09:47:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:47:20', 'Fabricante3', '1233211123', '2015-06-07 09:47:20')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:47:20', 'Fabricante4', '1233211123', '2015-06-07 09:47:20')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (47.9ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 92ms (Views: 87.0ms | ActiveRecord: 0.3ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '6855a415f26eb18df6e133bd374a15d2961d48d7ddc198995387d63b781632932e75381f39e5b7f9f74cafa9d73936797c3d0ffddb10753359ae85d2ea32d673' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:47:20', '5ba88953793bb0ff9a156663df7ab6416cb71953a49a5d118238573575654dc3b25e9264f5b7ba266149d1dfdbc8bd5525917b704b186a8bdd51f57358d87680', '2015-06-07 09:47:20', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 09:47:20', 'kevin', 1, 'Kevin Valle', 'PMcFgCkfjuFeBC0CbOZE', 'DzP8zruMqEjdb4lJbUp', '6855a415f26eb18df6e133bd374a15d2961d48d7ddc198995387d63b781632932e75381f39e5b7f9f74cafa9d73936797c3d0ffddb10753359ae85d2ea32d673', '2015-06-07 09:47:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 36ms (ActiveRecord: 4.6ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6855a415f26eb18df6e133bd374a15d2961d48d7ddc198995387d63b781632932e75381f39e5b7f9f74cafa9d73936797c3d0ffddb10753359ae85d2ea32d673' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:47:20', `perishable_token` = 'uqnONCbAHIbakpxNGEet', `updated_at` = '2015-06-07 09:47:20' WHERE `users`.`id` = 37[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 40ms (Views: 26.7ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=37" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"37"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6855a415f26eb18df6e133bd374a15d2961d48d7ddc198995387d63b781632932e75381f39e5b7f9f74cafa9d73936797c3d0ffddb10753359ae85d2ea32d673' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 09:47:20', `perishable_token` = '7frMmMbXkTWYTNKY0ep', `updated_at` = '2015-06-07 09:47:20' WHERE `users`.`id` = 37
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 16ms (Views: 6.6ms | ActiveRecord: 1.6ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 37 LIMIT 1
Started GET "/user/edit?id=37" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"37"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6855a415f26eb18df6e133bd374a15d2961d48d7ddc198995387d63b781632932e75381f39e5b7f9f74cafa9d73936797c3d0ffddb10753359ae85d2ea32d673' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:47:20', `perishable_token` = 'KdfNwvpcravurroS5a', `updated_at` = '2015-06-07 09:47:20' WHERE `users`.`id` = 37[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 26ms (Views: 17.7ms | ActiveRecord: 1.5ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6855a415f26eb18df6e133bd374a15d2961d48d7ddc198995387d63b781632932e75381f39e5b7f9f74cafa9d73936797c3d0ffddb10753359ae85d2ea32d673' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:47:20', `perishable_token` = 'wnoHxxXeoiPE8bQW1VZ', `updated_at` = '2015-06-07 09:47:20' WHERE `users`.`id` = 37[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY 'cfc9a3f5cfa7aab80ad46ff7e41e3a6e55868437a0124962292787deb332f5c6f32d35493d2e5bc2496d3c6d80b7901c28a690c75343f01c715ae307bc503e21' AND `users`.`id` != 37) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 37) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 37) LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 37) LIMIT 1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '6855a415f26eb18df6e133bd374a15d2961d48d7ddc198995387d63b781632932e75381f39e5b7f9f74cafa9d73936797c3d0ffddb10753359ae85d2ea32d673' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `users` SET `crypted_password` = '4b63c6cdbace0797bc174df5b0b2d9685dd1e92919f3e00b6ba3ccd16d5c777e561c184bfb920a8d9fba8a70de51d6d04633d66bec2c0ad1bd561cf48482f28a', `current_login_at` = '2015-06-07 09:47:20', `last_login_at` = '2015-06-07 09:47:20', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 09:47:20', `login_count` = 2, `password_salt` = '7BaOgr19PmVjxTPxzQJ', `perishable_token` = 'WcVCKvPoZ24m6PgmqLR', `persistence_token` = 'cfc9a3f5cfa7aab80ad46ff7e41e3a6e55868437a0124962292787deb332f5c6f32d35493d2e5bc2496d3c6d80b7901c28a690c75343f01c715ae307bc503e21', `updated_at` = '2015-06-07 09:47:20' WHERE `users`.`id` = 37[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 34ms (ActiveRecord: 6.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 11:47:20 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 09:47:20', `perishable_token` = 'sjYepneP5aKzkpigbOk', `updated_at` = '2015-06-07 09:47:20' WHERE `users`.`id` = 37[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 16ms (Views: 6.2ms | ActiveRecord: 1.9ms)
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 47ms (Views: 45.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:47:20', 'Kevinva', '123456789', '2015-06-07 09:47:20')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (Views: 45.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 46ms (Views: 42.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/manufacturer/_form.html.erb (3.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 41ms (Views: 34.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 47ms (Views: 45.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (3.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 28ms (Views: 21.2ms | ActiveRecord: 3.4ms)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (4.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-07 09:47:20' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 13ms (ActiveRecord: 2.0ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 09:47:21', 'Prueba', '123456789', '2015-06-07 09:47:21')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:47:21 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (1.9ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (15.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 72ms (Views: 68.2ms | ActiveRecord: 2.3ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-07 11:47:21 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"70"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 70 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.9ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (7.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 28ms (Views: 16.4ms | ActiveRecord: 2.5ms)
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 34ms (Views: 33.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.9ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '0e5f001d43e8bb2bca69001f603ce8a111c159db7f7157e6d36980486141e58caf5f526dd51725206f4219dd454c8d2bef916a246f800c78c779ffae9f0e8ed2' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:47:21', '583c20d7884bfde996df3d9a7b9bba4c75a4997f2d74b67b849eec307c60a5e76d8ec5619184c6ffbf602a1430967b97d3e4e75d495c240595535128ff123538', '2015-06-07 09:47:21', '0.0.0.0', 'kevin@emporium.com', '2015-06-07 09:47:21', 'kevin', 1, 'Kevin Valle', 'LNxOYP4RV0JM4jIm9iMx', 'mz84wYDX5vsYXEiWTS', '0e5f001d43e8bb2bca69001f603ce8a111c159db7f7157e6d36980486141e58caf5f526dd51725206f4219dd454c8d2bef916a246f800c78c779ffae9f0e8ed2', '2015-06-07 09:47:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:47:21 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (4.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 1.0ms)
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '1069af1d2041288533b134e2ffd3268e0f46618f172800f07571eb9966dc4b16447b99041f23d7bea63349d7db560537c8019d3d78614c05fdc5a6b5ecebc602' LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 09:47:21', '255ffb7e91217c24298bb8128d2a168eac943bba0cecea16f01e8e54d102b1c3bd3d60308a56359b6812b7bd314408676407aac9248c3ad25db6a83405cd0a4e', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'q4zirAMfOJmvgaYSnzJ7', 'RIn3MlNr0Rn1bi10RyiU', '1069af1d2041288533b134e2ffd3268e0f46618f172800f07571eb9966dc4b16447b99041f23d7bea63349d7db560537c8019d3d78614c05fdc5a6b5ecebc602', '2015-06-07 09:47:21')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 11:47:21 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (4.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.7ms)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[36mManufacturer Load (1.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:47:21 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:47:21', '2015-06-07 09:47:21')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191034 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 44ms (ActiveRecord: 2.2ms)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 11:47:21 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 09:47:21', '2015-06-07 09:47:21')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191035 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191035, '2015-06-07 09:47:21', 2.5, 1, '2015-06-07 09:47:21')[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (1.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 6.0ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 11:47:21 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191035 LIMIT 1
  [1m[36mTshirt Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191035 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.9ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191035[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.0ms)
  Rendered cart/_cart.html.erb (30.8ms)
Completed 200 OK in 93ms (Views: 82.0ms | ActiveRecord: 3.2ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 11:47:21 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191035"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.9ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191035 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191035[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:47:21', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:47:21')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 09:47:21', 980190977, 2.5, 1, '2015-06-07 09:47:21')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:47:22' WHERE `orders`.`id` = 980190977[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191009
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1154ms (ActiveRecord: 6.8ms)
  [1m[35m (9.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 09:47:22', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 09:47:22')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 09:47:22', 980190978, 155.25, 1, '2015-06-07 09:47:22')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 09:47:24' WHERE `orders`.`id` = 980190978[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190978 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190978
  [1m[36mOrderItem Load (1.6ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190978[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 09:47:24' WHERE `orders`.`id` = 980190978[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20", "tshirt_image"=>"camiseta.png"}}
Unpermitted parameters: tshirt_image
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (5.9ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 25ms (Views: 17.4ms | ActiveRecord: 1.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (1.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (8.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 32ms (Views: 22.0ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (4.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (2.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (4.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (1.8ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (3.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (4.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (4.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (1.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (3.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (4.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (3.1ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (9.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (4.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (2.1ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:11', '2015-06-07 09:53:11')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:11', '2015-06-07 09:53:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (5.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (2.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (3.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 09:53:12', '2015-06-07 09:53:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 09:53:12', '2015-06-07 09:53:12')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')[0m
Mysql2::Error: Unknown column 'tshirt_image' in 'field list': INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `tshirt_image`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png')
  [1m[35m (4.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.0ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (1.8ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.9ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (3.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:06:18', '2015-06-07 10:06:18', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:06:18', '2015-06-07 10:06:18', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 10:06:18', '2015-06-07 10:06:18')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:06:18', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:06:18')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 10:06:18', 980190979, 155.25, 1, '2015-06-07 10:06:18')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:06:20' WHERE `orders`.`id` = 980190979[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190979 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190979
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190979[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 10:06:20' WHERE `orders`.`id` = 980190979[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (13.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:06:20', 'Prueba', '123456789', '2015-06-07 10:06:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:06:20 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (18.3ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (36.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 277ms (Views: 243.7ms | ActiveRecord: 2.7ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-07 12:06:21 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"71"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 71 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.4ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (4.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 25ms (Views: 11.1ms | ActiveRecord: 1.9ms)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 57ms (Views: 56.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:06:21', 'Kevinva', '123456789', '2015-06-07 10:06:21')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 8ms (Views: 56.1ms | ActiveRecord: 2.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 31ms (Views: 27.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (2.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 38ms (Views: 36.1ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.9ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 1.1ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-07 10:06:21' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:06:21', 'Fabricante', '123321123', '2015-06-07 10:06:21')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:06:21', 'Fabricante2', '123321113', '2015-06-07 10:06:21')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:06:21', 'Fabricante3', '1233211123', '2015-06-07 10:06:21')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:06:21', 'Fabricante4', '1233211123', '2015-06-07 10:06:21')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (4.9ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (3.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'b0b08581e2ae0ccb190135ca66eea65769081bb73c1edf42c540fc023c6ae1ff93b798ac07d9235201471deaee5f753b717eb139c03c2df3ce62c9192735f011' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:06:21', 'abfc95c84be2a377c0d70f47ce2cb102a6c534f2055595c44adb7b6274797f0263c6f69d7562cf032c14e840d6172ae741235dca683f1c7f90d3a04b98548898', '2015-06-07 10:06:21', '0.0.0.0', 'kevin@emporium.com', '2015-06-07 10:06:21', 'kevin', 1, 'Kevin Valle', '1hynppXQTnHV6g7JmnO', 'z4M2fr4JakG99JhFR8N', 'b0b08581e2ae0ccb190135ca66eea65769081bb73c1edf42c540fc023c6ae1ff93b798ac07d9235201471deaee5f753b717eb139c03c2df3ce62c9192735f011', '2015-06-07 10:06:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:06:21 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 1.2ms)
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'ea1a3905bd4bff8681079b776ddccd8f98d680c0bfd5a2230359a51fd9e9582e1aff13417126480e090cd5685847a44783a12f5bb0edc7c91233ce1b61716753' LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:06:21', '78a53e024ed5d67b49cea3065bd355f2c2cc2cab0d1e3629ca09f7c9600a3b6de34ed07b684bd1e4ce5e41de35d57eab16fa46f1f524b740d81f65cdab1d3689', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'um2xBBFxD8873EKRWwte', 'shpQ3VtslMNTCFoXElds', 'ea1a3905bd4bff8681079b776ddccd8f98d680c0bfd5a2230359a51fd9e9582e1aff13417126480e090cd5685847a44783a12f5bb0edc7c91233ce1b61716753', '2015-06-07 10:06:21')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:06:21 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (5.7ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 20ms (Views: 13.4ms | ActiveRecord: 6.1ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (4.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 1.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20", "tshirt_image"=>"camiseta.png"}}
Unpermitted parameters: tshirt_image
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.2ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 19ms (Views: 11.0ms | ActiveRecord: 2.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (5.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 26ms (Views: 15.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:06:21 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (2.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:06:21', '2015-06-07 10:06:21')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.5ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191036 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 54ms (ActiveRecord: 4.9ms)
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 12:06:21 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:06:21', '2015-06-07 10:06:21')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191037 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191037, '2015-06-07 10:06:21', 2.5, 1, '2015-06-07 10:06:21')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 2.9ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:06:21 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191037 LIMIT 1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191037 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.8ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191037
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.1ms)
  Rendered cart/_cart.html.erb (26.0ms)
Completed 200 OK in 92ms (Views: 84.4ms | ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 12:06:22 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191037"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191037 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191037
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:06:22', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:06:22')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 10:06:22', 980190980, 2.5, 1, '2015-06-07 10:06:22')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:06:24' WHERE `orders`.`id` = 980190980
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191010[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 2318ms (ActiveRecord: 5.0ms)
  [1m[36m (15.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 43ms (Views: 42.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (7.0ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 45ms (Views: 40.6ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '5e721be94a01ccdcd2ba6850807cd3f866559f895c1d9120fdbe3eef1d952a83a828896d8c3828f3fbf04e0237520d4a9878c1d49bdc40800ad966484477ccee' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:06:24', '088ec2cca6b0324cfbe68820a0dd7b58d6320b21a271afb54bb4012eefd550189cfd3545de30fb1b8dbb134964c2d6e02c047b062265fbec97f988c73e95a4f3', '2015-06-07 10:06:24', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 10:06:24', 'kevin', 1, 'Kevin Valle', '4B5GGVOXpeMlLtFSdfS', 'm4urMVaaSyQLWI6pcrri', '5e721be94a01ccdcd2ba6850807cd3f866559f895c1d9120fdbe3eef1d952a83a828896d8c3828f3fbf04e0237520d4a9878c1d49bdc40800ad966484477ccee', '2015-06-07 10:06:24')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 29ms (ActiveRecord: 4.0ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5e721be94a01ccdcd2ba6850807cd3f866559f895c1d9120fdbe3eef1d952a83a828896d8c3828f3fbf04e0237520d4a9878c1d49bdc40800ad966484477ccee' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 10:06:24', `perishable_token` = 'sAlpE7Z2n8mfT8a4L7wM', `updated_at` = '2015-06-07 10:06:24' WHERE `users`.`id` = 42[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 29ms (Views: 16.2ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
Started GET "/user/show/?id=42" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"42"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5e721be94a01ccdcd2ba6850807cd3f866559f895c1d9120fdbe3eef1d952a83a828896d8c3828f3fbf04e0237520d4a9878c1d49bdc40800ad966484477ccee' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:06:24', `perishable_token` = 'KS2IiL6YyjXTRHYTu3yg', `updated_at` = '2015-06-07 10:06:24' WHERE `users`.`id` = 42
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 16ms (Views: 6.5ms | ActiveRecord: 1.5ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 42 LIMIT 1
Started GET "/user/edit?id=42" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"42"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5e721be94a01ccdcd2ba6850807cd3f866559f895c1d9120fdbe3eef1d952a83a828896d8c3828f3fbf04e0237520d4a9878c1d49bdc40800ad966484477ccee' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 10:06:24', `perishable_token` = 'DPWFpYCJKz7vKLHV4G', `updated_at` = '2015-06-07 10:06:24' WHERE `users`.`id` = 42[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.9ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 43ms (Views: 33.8ms | ActiveRecord: 1.6ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5e721be94a01ccdcd2ba6850807cd3f866559f895c1d9120fdbe3eef1d952a83a828896d8c3828f3fbf04e0237520d4a9878c1d49bdc40800ad966484477ccee' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 10:06:24', `perishable_token` = 'yttOQfLv8Lp6UR209oYV', `updated_at` = '2015-06-07 10:06:24' WHERE `users`.`id` = 42[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '4fcdf2ec6aa525022145eefb2c8bf3e8d72103ba0fc504cf282e5e35ca6e640c6aa57ef5b0e69403f5bc185f18495ea65b7ff4cc53dbc3bd9b1a44b506f977e5' AND `users`.`id` != 42) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 42) LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 42) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 42) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '5e721be94a01ccdcd2ba6850807cd3f866559f895c1d9120fdbe3eef1d952a83a828896d8c3828f3fbf04e0237520d4a9878c1d49bdc40800ad966484477ccee' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `crypted_password` = '8448f566295ede398f07ec0796f9d80c2c7f59937073c12db688f8d24913d6648f7d77366b5eef21483dea0224cf118280987892c4157059f830d2405bb419f2', `current_login_at` = '2015-06-07 10:06:24', `last_login_at` = '2015-06-07 10:06:24', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 10:06:24', `login_count` = 2, `password_salt` = 'TdjSly8HE5FCGBWfemn', `perishable_token` = 'YgWRqYhk5F5Mzv4Wbh', `persistence_token` = '4fcdf2ec6aa525022145eefb2c8bf3e8d72103ba0fc504cf282e5e35ca6e640c6aa57ef5b0e69403f5bc185f18495ea65b7ff4cc53dbc3bd9b1a44b506f977e5', `updated_at` = '2015-06-07 10:06:24' WHERE `users`.`id` = 42[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 32ms (ActiveRecord: 6.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 42 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 10:06:24', `perishable_token` = 'CYin6RkPPgn01pymvuex', `updated_at` = '2015-06-07 10:06:24' WHERE `users`.`id` = 42[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 16ms (Views: 7.1ms | ActiveRecord: 1.6ms)
  [1m[36m (11.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:06:24', '2015-06-07 10:06:24')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
  Rendered catalog/_tshirts.html.erb (21.2ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191038
  Rendered cart/_cart.html.erb (3.5ms)
Completed 200 OK in 58ms (Views: 48.0ms | ActiveRecord: 3.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191038 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (5.1ms)
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191038[0m
  Rendered cart/_cart.html.erb (3.5ms)
Completed 200 OK in 23ms (Views: 16.7ms | ActiveRecord: 2.2ms)
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 12:06:24 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191038 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mTshirt Load (0.7ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  Rendered catalog/_tshirts.html.erb (7.8ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191038[0m
  Rendered cart/_cart.html.erb (3.5ms)
Completed 200 OK in 34ms (Views: 27.0ms | ActiveRecord: 2.5ms)
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:06:25', '2015-06-07 10:06:25')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191039 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191039, '2015-06-07 10:06:25', 2.5, 4, '2015-06-07 10:06:25')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 3.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191039 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191039[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:06:25', '2015-06-07 10:06:25')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.1ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191040 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191040, '2015-06-07 10:06:25', 2.5, 4, '2015-06-07 10:06:25')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 2.3ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191040 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191040
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191040 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191040
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191012
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191040 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191040[0m
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:06:25', '2015-06-07 10:06:25')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191041 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191041, '2015-06-07 10:06:25', 2.5, 4, '2015-06-07 10:06:25')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 32ms (ActiveRecord: 3.1ms)
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (1.1ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191041 LIMIT 1[0m
  [1m[35mTshirt Load (0.7ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191041
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191041 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191041 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191013 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191013
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 3.5ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191041 LIMIT 1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191041
  [1m[36m (10.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:10:29', '2015-06-07 10:10:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:10:29', '2015-06-07 10:10:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 10:10:29', '2015-06-07 10:10:29')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1, 'camiseta.png', 'image/png', 57365, '2015-06-07 08:49:43')
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:10:29', 'Prueba', '123456789', '2015-06-07 10:10:29')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:10:29 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (13.8ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (34.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 275ms (Views: 245.5ms | ActiveRecord: 2.5ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-07 12:10:29 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"77", "tshirt_image"=>"camiseta.png"}}
Unpermitted parameters: tshirt_image
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 77 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.6ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (4.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 17ms (Views: 10.3ms | ActiveRecord: 1.9ms)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 57ms (Views: 56.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:10:29', 'Kevinva', '123456789', '2015-06-07 10:10:29')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 6ms (Views: 56.1ms | ActiveRecord: 1.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 29ms (Views: 28.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (2.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 26ms (Views: 24.2ms | ActiveRecord: 0.4ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (3.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-07 10:10:30' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20", "tshirt_image"=>"camiseta.png"}}
Unpermitted parameters: tshirt_image
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (5.4ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 23ms (Views: 11.9ms | ActiveRecord: 2.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (5.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 25ms (Views: 14.5ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:10:30', '2015-06-07 10:10:30')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191042 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191042, '2015-06-07 10:10:30', 2.5, 4, '2015-06-07 10:10:30')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 75ms (ActiveRecord: 4.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191042 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191042[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:10:30', '2015-06-07 10:10:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191043 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191043, '2015-06-07 10:10:30', 2.5, 4, '2015-06-07 10:10:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 3.7ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191043 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191043
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191043 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191043
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191015
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191043 LIMIT 1
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191043[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:10:30', '2015-06-07 10:10:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191044 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191044, '2015-06-07 10:10:30', 2.5, 4, '2015-06-07 10:10:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 2.9ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191044 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191044
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191044 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191044 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191016 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191016
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191044 LIMIT 1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191044
  [1m[36m (2.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:10:30 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:10:30', '2015-06-07 10:10:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Exists (0.6ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191045 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 3.5ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 12:10:30 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:10:30', '2015-06-07 10:10:30')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191046 AND `cart_items`.`tshirt_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191046, '2015-06-07 10:10:30', 2.5, 1, '2015-06-07 10:10:30')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 3.4ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:10:30 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191046 LIMIT 1[0m
  [1m[35mTshirt Exists (0.4ms)[0m  SELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191046 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.7ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191046
  [1m[36mTshirt Load (0.1ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (2.0ms)
  Rendered cart/_cart.html.erb (31.7ms)
Completed 200 OK in 115ms (Views: 107.1ms | ActiveRecord: 1.8ms)
  [1m[35mCart Load (0.9ms)[0m  SELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 12:10:30 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191046"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191046 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191046
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:10:30', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:10:30')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 10:10:30', 980190981, 2.5, 1, '2015-06-07 10:10:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:10:32' WHERE `orders`.`id` = 980190981
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191017[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1649ms (ActiveRecord: 6.4ms)
  [1m[36m (10.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (16.6ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 67ms (Views: 58.6ms | ActiveRecord: 0.2ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'f02dcf5d927ca6da42c7f2ed454e0d27cde8e129884fe1dd303f0386b0f8d3b0d05f18505d4ba1a85517da9626e5952e48a2e3b81ec046319b409402d865624c' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (3.0ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:10:32', '17da90460e8fa9006c666b032264bad1fe7d858ff0335024dccb8e978eb3ed75803c655607b4693e31d0218aa7efb415ddaf6dde98fec03d10b5dd7c0869d40a', '2015-06-07 10:10:32', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 10:10:32', 'kevin', 1, 'Kevin Valle', 'LhTGGeFclQ4mlF2W48', 'semMwKYCqSDrLYkJ1S', 'f02dcf5d927ca6da42c7f2ed454e0d27cde8e129884fe1dd303f0386b0f8d3b0d05f18505d4ba1a85517da9626e5952e48a2e3b81ec046319b409402d865624c', '2015-06-07 10:10:32')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 44ms (ActiveRecord: 7.8ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f02dcf5d927ca6da42c7f2ed454e0d27cde8e129884fe1dd303f0386b0f8d3b0d05f18505d4ba1a85517da9626e5952e48a2e3b81ec046319b409402d865624c' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:10:32', `perishable_token` = 'prxq8rDZRLXs19zvdU3', `updated_at` = '2015-06-07 10:10:32' WHERE `users`.`id` = 43
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 37ms (Views: 27.7ms | ActiveRecord: 1.8ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=43" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"43"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f02dcf5d927ca6da42c7f2ed454e0d27cde8e129884fe1dd303f0386b0f8d3b0d05f18505d4ba1a85517da9626e5952e48a2e3b81ec046319b409402d865624c' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 10:10:32', `perishable_token` = 'nejVPdSpRe6Rf8kMVrNE', `updated_at` = '2015-06-07 10:10:32' WHERE `users`.`id` = 43[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 16ms (Views: 7.8ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 43 LIMIT 1[0m
Started GET "/user/edit?id=43" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"43"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f02dcf5d927ca6da42c7f2ed454e0d27cde8e129884fe1dd303f0386b0f8d3b0d05f18505d4ba1a85517da9626e5952e48a2e3b81ec046319b409402d865624c' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:10:32', `perishable_token` = '4dOoGm4TgglrcNYHTPP', `updated_at` = '2015-06-07 10:10:32' WHERE `users`.`id` = 43
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 25ms (Views: 16.5ms | ActiveRecord: 1.6ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f02dcf5d927ca6da42c7f2ed454e0d27cde8e129884fe1dd303f0386b0f8d3b0d05f18505d4ba1a85517da9626e5952e48a2e3b81ec046319b409402d865624c' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:10:32', `perishable_token` = 'lGhfFR0EQHMktoAzH', `updated_at` = '2015-06-07 10:10:32' WHERE `users`.`id` = 43
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '120652cbd4c544587cb216f6e70dc287a32b9ab1c307f61c7bab3f9b6a8361a8f84fad43cb421f68e4e40bbc6391ac4038ff8d98642bded2a62f241851cf6184' AND `users`.`id` != 43) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 43) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 43) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 43) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f02dcf5d927ca6da42c7f2ed454e0d27cde8e129884fe1dd303f0386b0f8d3b0d05f18505d4ba1a85517da9626e5952e48a2e3b81ec046319b409402d865624c' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `crypted_password` = '905f3505b3f7c8a8143a9ec70b9ab8e6c71e83a304e1051d92c74009e7fbb38742245a280270bb60cd67b5b78c4dee7313b2cd749fed79bff1204dad49dc9023', `current_login_at` = '2015-06-07 10:10:32', `last_login_at` = '2015-06-07 10:10:32', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 10:10:32', `login_count` = 2, `password_salt` = 'UDUw4Vhqmk9OzgDXXuG', `perishable_token` = 'igJ05sOuZw1lXSPqD4D', `persistence_token` = '120652cbd4c544587cb216f6e70dc287a32b9ab1c307f61c7bab3f9b6a8361a8f84fad43cb421f68e4e40bbc6391ac4038ff8d98642bded2a62f241851cf6184', `updated_at` = '2015-06-07 10:10:32' WHERE `users`.`id` = 43
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 27ms (ActiveRecord: 5.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 43 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:10:32', `perishable_token` = 'NTLwJwEIuToTNMKYlSEQ', `updated_at` = '2015-06-07 10:10:32' WHERE `users`.`id` = 43
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 15ms (Views: 5.9ms | ActiveRecord: 1.4ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:10:32', '2015-06-07 10:10:32')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (49.0ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191047[0m
  Rendered cart/_cart.html.erb (3.4ms)
Completed 200 OK in 107ms (Views: 97.3ms | ActiveRecord: 3.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191047 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (5.2ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191047
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 21ms (Views: 14.1ms | ActiveRecord: 2.1ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 12:10:32 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191047 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.7ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (9.9ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191047
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 40ms (Views: 33.8ms | ActiveRecord: 2.5ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 26ms (Views: 25.0ms | ActiveRecord: 0.3ms)
  [1m[35m (3.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:10:32', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:10:32')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 10:10:32', 980190982, 155.25, 1, '2015-06-07 10:10:32')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:10:34' WHERE `orders`.`id` = 980190982[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190982 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190982
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190982[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 10:10:34' WHERE `orders`.`id` = 980190982[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (10.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:10:34', 'Fabricante', '123321123', '2015-06-07 10:10:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:10:34', 'Fabricante2', '123321113', '2015-06-07 10:10:34')[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:10:34', 'Fabricante3', '1233211123', '2015-06-07 10:10:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (3.6ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:10:34', 'Fabricante4', '1233211123', '2015-06-07 10:10:34')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '54eac53ae30dee32a0c482219c41c2b25e5b3953b51662d3d4beb3731f9713022e33f8dff97b7628de5d66bf9be3c324e6115a1ad5c97e19567898db6848fd21' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:10:34', '5ae307cb81080b7e72e2cb619a804dea6b46670f9fd2eff1d87baa919c4b4b8807acc41ac34433ce9341d45249005d1d7b6dbc9d40847bae2e3f2b4c1818add4', '2015-06-07 10:10:34', '0.0.0.0', 'kevin@emporium.com', '2015-06-07 10:10:34', 'kevin', 1, 'Kevin Valle', 'bB2yRmcAAF5zsonU1RL', 'O9WEEFuE9LS8LGJUhEXw', '54eac53ae30dee32a0c482219c41c2b25e5b3953b51662d3d4beb3731f9713022e33f8dff97b7628de5d66bf9be3c324e6115a1ad5c97e19567898db6848fd21', '2015-06-07 10:10:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:10:34 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (4.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.8ms)
  [1m[35m (1.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'a97a6c8e6ccc0ceb08c7f4713d04fb43683593902c65f4a7e783ac5818cb59c1e99cabf2ac8659c5d627063bf31e54e5a5b46468be7e465d177f5f09ffd9dba8' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:10:34', 'bd2ab19353534568250e71e1ab6d066b6aaada56146546bc1d60bdeb8fda08feac449a91d12120833199bd6b020c9599d99346c74886b3e63bf0b0ea36c34664', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'EK4YZinZFojtFKT5J0', 'MiFyYqM1LP9MWqQZSfD', 'a97a6c8e6ccc0ceb08c7f4713d04fb43683593902c65f4a7e783ac5818cb59c1e99cabf2ac8659c5d627063bf31e54e5a5b46468be7e465d177f5f09ffd9dba8', '2015-06-07 10:10:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:10:34 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.5ms)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:17:23', '2015-06-07 10:17:23', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:17:23', '2015-06-07 10:17:23', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 10:17:23', '2015-06-07 10:17:23')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:17:23', 'Prueba', '123456789', '2015-06-07 10:17:23')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (18.5ms)
  Rendered admin/tshirt/new.html.erb within layouts/application (34.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 283ms (Views: 252.5ms | ActiveRecord: 2.5ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"83"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 83 LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 83, 30.5, 'M')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 35ms (ActiveRecord: 2.7ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 83 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (14.4ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (28.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 48ms (Views: 45.1ms | ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mTshirt Load (0.8ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 83 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (16.9ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (22.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 2.2ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1[0m
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 83 LIMIT 1[0m
  Rendered admin/tshirt/_tshirt.html.erb (14.0ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (16.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 2.0ms)
Started GET "/admin/tshirt/show?id=7" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 83 LIMIT 1
  Rendered admin/tshirt/show.html.erb within layouts/application (6.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 33ms (Views: 29.8ms | ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/edit?id=7" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.9ms)
  Rendered admin/tshirt/edit.html.erb within layouts/application (8.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 34ms (Views: 31.1ms | ActiveRecord: 1.0ms)
Started POST "/admin/tshirt/update?id=7" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"83"}, "id"=>"7"}
  [1m[36mTshirt Load (0.7ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 83 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/show?id=7
Completed 302 Found in 12ms (ActiveRecord: 2.2ms)
Started GET "/admin/tshirt/show?id=7" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 83 LIMIT 1[0m
  Rendered admin/tshirt/show.html.erb within layouts/application (3.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 31ms (Views: 27.2ms | ActiveRecord: 1.7ms)
Started POST "/admin/tshirt/destroy?id=7" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"7"}
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `tshirts` WHERE `tshirts`.`id` = 7[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.7ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (12.3ms)
  Rendered admin/tshirt/index.html.erb within layouts/application (15.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 1.5ms)
  [1m[36m (10.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'c07036a65c5c1d7f8d7b9c44bcdfd79bcf13609aedb3c64839b4fa6f2c628a1748886e0661fe07c90a8896bf0846a412b16b3e0cc5fc3debea653c82dc91ea14' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:17:23', '9bd59e3abdedb3ce9d54018b2af9f84539d1dbd9a0a326c0692852b6d7b64201ad6734c29e16784f73144cb7f1a137411a2b4f59661716f896f6e0a83d4ead7b', 'kevin@emporium.com', 'kevin', 'Kevin Valle', '5lH1XzsqlbDlBNebCujU', 'sL2kGyxNzr1FiGXg1L', 'c07036a65c5c1d7f8d7b9c44bcdfd79bcf13609aedb3c64839b4fa6f2c628a1748886e0661fe07c90a8896bf0846a412b16b3e0cc5fc3debea653c82dc91ea14', '2015-06-07 10:17:23')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 1.1ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'b60dfeb7a822d31c289a602472491e7a5598d1bd184a6375faa70a61c9b5f93250f37320c6d3135a14bd05122f3013ed4c6374b8ba7dfd8046b471275c1c2d90' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:17:23', '39ed3a690d7a0eb4d2dea521dd76816ded96865355eaa09668ccd10ce227273c8cd9015bac6ee9d780a230bde7098d39efb6f531432379aeb475f08c17016411', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'T9pm8Pj0kiE5IfNS98OF', '1zaUCNnwpi82PIPodwCM', 'b60dfeb7a822d31c289a602472491e7a5598d1bd184a6375faa70a61c9b5f93250f37320c6d3135a14bd05122f3013ed4c6374b8ba7dfd8046b471275c1c2d90', '2015-06-07 10:17:23')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (2.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (5.6ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 43ms (Views: 39.5ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 12:17:23 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'c860deb5cc1571fffafaf757961183066edc8d0509a909249f3755d69cf6703af7bfb478f3778fda35d05f3d20ec6d8001a97b430526c0383064f166c465c0a8' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:17:24', '29a08bfbd00aed48c5d57cf2a91e96bc604f9dc736a64092d87b75843804ab59e4e7ed941d39639a6fa7c15de5d3c126a01b7e4f9a26ee8c6dd0807869e45183', '2015-06-07 10:17:24', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 10:17:24', 'kevin', 1, 'Kevin Valle', 'ZibHAMZbxM87cY0TbtgO', 'KMtEL2Nqdp5lsGjU9bT', 'c860deb5cc1571fffafaf757961183066edc8d0509a909249f3755d69cf6703af7bfb478f3778fda35d05f3d20ec6d8001a97b430526c0383064f166c465c0a8', '2015-06-07 10:17:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 23ms (ActiveRecord: 4.0ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'c860deb5cc1571fffafaf757961183066edc8d0509a909249f3755d69cf6703af7bfb478f3778fda35d05f3d20ec6d8001a97b430526c0383064f166c465c0a8' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:17:24', `perishable_token` = 'xNXGqkihABRbZYR0kp', `updated_at` = '2015-06-07 10:17:24' WHERE `users`.`id` = 48
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 26ms (Views: 15.4ms | ActiveRecord: 1.8ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=48" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"48"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'c860deb5cc1571fffafaf757961183066edc8d0509a909249f3755d69cf6703af7bfb478f3778fda35d05f3d20ec6d8001a97b430526c0383064f166c465c0a8' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 10:17:24', `perishable_token` = 'no9N8MIe6f1x2gRW9Ix', `updated_at` = '2015-06-07 10:17:24' WHERE `users`.`id` = 48[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 14ms (Views: 5.5ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 48 LIMIT 1[0m
Started GET "/user/edit?id=48" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"48"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'c860deb5cc1571fffafaf757961183066edc8d0509a909249f3755d69cf6703af7bfb478f3778fda35d05f3d20ec6d8001a97b430526c0383064f166c465c0a8' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:17:24', `perishable_token` = 'IRI3mSAgMOEMG7aE0U', `updated_at` = '2015-06-07 10:17:24' WHERE `users`.`id` = 48
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 26ms (Views: 16.3ms | ActiveRecord: 2.8ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'c860deb5cc1571fffafaf757961183066edc8d0509a909249f3755d69cf6703af7bfb478f3778fda35d05f3d20ec6d8001a97b430526c0383064f166c465c0a8' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:17:24', `perishable_token` = 't3vHBvsdJqZmrac3Hsep', `updated_at` = '2015-06-07 10:17:24' WHERE `users`.`id` = 48
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '527b283296c2c904b911720c83a9d7756ee71cd47a7f4ee7bdfb2c73e796f4bd84647fba5eff99efac26df6674d42358950e479f8ac5b141b88d4725753b27d5' AND `users`.`id` != 48) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 48) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 48) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 48) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'c860deb5cc1571fffafaf757961183066edc8d0509a909249f3755d69cf6703af7bfb478f3778fda35d05f3d20ec6d8001a97b430526c0383064f166c465c0a8' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `crypted_password` = 'd6e8c3462d7a57cfd5f9abc14dae4f80bfcc0104224dacb48948907aa456638fccbaf8561169a4ec5daa7ea271d0b3007563920a99d1c279945f7892724cf4a9', `current_login_at` = '2015-06-07 10:17:24', `last_login_at` = '2015-06-07 10:17:24', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 10:17:24', `login_count` = 2, `password_salt` = 'PJzLyxG6UbXVoACeirZN', `perishable_token` = 'Hv93YyIn3YDHQO8WPBdy', `persistence_token` = '527b283296c2c904b911720c83a9d7756ee71cd47a7f4ee7bdfb2c73e796f4bd84647fba5eff99efac26df6674d42358950e479f8ac5b141b88d4725753b27d5', `updated_at` = '2015-06-07 10:17:24' WHERE `users`.`id` = 48
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 26ms (ActiveRecord: 5.3ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 48 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:17:24', `perishable_token` = 'ad2HA0w3kNGatS5eNz4', `updated_at` = '2015-06-07 10:17:24' WHERE `users`.`id` = 48
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 5.1ms | ActiveRecord: 1.5ms)
  [1m[35m (2.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:17:24', '2015-06-07 10:17:24')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191048 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 70ms (ActiveRecord: 4.7ms)
  [1m[35m (3.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:17:24', '2015-06-07 10:17:24')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191049 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191049, '2015-06-07 10:17:24', 2.5, 1, '2015-06-07 10:17:24')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 37ms (ActiveRecord: 2.6ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191049 LIMIT 1
  [1m[36mTshirt Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191049 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (1.0ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191049[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.8ms)
  Rendered cart/_cart.html.erb (27.2ms)
Completed 200 OK in 105ms (Views: 98.0ms | ActiveRecord: 2.2ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 12:17:24 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191049"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191049 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191049[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:17:24', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:17:24')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 10:17:24', 980190983, 2.5, 1, '2015-06-07 10:17:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:17:31' WHERE `orders`.`id` = 980190983[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191018
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 6962ms (ActiveRecord: 6.4ms)
  [1m[35m (14.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (2.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20", "tshirt_image"=>"camiseta.png"}}
Unpermitted parameters: tshirt_image
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 7ms (Views: 11.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (8.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 33ms (Views: 25.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (4.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (3.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 42ms (Views: 41.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:17:31', 'Kevinva', '123456789', '2015-06-07 10:17:31')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 9ms (Views: 41.0ms | ActiveRecord: 1.7ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 27ms (Views: 22.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (2.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 33ms (Views: 32.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.4ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-07 10:17:31' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 15ms (ActiveRecord: 1.5ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (1.5ms)[0m  [1mBEGIN[0m
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:17:31', 'Fabricante', '123321123', '2015-06-07 10:17:31')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:17:31', 'Fabricante2', '123321113', '2015-06-07 10:17:31')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:17:31', 'Fabricante3', '1233211123', '2015-06-07 10:17:31')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:17:31', 'Fabricante4', '1233211123', '2015-06-07 10:17:31')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 12:17:31 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:17:32', '2015-06-07 10:17:32')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (26.4ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (1.0ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191050[0m
  Rendered cart/_cart.html.erb (3.8ms)
Completed 200 OK in 78ms (Views: 64.6ms | ActiveRecord: 3.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 12:17:32 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191050 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (5.6ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191050
  Rendered cart/_cart.html.erb (2.8ms)
Completed 200 OK in 24ms (Views: 16.8ms | ActiveRecord: 2.3ms)
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 12:17:32 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191050 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.7ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (7.3ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191050
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 39ms (Views: 31.6ms | ActiveRecord: 2.5ms)
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 28ms (Views: 27.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:17:32', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:17:32')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 10:17:32', 980190984, 155.25, 1, '2015-06-07 10:17:32')
  [1m[36m (1.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:18:39', '2015-06-07 10:18:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:18:39', '2015-06-07 10:18:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (3.8ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 10:18:39', '2015-06-07 10:18:39')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (9.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (7.0ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (24.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 242ms (Views: 239.2ms | ActiveRecord: 2.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva", "telephone"=>"123456789"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:18:39', 'Kevinva', '123456789', '2015-06-07 10:18:39')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (Views: 239.2ms | ActiveRecord: 3.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (10.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 26ms (Views: 21.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/manufacturer/_form.html.erb (1.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 17ms (Views: 11.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 36ms (Views: 34.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.6ms)
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/index
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (9.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'OtroNombre', `updated_at` = '2015-06-07 10:18:40' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:18:40 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:18:40', '2015-06-07 10:18:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191051 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 133ms (ActiveRecord: 4.9ms)
  [1m[35m (5.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 12:18:40 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:18:40', '2015-06-07 10:18:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191052 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191052, '2015-06-07 10:18:40', 2.5, 1, '2015-06-07 10:18:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 60ms (ActiveRecord: 3.2ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:18:40 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191052 LIMIT 1
  [1m[36mTshirt Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191052 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.7ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191052[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.8ms)
  Rendered cart/_cart.html.erb (22.0ms)
Completed 200 OK in 87ms (Views: 78.5ms | ActiveRecord: 2.2ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 12:18:40 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191052"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191052 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191052[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:18:40', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:18:40')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 10:18:40', 980190985, 2.5, 1, '2015-06-07 10:18:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:18:42' WHERE `orders`.`id` = 980190985[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191019
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1699ms (ActiveRecord: 11.2ms)
  [1m[35m (11.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:18:42', 'Fabricante', '123321123', '2015-06-07 10:18:42')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:18:42', 'Fabricante2', '123321113', '2015-06-07 10:18:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:18:42', 'Fabricante3', '1233211123', '2015-06-07 10:18:42')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:18:42', 'Fabricante4', '1233211123', '2015-06-07 10:18:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (2.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (30.7ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 81ms (Views: 74.0ms | ActiveRecord: 2.3ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'f077e9dccc965a29efa5add8c6ccb7c9a8d25655cd34552a16b1c6a7e75de8b982fe41449e2025f344cb7e41cbcd9ea0886e674b672e48b4c2efb2066d1e68d1' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:18:42', 'e1581caca944b0deba24b77e8db1971aa5ddb351a6c4e9835aa755de4a335a2efc628646f4e67f52348b82445dcc169d60935d2f783e3577af1dd814a222c3d0', '2015-06-07 10:18:42', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 10:18:42', 'kevin', 1, 'Kevin Valle', '55x9KrfNeYlLJwAou323', 'L0UJmmGaggcdQki5e6P', 'f077e9dccc965a29efa5add8c6ccb7c9a8d25655cd34552a16b1c6a7e75de8b982fe41449e2025f344cb7e41cbcd9ea0886e674b672e48b4c2efb2066d1e68d1', '2015-06-07 10:18:42')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 30ms (ActiveRecord: 4.7ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f077e9dccc965a29efa5add8c6ccb7c9a8d25655cd34552a16b1c6a7e75de8b982fe41449e2025f344cb7e41cbcd9ea0886e674b672e48b4c2efb2066d1e68d1' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:18:42', `perishable_token` = 'LevxNNZIBGRem8xPIwb', `updated_at` = '2015-06-07 10:18:42' WHERE `users`.`id` = 49
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 27ms (Views: 14.3ms | ActiveRecord: 2.6ms)
  [1m[35mUser Load (0.8ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=49" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"49"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f077e9dccc965a29efa5add8c6ccb7c9a8d25655cd34552a16b1c6a7e75de8b982fe41449e2025f344cb7e41cbcd9ea0886e674b672e48b4c2efb2066d1e68d1' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 10:18:42', `perishable_token` = 'zYVU7CgTfhQPT4XMZFSY', `updated_at` = '2015-06-07 10:18:42' WHERE `users`.`id` = 49[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 15ms (Views: 6.2ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 49 LIMIT 1[0m
Started GET "/user/edit?id=49" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"49"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f077e9dccc965a29efa5add8c6ccb7c9a8d25655cd34552a16b1c6a7e75de8b982fe41449e2025f344cb7e41cbcd9ea0886e674b672e48b4c2efb2066d1e68d1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:18:42', `perishable_token` = 'nmcccublFuZhBT1GSBzC', `updated_at` = '2015-06-07 10:18:42' WHERE `users`.`id` = 49
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 30ms (Views: 19.2ms | ActiveRecord: 2.3ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f077e9dccc965a29efa5add8c6ccb7c9a8d25655cd34552a16b1c6a7e75de8b982fe41449e2025f344cb7e41cbcd9ea0886e674b672e48b4c2efb2066d1e68d1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:18:42', `perishable_token` = 'UPjfyNhAjIwxbA7JUxPO', `updated_at` = '2015-06-07 10:18:42' WHERE `users`.`id` = 49
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '9eea33a702a9d3f83468beae1dde963df0cf8282b6d018db4cd43592180cf38d613ac05d85a6c754d1c8fdb1a9881ee4ddaeaaaacff78a52590ec8dc3aab16e8' AND `users`.`id` != 49) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 49) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 49) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 49) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = 'f077e9dccc965a29efa5add8c6ccb7c9a8d25655cd34552a16b1c6a7e75de8b982fe41449e2025f344cb7e41cbcd9ea0886e674b672e48b4c2efb2066d1e68d1' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `crypted_password` = 'ce7c0ff24d1c14b0734e7481e1e24e3a21290a8f0e606a74969a039ebe449a8b60087b3915ab6142d4733c2b6d407b8f8d44aa77508a8a496ed89ebf81032e26', `current_login_at` = '2015-06-07 10:18:42', `last_login_at` = '2015-06-07 10:18:42', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 10:18:42', `login_count` = 2, `password_salt` = 'CIgj38MFGYQgtPUwp5GZ', `perishable_token` = 'ICn3ZxfKFBteVHB7WTcr', `persistence_token` = '9eea33a702a9d3f83468beae1dde963df0cf8282b6d018db4cd43592180cf38d613ac05d85a6c754d1c8fdb1a9881ee4ddaeaaaacff78a52590ec8dc3aab16e8', `updated_at` = '2015-06-07 10:18:42' WHERE `users`.`id` = 49
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 42ms (ActiveRecord: 5.2ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 49 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.6ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:18:42', `perishable_token` = 'DAGGBNdwdLCsIOEqoB4', `updated_at` = '2015-06-07 10:18:42' WHERE `users`.`id` = 49
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 32ms (Views: 12.7ms | ActiveRecord: 10.8ms)
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '909e543a75ffbc4c72d88f511d7870c17501a74a4376670c9bcdf10a36d83f7239c5f01539b2056e66d4b1b7dfddb08197b62bb04d39e885a58e76eff8dffd07' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:18:42', '527f3c3f9b1884b3cbadc2c0b13345258c930e90a08f7f1ca0b704d9d0c06becf4e20085275196828dc377a8bfcc0d9f2ebe012b07d6d7c3d21f5534fdf0048e', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'jPffB85P14EQAZbDSM7H', 'E6DqrkazxdLnbAyzR4x', '909e543a75ffbc4c72d88f511d7870c17501a74a4376670c9bcdf10a36d83f7239c5f01539b2056e66d4b1b7dfddb08197b62bb04d39e885a58e76eff8dffd07', '2015-06-07 10:18:42')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (16.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 55ms (Views: 51.3ms | ActiveRecord: 1.1ms)
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '61f9f6ac387b31f270021a1a5d5ffafc00e2f14361bba87bb019b3e683e76094e7a054b2225491d991978c7a95e110762688195ab7ad2952dff7e2993e98e807' LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:18:42', '679cbfb49e5bd90d68a395bd77df325e298ed073a2d90c33fbe4c51f4cbc6e7a9b295daa91253bcc5a9a4f7cd8d0214ef1862eddfc4c952f3aa6d1cc93e6c70e', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'tFRcfbCpi0QPY2rGHaC', 'mABoJxGaO7DPxatsUaT', '61f9f6ac387b31f270021a1a5d5ffafc00e2f14361bba87bb019b3e683e76094e7a054b2225491d991978c7a95e110762688195ab7ad2952dff7e2993e98e807', '2015-06-07 10:18:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:18:42 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (3.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.6ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:18:42', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:18:42')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 10:18:42', 980190986, 155.25, 1, '2015-06-07 10:18:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:18:44' WHERE `orders`.`id` = 980190986
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190986 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190986[0m
  [1m[35mOrderItem Load (0.5ms)[0m  SELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190986
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 10:18:44' WHERE `orders`.`id` = 980190986
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:18:44', '2015-06-07 10:18:44')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (4.8ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191053 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191053, '2015-06-07 10:18:44', 2.5, 4, '2015-06-07 10:18:44')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 26ms (ActiveRecord: 6.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191053 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191053[0m
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:18:44', '2015-06-07 10:18:44')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (2.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191054 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191054, '2015-06-07 10:18:44', 2.5, 4, '2015-06-07 10:18:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 32ms (ActiveRecord: 5.6ms)
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191054 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191054
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191054 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191054
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191021
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191054 LIMIT 1
  [1m[36mTshirt Load (1.0ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191054[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:18:44', '2015-06-07 10:18:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191055 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191055, '2015-06-07 10:18:44', 2.5, 4, '2015-06-07 10:18:44')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.2ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.9ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191055 LIMIT 1[0m
  [1m[35mTshirt Load (0.6ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191055
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (1.2ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191055 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191055 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191022 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191022
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 17ms (ActiveRecord: 3.4ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191055 LIMIT 1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191055
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:18:44', 'Prueba', '123456789', '2015-06-07 10:18:44')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:18:44 +0200
Processing by Admin::TshirtController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (4.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.7ms)
Started POST "/admin/tshirt/create" for 127.0.0.1 at 2015-06-07 12:18:44 +0200
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"price"=>"30.5", "size"=>"M", "country"=>"Spain", "club"=>"Real Madrid", "manufacturer_id"=>"94"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 94 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Real Madrid', 'Spain', 94, 30.5, 'M')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-07 12:18:44 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 94 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (37.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 70ms (Views: 66.2ms | ActiveRecord: 2.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Started GET "/admin/tshirt/index/?page=2" for 127.0.0.1 at 2015-06-07 12:18:44 +0200
Processing by Admin::TshirtController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 94 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (16.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 2.2ms)
  [1m[35mTshirt Load (0.6ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Real Madrid' LIMIT 1
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 94 LIMIT 1
  Rendered admin/tshirt/_tshirt.html.erb (14.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 2.1ms)
Started GET "/admin/tshirt/show?id=9" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 94 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 44ms (Views: 41.1ms | ActiveRecord: 1.5ms)
Started GET "/admin/tshirt/edit?id=9" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by Admin::TshirtController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 25ms (Views: 21.5ms | ActiveRecord: 1.4ms)
Started POST "/admin/tshirt/update?id=9" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by Admin::TshirtController#update as HTML
  Parameters: {"tshirt"=>{"price"=>"10.5", "size"=>"L", "country"=>"Spain", "club"=>"Barcelona", "manufacturer_id"=>"94"}, "id"=>"9"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 94 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `tshirts` SET `club` = 'Barcelona', `price` = 10.5, `size` = 'L' WHERE `tshirts`.`id` = 9[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/show?id=9
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)
Started GET "/admin/tshirt/show?id=9" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by Admin::TshirtController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 94 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 1.6ms)
Started POST "/admin/tshirt/destroy?id=9" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by Admin::TshirtController#destroy as HTML
  Parameters: {"id"=>"9"}
  [1m[35mTshirt Load (0.5ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `tshirts` WHERE `tshirts`.`id` = 9
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/tshirt/index
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
Started GET "/admin/tshirt/index" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by Admin::TshirtController#index as HTML
  [1m[35mTshirt Load (0.4ms)[0m  SELECT `tshirts`.* FROM `tshirts`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/tshirt/_tshirt.html.erb (12.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 1.3ms)
  [1m[35m (10.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"manufacturer_id"=>"1", "size"=>"L", "country"=>"Spain", "club"=>"Madrid", "price"=>"20", "tshirt_image"=>"camiseta.png"}}
Unpermitted parameters: tshirt_image
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tshirts` (`club`, `country`, `manufacturer_id`, `price`, `size`) VALUES ('Madrid', 'Spain', 1, 20.0, 'L')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/tshirt/index
Completed 302 Found in 7ms (Views: 11.2ms | ActiveRecord: 1.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `tshirts`
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/tshirt/_form.html.erb (8.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 22ms (Views: 14.9ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/tshirt/_form.html.erb (3.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:18:45', '2015-06-07 10:18:45')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (29.1ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (1.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191056[0m
  Rendered cart/_cart.html.erb (4.5ms)
Completed 200 OK in 83ms (Views: 73.8ms | ActiveRecord: 3.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191056 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (4.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191056
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 19ms (Views: 12.6ms | ActiveRecord: 2.0ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 12:18:45 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (1.7ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191056 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (6.6ms)
ApplicationController::current_user
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191056
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 33ms (Views: 26.0ms | ActiveRecord: 3.7ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:19:39', '2015-06-07 10:19:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2015-06-07 10:19:39', '2015-06-07 10:19:39', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `telephone`, `created_at`, `updated_at`) VALUES (1, 'Kevinva', '123456789', '2015-06-07 10:19:39', '2015-06-07 10:19:39')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `tshirts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (1, 'L', 'Madrid', 'Spain', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (2, 'S', 'Barcelona', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (3, 'XXL', 'Paterna', 'Mexico', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (4, 'L', 'Cadiz', 'Spain', 2.5, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (5, 'S', 'Mentira', 'Imaginacion', 2.5, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `tshirts` (`id`, `size`, `club`, `country`, `price`, `manufacturer_id`) VALUES (6, 'SL', 'Mentiras', 'Imaginacion', 2.5, 1)
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (3.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 261ms (Views: 257.7ms | ActiveRecord: 2.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:19:39', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle de Miguel', 'Paterna', 'ES', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:19:39')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (3, '2015-06-07 10:19:39', 980190987, 155.25, 1, '2015-06-07 10:19:39')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:19:41' WHERE `orders`.`id` = 980190987
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.7ms)[0m  SELECT  `orders`.* FROM `orders`  WHERE `orders`.`id` = 980190987 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `order_items`  WHERE `order_items`.`order_id` = 980190987[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT `order_items`.* FROM `order_items`  WHERE `order_items`.`order_id` = 980190987
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2015-06-07 10:19:41' WHERE `orders`.`id` = 980190987
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::ManufacturerControllerTest: test_failing_create
------------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"Kevinva"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::ManufacturerControllerTest: test_test_destroy
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"OtroNombre", "telephone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:19:41', '2015-06-07 10:19:41')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mTshirt Load (0.2ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191057 AND `cart_items`.`tshirt_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191057, '2015-06-07 10:19:41', 2.5, 4, '2015-06-07 10:19:41')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.4ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 83ms (ActiveRecord: 4.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191057 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191057[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:19:41', '2015-06-07 10:19:41')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191058 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191058, '2015-06-07 10:19:41', 2.5, 4, '2015-06-07 10:19:41')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 18ms (ActiveRecord: 3.3ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191058 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191058
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191058 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191058
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191024
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191058 LIMIT 1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191058[0m
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:19:41', '2015-06-07 10:19:41')[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.3ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191059 AND `cart_items`.`tshirt_id` = 4[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191059, '2015-06-07 10:19:41', 2.5, 4, '2015-06-07 10:19:41')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 18ms (ActiveRecord: 3.8ms)
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.9ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191059 LIMIT 1[0m
  [1m[35mTshirt Load (6.0ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191059
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191059 LIMIT 1[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191059 AND `cart_items`.`tshirt_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.9ms)[0m  SELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`id` = 980191025 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191025
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTshirt Load (0.2ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 3.4ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191059 LIMIT 1[0m
  [1m[35mTshirt Load (0.5ms)[0m  SELECT `tshirts`.* FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191059
  [1m[36m (1.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2015-06-07 12:19:41 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (29.1ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 138ms (Views: 91.9ms | ActiveRecord: 0.5ms)
Started POST "/user/create" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY '344264956e6315187222bac45cf2625ebfa54c30b6e5aa30406d899a155859b51eca640523792af24be36be9599c44a584cf2b310aa3fb5b6771be28bd7261a8' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:19:42', 'b124c30ea1bdaa9201d70ebf24c3983a49d657a7d66c1222659e102baa97ed478b716d1482e00fd6728e52c71523f44fc60e14bd1dacae6cdbc4060b2d63e020', '2015-06-07 10:19:42', '127.0.0.1', 'kevin@emporium.com', '2015-06-07 10:19:42', 'kevin', 1, 'Kevin Valle', 'cIwAkDTE8qH7dHtJOxQ', 'kRJ7bWVtNKdIKZ7A2jOv', '344264956e6315187222bac45cf2625ebfa54c30b6e5aa30406d899a155859b51eca640523792af24be36be9599c44a584cf2b310aa3fb5b6771be28bd7261a8', '2015-06-07 10:19:42')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 33ms (ActiveRecord: 4.0ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '344264956e6315187222bac45cf2625ebfa54c30b6e5aa30406d899a155859b51eca640523792af24be36be9599c44a584cf2b310aa3fb5b6771be28bd7261a8' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:19:42', `perishable_token` = 'eHA3JcvsdxAAeJNcnFT', `updated_at` = '2015-06-07 10:19:42' WHERE `users`.`id` = 52
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 37ms (Views: 26.9ms | ActiveRecord: 1.7ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
Started GET "/user/show/?id=52" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"52"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '344264956e6315187222bac45cf2625ebfa54c30b6e5aa30406d899a155859b51eca640523792af24be36be9599c44a584cf2b310aa3fb5b6771be28bd7261a8' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2015-06-07 10:19:42', `perishable_token` = 'nFlufgCkdXA2HZ1nP4r', `updated_at` = '2015-06-07 10:19:42' WHERE `users`.`id` = 52[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 17ms (Views: 8.6ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 52 LIMIT 1[0m
Started GET "/user/edit?id=52" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"52"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '344264956e6315187222bac45cf2625ebfa54c30b6e5aa30406d899a155859b51eca640523792af24be36be9599c44a584cf2b310aa3fb5b6771be28bd7261a8' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:19:42', `perishable_token` = 'Ly25QWrQPNTUhUxlFSvJ', `updated_at` = '2015-06-07 10:19:42' WHERE `users`.`id` = 52
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 24ms (Views: 16.2ms | ActiveRecord: 1.5ms)
Started POST "/user/update" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"Kevin Valle", "login"=>"kevin", "email"=>"kevin@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (1.2ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '344264956e6315187222bac45cf2625ebfa54c30b6e5aa30406d899a155859b51eca640523792af24be36be9599c44a584cf2b310aa3fb5b6771be28bd7261a8' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:19:42', `perishable_token` = 'Xf1UFwcs1AFA3HUUJ', `updated_at` = '2015-06-07 10:19:42' WHERE `users`.`id` = 52
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`persistence_token` = BINARY '04c224d2c170259dd9672af1c04b91d45812bdffd9d0d379ebc34b99963ccd66b32fadaf12e06f700ced78dc299c7fc9d7570a8291e3ee18262e91fa2c486a9a' AND `users`.`id` != 52) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`name` = BINARY 'Kevin Valle' AND `users`.`id` != 52) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE (`users`.`login` = BINARY 'kevin' AND `users`.`id` != 52) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'kevin@emporium.com' AND `users`.`id` != 52) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`persistence_token` = '344264956e6315187222bac45cf2625ebfa54c30b6e5aa30406d899a155859b51eca640523792af24be36be9599c44a584cf2b310aa3fb5b6771be28bd7261a8' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `crypted_password` = 'c57e0cba0d316b677f29b4cc7b4dd45fad6e14893f47b3decb85161c476cc5da90ed8514ae4f1a5d2822936264fedf4be57663adae05e4e607642182611c38ba', `current_login_at` = '2015-06-07 10:19:42', `last_login_at` = '2015-06-07 10:19:42', `last_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 10:19:42', `login_count` = 2, `password_salt` = 'kcR56MfrLU2vlCIsZETk', `perishable_token` = 'viY2wyACd42kXPvssRSc', `persistence_token` = '04c224d2c170259dd9672af1c04b91d45812bdffd9d0d379ebc34b99963ccd66b32fadaf12e06f700ced78dc299c7fc9d7570a8291e3ee18262e91fa2c486a9a', `updated_at` = '2015-06-07 10:19:42' WHERE `users`.`id` = 52
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 28ms (ActiveRecord: 5.9ms)
Started GET "/user/show" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 52 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2015-06-07 10:19:42', `perishable_token` = 'qVG18Ka3w78iupGYp5v', `updated_at` = '2015-06-07 10:19:42' WHERE `users`.`id` = 52
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 15ms (Views: 5.7ms | ActiveRecord: 2.0ms)
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:19:42', '2015-06-07 10:19:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191060 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 2.5ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:19:42', '2015-06-07 10:19:42')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191061 AND `cart_items`.`tshirt_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `tshirt_id`, `updated_at`) VALUES (1, 980191061, '2015-06-07 10:19:42', 2.5, 1, '2015-06-07 10:19:42')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTshirt Load (0.6ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 2.4ms)
Started GET "/checkout" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.9ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191061 LIMIT 1
  [1m[36mTshirt Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tshirts` INNER JOIN `cart_items` ON `tshirts`.`id` = `cart_items`.`tshirt_id` WHERE `cart_items`.`cart_id` = 980191061 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (1.3ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191061[0m
  [1m[35mTshirt Load (0.3ms)[0m  SELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (2.1ms)
  Rendered cart/_cart.html.erb (28.8ms)
Completed 200 OK in 114ms (Views: 104.4ms | ActiveRecord: 2.9ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`   ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2015-06-07 12:19:42 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191061"}, "order"=>{"email"=>"kevin@email.com", "phone_number"=>"123456789", "ship_to_first_name"=>"Troli", "ship_to_last_name"=>"Perez", "ship_to_address"=>"Calle del Campo", "ship_to_city"=>"Paterna", "ship_to_postal_code"=>"123456", "ship_to_country_code"=>"Spain", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191061 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191061[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2015-06-07 10:19:42', '127.0.0.1', 'kevin@email.com', '123456789', 'Calle del Campo', 'Paterna', 'SPAIN', 'Troli', 'Perez', '123456', 'open', '2015-06-07 10:19:42')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `tshirt_id`, `updated_at`) VALUES (1, '2015-06-07 10:19:42', 980190988, 2.5, 1, '2015-06-07 10:19:42')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2015-06-07 10:19:44' WHERE `orders`.`id` = 980190988[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191026
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1675ms (ActiveRecord: 5.3ms)
  [1m[35m (9.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
TshirtTest: test_belongs_to_mapping
-----------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
TshirtTest: test_validates_presence_of_club
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
TshirtTest: test_validates_presence_of_country
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TshirtTest: test_validates_presence_of_manufacturer
---------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
TshirtTest: test_validates_presence_of_size
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
TshirtIntegrationTest: test_tshirt_administration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:19:44', 'Prueba', '123456789', '2015-06-07 10:19:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`   ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:19:44 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (2.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::TshirtControllerTest: test_create
----------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::TshirtControllerTest: test_failing_create
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
Processing by Admin::TshirtController#create as HTML
  Parameters: {"tshirt"=>{"size"=>"L"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
Admin::TshirtControllerTest: test_new
-------------------------------------
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
CatalogTest: test_browse
------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2015-06-07 12:19:44 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2015-06-07 10:19:44', '2015-06-07 10:19:44')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `tshirts`[0m
  Rendered catalog/_tshirts.html.erb (29.3ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191062[0m
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 74ms (Views: 61.3ms | ActiveRecord: 2.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2015-06-07 12:19:44 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191062 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.5ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (4.4ms)
ApplicationController::current_user
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191062
  Rendered cart/_cart.html.erb (2.5ms)
Completed 200 OK in 22ms (Views: 15.0ms | ActiveRecord: 2.5ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`  WHERE `tshirts`.`club` = 'Madrid' LIMIT 1[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2015-06-07 12:19:44 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 980191062 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mTshirt Load (0.7ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  Rendered catalog/_tshirts.html.erb (8.2ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 980191062
  Rendered cart/_cart.html.erb (2.1ms)
Completed 200 OK in 41ms (Views: 34.5ms | ActiveRecord: 2.4ms)
  [1m[36mTshirt Load (0.4ms)[0m  [1mSELECT  `tshirts`.* FROM `tshirts`   ORDER BY tshirts.id desc LIMIT 5[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`  WHERE `manufacturers`.`id` IN (1)
  [1m[36m (2.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'dac6e5229352dfe30599ffba0dd32bb85fe8acee2a95bf8c28b3b93ebe016d43f40bc3014f09eda5f3efa9f42ce2508fc006defc6bfd0afbef643b78e0a99cf8' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:19:44', '3fef5f69e6ba26473454028a627ac7a7784790c8ae23e726f253a90997772a26c11844b6003526f3bf2aa6b1d41766d414826fb5a4f5a947ac292e160b67ed94', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'lEiCwMQTFefmUC4cLBH', 'emlA7jx8aYBiIEssWCj', 'dac6e5229352dfe30599ffba0dd32bb85fe8acee2a95bf8c28b3b93ebe016d43f40bc3014f09eda5f3efa9f42ce2508fc006defc6bfd0afbef643b78e0a99cf8', '2015-06-07 10:19:44')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:19:44 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 12:19:44 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"troli", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'troli'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (10.4ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 50ms (Views: 43.5ms | ActiveRecord: 0.9ms)
  [1m[35m (1.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'kevin@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`login` = 'kevin' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`persistence_token` = BINARY 'b1f6200c06d35f424914a556f589818c135116b9346c93e5e85849ada24a3da976476501fc2e665b63e95a12d272a9c53506efe845aaf26e89392b4e3166afb4' LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`name` = BINARY 'Kevin Valle' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`login` = BINARY 'kevin' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = BINARY 'kevin@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `email`, `login`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `updated_at`) VALUES ('2015-06-07 10:19:44', '80598df2cd3f61a9093c98f86421bce381b4f76bfaf95821f68944d54f1a1ec3c5f83b140c2039bbbe3dea94ea4bdb3b6fdef6fef3c6aad1e4afb5188ad3c826', 'kevin@emporium.com', 'kevin', 'Kevin Valle', 'ANemyRvMb8HQwnqXFoPd', 'ndzbV5O2jusqjbRMLi8', 'b1f6200c06d35f424914a556f589818c135116b9346c93e5e85849ada24a3da976476501fc2e665b63e95a12d272a9c53506efe845aaf26e89392b4e3166afb4', '2015-06-07 10:19:44')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/tshirt/new" for 127.0.0.1 at 2015-06-07 12:19:44 +0200
Processing by Admin::TshirtController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2015-06-07 12:19:44 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"kevin", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`login` = 'kevin'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `current_login_at` = '2015-06-07 10:19:44', `current_login_ip` = '127.0.0.1', `last_request_at` = '2015-06-07 10:19:44', `login_count` = 1, `perishable_token` = '3ALCp1SPujnllgRt847I', `updated_at` = '2015-06-07 10:19:44' WHERE `users`.`id` = 54[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/tshirt/new
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
  [1m[36m (1.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
ManufacturerTest: test_test_name
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:19:44', 'Fabricante', '123321123', '2015-06-07 10:19:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_test_telephone
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:19:44', 'Fabricante2', '123321113', '2015-06-07 10:19:44')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ManufacturerTest: test_validates_presence_of_name
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:19:44', 'Fabricante3', '1233211123', '2015-06-07 10:19:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ManufacturerTest: test_validates_presence_of_telephone
------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `name`, `telephone`, `updated_at`) VALUES ('2015-06-07 10:19:44', 'Fabricante4', '1233211123', '2015-06-07 10:19:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mROLLBACK[0m
